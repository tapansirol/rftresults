!function(t){var e=window.webpackJsonp;window.webpackJsonp=function(n,r,o){for(var s,a,u=0,l=[];u<n.length;u++)a=n[u],i[a]&&l.push(i[a][0]),i[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);for(e&&e(n,r,o);l.length;)l.shift()()};var n={},i={15:0};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=i[t];if(0===e)return new Promise(function(t){t()});if(e)return e[2];var n=new Promise(function(n,r){e=i[t]=[n,r]});e[2]=n;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,r.nc&&s.setAttribute("nonce",r.nc),s.src=r.p+"res/wa"+({}[t]||t)+".js";var a=setTimeout(u,12e4);function u(){s.onerror=s.onload=null,clearTimeout(a);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}return s.onerror=s.onload=u,o.appendChild(s),n},r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t},r(r.s=142)}([function(t,e,n){(function(n,i){var r,o,s,a,u,l,c,h,d,p,f,g,m,v,y,_,b,C,x,w;!function(n){var o="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:{};function s(t,e){return t!==o&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=e?e(n,i):i}}void 0===(r=function(t){n(s(o,s(t)))}.apply(e,[e]))||(t.exports=r)}(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};o=function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},u=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t,e){return function(n,i){e(n,i,t)}},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t,e,i,r){return new(i||(i=n))(function(n,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},d=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},f=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t},v=function(t){return this instanceof v?(this.v=t,this):new v(t)},y=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(t,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new n(function(n,i){s.push([t,e,n,i])>1||u(t,e)})})}function u(t,e){try{(i=o[t](e)).value instanceof v?n.resolve(i.value.v).then(l,c):h(s[0][2],i)}catch(t){h(s[0][3],t)}var i}function l(t){u("next",t)}function c(t){u("throw",t)}function h(t,e){t(e),s.shift(),s.length&&u(s[0][0],s[0][1])}},_=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){t[i]&&(e[i]=function(e){return(n=!n)?{value:v(t[i](e)),done:"return"===i}:r?r(e):e})}},b=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof f?f(t):t[Symbol.iterator]()},C=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},w=function(t){return t&&t.__esModule?t:{default:t}},t("__extends",o),t("__assign",s),t("__rest",a),t("__decorate",u),t("__param",l),t("__metadata",c),t("__awaiter",h),t("__generator",d),t("__exportStar",p),t("__values",f),t("__read",g),t("__spread",m),t("__await",v),t("__asyncGenerator",y),t("__asyncDelegator",_),t("__asyncValues",b),t("__makeTemplateObject",C),t("__importStar",x),t("__importDefault",w)})}).call(e,n(75),n(76))},function(t,e,n){var i,r;i=[n(28),n(5),n(45),n(78),n(79),n(44),n(46),n(148),n(80),n(19)],void 0===(r=function(t,e,n,i,r,o,s,a,u,l){var c=function(t,e){return new c.fn.init(t,e)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,p=/-([\da-z])/gi,f=function(t,e){return e.toUpperCase()};function g(t){var e=!!t&&"length"in t&&t.length,n=c.type(t);return"function"!==n&&!c.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}return c.fn=c.prototype={jquery:"@VERSION",constructor:c,selector:"",length:0,toArray:function(){return n.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:n.call(this)},pushStack:function(t){var e=c.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return c.each(this,t)},map:function(t){return this.pushStack(c.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:t.sort,splice:t.splice},c.extend=c.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||c.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(c.isPlainObject(i)||(r=c.isArray(i)))?(r?(r=!1,o=n&&c.isArray(n)?n:[]):o=n&&c.isPlainObject(n)?n:{},s[e]=c.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},c.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===c.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!c.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==c.type(t)||t.nodeType||c.isWindow(t))return!1;if(t.constructor&&!u.call(t,"constructor")&&!u.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||u.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?s[a.call(t)]||"object":typeof t},globalEval:function(t){var n,i=eval;(t=c.trim(t))&&(1===t.indexOf("use strict")?((n=e.createElement("script")).text=t,e.head.appendChild(n).parentNode.removeChild(n)):i(t))},camelCase:function(t){return t.replace(d,"ms-").replace(p,f)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(g(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(g(Object(t))?c.merge(n,"string"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:o.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var r,o,s=0,a=[];if(g(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return i.apply([],a)},guid:1,proxy:function(t,e){var i,r,o;if("string"==typeof e&&(i=t[e],e=t,t=i),c.isFunction(t))return r=n.call(arguments,2),(o=function(){return t.apply(e||this,r.concat(n.call(arguments)))}).guid=t.guid=t.guid||c.guid++,o},now:Date.now,support:l}),"function"==typeof Symbol&&(c.fn[Symbol.iterator]=t[Symbol.iterator]),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){s["[object "+e+"]"]=e.toLowerCase()}),c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7);e.Properties={},e.load=function(t){var n=$.Deferred();return i.loadMessages(t,function(i){e.Properties[t]=i,n.resolve(i)}),n.promise()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36).LOCALE.format,r=n(2).Properties.APPMSG;function o(t,e,n,i){return t?0==e?[t,t]:1==e?function(t,e,n){var i=null;function r(t){null!=t&&(i?(i[0]>t&&(i[0]=t),i[1]<t&&(i[1]=t)):i=[t,t])}var o=t.length,s=n[0],a=e[0];if(a)for(var u=a.length,l=0;l<u;l++)r(s(t[a[l]]));else for(l=0;l<o;l++)r(s(t[l]));return i}(t,n,i):function(t,e,n,i){var r=null;function s(t){var s=o(t,e,n,i);null!=s&&(r?(r[0]>s[0]&&(r[0]=s[0]),r[1]<s[1]&&(r[1]=s[1])):r=s)}var a=t.length,u=i[e],l=n[e];if(l)for(var c=l.length,h=0;h<c;h++)s(u(t[l[h]]));else for(h=0;h<a;h++)s(u(t[h]));return r}(t,e-1,n,i):null}function s(t){return t}function a(t,e){void 0===t&&(t=new Array(e));for(var n=0;n<e;n++)void 0===t[n]&&(t[n]=s);return t}function u(t,e){if(null==t)return e.defaultRange();var n=e.requiredRange();return t[0]>n[0]&&(t[0]=n[0]),t[1]<n[1]&&(t[1]=n[1]),t}function l(t,e,n,i,r){if(n==e-1)return o(p(t,e-1,i,r),e-1,v(e,void 0),a(void 0,n));var u=r.slice();u.splice(n,1);for(var l=0;l<n;l++)u[l]=s;u[n]=function(t){return p(r[n+1](t),n,i,r)};var c=i.slice();c.splice(n,1);for(l=0;l<n;l++)c[l]=void 0;return o(t,e-1,c,u)}function c(t,e,n,i){if(t||(t=[]),!e)return t;if(n)for(var r=0;r<n.length;r++){var o=i(e[n[r]]);t[r]?t[r]+=o:t[r]=o}else for(r=0;r<e.length;r++){o=i(e[r]);t[r]?t[r]+=o:t[r]=o}return t}function h(t,e,n,i,r){var o=r[n],s=i[n];if(0==n)return c(t,e,s,o);if(t||(t=[]),!e)return t;if(s)for(var a=0;a<s.length;a++)t[a]=h(t[a],o(e[s[a]]),n-1,i,r);else for(a=0;a<e.length;a++)t[a]=h(t[a],o(e[a]),n-1,i,r);return t}function d(t){return null!=t?t:0}function p(t,e,n,i){if(!t)return t;var r=i[e],o=n[e];if(0==e){var s=0;if(o)for(var a=0;a<o.length;a++)s+=d(r(t[o[a]]));else for(a=0;a<t.length;a++)s+=d(r(t[a]));return s}var u=void 0;if(o)for(a=0;a<o.length;a++)u=h(u,r(t[o[a]]),e-1,n,i);else for(a=0;a<t.length;a++)u=h(u,r(t[a]),e-1,n,i);return u}function f(t,e,n){if(0!=t.length)if(void 0!==t[0].counters)for(var i=0;i<t.length;i++){var r=t[i];(o=e.slice(0)).push(r.name),n.push({name:o,counters:r.counters})}else if(void 0!==t[0].groups)for(i=0;i<t.length;i++){var o;r=t[i];(o=e.slice(0)).push(r.name),f(r.groups[0].instances,o,n)}}function g(t,e,n){if(0!=t.length)if(void 0!==t[0].index)for(var i=0;i<t.length;i++){var r=t[i];(o=e.slice(0)).push(r.name),n.push({name:o,index:r.index})}else for(i=0;i<t.length;i++){var o;r=t[i];(o=e.slice(0)).push(r.name),g(r.groups[0].instances,o,n)}}function m(t,e){if(0!=e.length){for(var n=t.length,i=e[0].x,r=n,o=n-1;o>=0&&t[o].x>=i;o--)r=o;for(var s=r+e.length,a=r;a<s;a++)t[a]=e[a-r]}}function v(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n}e.extent=function(t,e,n,i){return o(t,e,n,a(i,e))},e.uextent=function(t,e,n,i,r){return u(o(e,n,i,a(r,n)),t)},e.sextent=function(t,e,n,i,r){return l(t,e,n,i,a(r,e))},e.usextent=function(t,e,n,i,r,o){return u(l(e,n,i,r,a(o,n)),t)},e.addArray=function(t,e,n,i){return i||(i=s),c(t,e,n,i)},e.addMatrix=function(t,e,n,i,r){return h(t,e,n,i,a(r,n+1))},e.sumMatrix=function(t,e,n,i){return p(t,e,n,a(i,e+1))},e.values=function(t){return void 0!==t.counters?t.counters:[]},e.instances=function(t){return void 0!==t.groups?t.groups[0].instances:[]},e.flattenInstances=function(t){if(0==t.length)return[];if(void 0!==t[0].counters)return t.map(function(t){return{name:[t.name],counters:t.counters}});if(void 0!==t[0].groups){for(var e=new Array,n=0;n<t.length;n++){var i=t[n],r=[i.name];f(i.groups[0].instances,r,e)}return e}throw t},e.flattenContentInstances=function(t){if(0==t.length)return[];if(void 0!==t[0].index)return t.map(function(t){return{name:[t.name],index:t.index}});for(var e=new Array,n=0;n<t.length;n++){var i=t[n],r=[i.name];g(i.groups[0].instances,r,e)}return e},e.toCoordinates=function(t,e,n){var i=n[0],r=[],o=n[1]-i;t.length<o&&(o=t.length);for(var s=!1,a=null,u=0,l=i,c=-1;u<o;u++,l+=e){var h=t[u];null!=h&&(a!==h?(s=!1,++c):s||(s=!0,++c),a=h,r[c]={x:l,y:h})}return r},e.concatCoordinates=m,e.concatDeepCoordinates=function t(e,n,i){if(0==i)m(e,n);else for(var r=0;r<n.length;r++){var o=e[r],s=n[r];o?s&&t(o,s,i-1):e[r]=s}},e.pointValue=function(t){return t.y},e.arrayEquals=function(t,e){return t.length==e.length&&t.every(function(t,n){return t===e[n]})},e.arrayIndexOf=function(t,e){for(var n=0;n<t.length;n++)if(this.arrayEquals(t[n],e))return n;return-1},e.sameElementArray=v,e.sameElementArrayF=function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e();return n},e.textColor=function(t){return d3.hcl(t).l>68?null:"white"},e.textLength=function(t){try{return t.getComputedTextLength()}catch(t){return 0}},e.textHeight=function(t){try{return t.getBoundingClientRect().height}catch(t){return 0}},e.valueScale=function(t,e){return{unit:t.unit,scale:d3.scale.linear().domain(e.map(t.translate)),tickFormat:t.display?t.display:null,detailFormat:t.display?t.display:i.numberFormat(".3r")}},e.timeScale=function(t,e){return{unit:"",scale:d3.time.scale().domain(e.map(function(e){return new Date(1e3*e+t)})),tickFormat:i.timeFormat.multi([[r.ScaleMs,function(t){return t.getMilliseconds()}],[r.ScaleSecs,function(t){return t.getSeconds()}],[r.ScaleMins,function(t){return t.getMinutes()}],[r.ScaleHours,function(t){return t.getHours()}],[r.ScaleWeekDays,function(t){return t.getDay()&&1!=t.getDate()}],[r.ScaleMonthDays,function(t){return 1!=t.getDate()}],[r.ScaleMonths,function(t){return t.getMonth()}],[r.ScaleYears,function(t){return!0}]]),detailFormat:i.timeFormat("%c")}},e.hostsQuery=function(t){var e=t.getActivePresentation().getEnabledHostsQuery();return e?"&hostgroup="+e:""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.on=function(t,e){var n=this;void 0===this.listeners&&(this.listeners={});var i=this.listeners[t];return void 0===i&&(i=[],this.listeners[t]=i,this.startMonitoring(t)),i.push(e),{remove:function(){n.removeListener(t,e)}}},t.prototype.removeListener=function(t,e){var n=this.listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!=i&&n.splice(i,1),0==n.length&&(this.stopMonitoring(t),this.listeners[t]=void 0)}},t.prototype.emit=function(t,e){if(void 0!==this.listeners){var n=this.listeners[t];if(void 0!==n)for(var i=0,r=n.slice();i<r.length;i++){(0,r[i])(e)}}},t.prototype.hasListeners=function(t){if(void 0===this.listeners)return!1;var e=this.listeners[t];return void 0!==e&&0!=e.length},t.prototype.startMonitoring=function(t){},t.prototype.stopMonitoring=function(t){},t}();e.Evented=i},function(t,e,n){var i;void 0===(i=function(){return window.document}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(149)],void 0===(r=function(){}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(9);function o(t){var e={T:function(t){return t in this?this[t]:t}},n=t.split(/\r?\n/),i="";return $.each(n,function(t,n){if(!/^\s*(\#|\!|$)/.test(n))if(i+=n.trim(),/(\\\\)*\\$/.test(i))i=i.replace(/\\$/,"");else{/^\s*((?:[^\s:=\\]|\\.)+)\s*[:=\s]\s*(.*)$/.test(i);var r=RegExp.$1,o=RegExp.$2;e[r]=function(t){return t.replace(/\\u[\dA-Fa-f]{4}/g,function(t){return String.fromCharCode(parseInt(t.replace(/\\u/g,""),16))})}(o.replace(/\'\'/g,"'")),i=""}}),e}function s(){var t=r.getBaseUrl();return"test"==t.substr(-4)&&(t=t.substr(0,t.length-4)),t}e.parseProperties=o,e.loadMessages=function(t,e){var n=this;new i.Url(s()+"/"+t+".property").request_get("text").done(function(t){var n=o(t);e(n)}).fail(function(t,i,r){console.log("Unable to retrieve localization resource : "+n.url+" due to "+r),e&&e()})},e.initializeMessages=function(t,e,n){var r=this;new i.Url(s()+"/"+e+".property").request_get("text").done(function(e){var i=o(e);for(var r in t)null!=i[r]?t[r]=i[r]:t[r]="[Not localized "+r+"]";n&&n(t)}).fail(function(t,e,i){console.log("Unable to retrieve localization resource : "+r.url+" due to "+i),n&&n()})},e.bind=function(t,e){if(void 0==t)return"Error : undefined translated string";var n=t;if(e instanceof Array)for(var i=0;i<e.length;i++)n=n.replace("{"+i+"}",e[i]);else n=n.replace("{0}",e.toString());return n},e.initialUpperCase=function(t){return t.charAt(0).toLocaleUpperCase()+t.substr(1)},e.loadJSON=function(t,e){$.getJSON(s()+"/"+t).done(function(t){return e(t)}).fail(function(){return e()})}},function(t,e,n){var i,r;i=[n(1),n(5),n(98),n(99)],void 0===(r=function(t,e,n){var i,r=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,o=t.fn.init=function(o,s,a){var u,l;if(!o)return this;if(a=a||i,"string"==typeof o){if(!(u="<"===o[0]&&">"===o[o.length-1]&&o.length>=3?[null,o,null]:r.exec(o))||!u[1]&&s)return!s||s.jquery?(s||a).find(o):this.constructor(s).find(o);if(u[1]){if(s=s instanceof t?s[0]:s,t.merge(this,t.parseHTML(u[1],s&&s.nodeType?s.ownerDocument||s:e,!0)),n.test(u[1])&&t.isPlainObject(s))for(u in s)t.isFunction(this[u])?this[u](s[u]):this.attr(u,s[u]);return this}return(l=e.getElementById(u[2]))&&l.parentNode&&(this.length=1,this[0]=l),this.context=e,this.selector=o,this}return o.nodeType?(this.context=this[0]=o,this.length=1,this):t.isFunction(o)?void 0!==a.ready?a.ready(o):o(t):(void 0!==o.selector&&(this.selector=o.selector,this.context=o.context),t.makeArray(o,this))};return o.prototype=t.fn,i=t(e),o}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function i(){return function(t){for(var e="",n=t.split("/"),i=0;i<n.length-1;i++)e+=n[i],i<n.length-2&&(e+="/");return e}(window.location.pathname)}Object.defineProperty(e,"__esModule",{value:!0}),e.getBaseUrl=i;var r=function(){function t(){}return t.prototype.isActivated=function(){return null!=this._offlineMap},t.prototype.getOfflineMap=function(){return this._offlineMap},t.prototype.setMap=function(t){this._offlineMap=t},t.prototype.load=function(t,e){var n=this.getOfflineId(t);return!!n&&(o(n,e),!0)},t.prototype.loadPromise=function(t){var e=this.getOfflineId(t);if(e){var n=$.Deferred();return o(e,function(t){return n.resolve(t)}),n.promise()}return null},t.prototype.getOfflineId=function(t){var e=t;if(this._offlineMap){var n=i();if(-1!=e.indexOf(n)&&(e=e.substring(n.length,e.length)),e=e.replace(/\s/g,"%20"),this._offlineMap.hasOwnProperty(e))return this._offlineMap[e]}return null},t}();function o(t,e){var n=window.OFFMODS[t];n&&e(n());var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.timeout=12e4,r.src="datas/"+t+".js";var o=setTimeout(s,12e4);function s(){r.onerror=r.onload=null,clearTimeout(o);var n=window.OFFMODS[t];e(n())}r.onerror=r.onload=s,i.appendChild(r)}e.Offline=r,e.OFFLINE=new r,e.load=function(){var t=$.Deferred();return"file:"==window.location.protocol||window._forceofflinemode?o("requests_map",function(n){e.OFFLINE.setMap(n),t.resolve(e.OFFLINE)}):t.resolve(e.OFFLINE),t.promise()},window.OFFMODS={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t){this.url=t}return t.initialize=function(){var e=window.location.pathname,n=e.indexOf("/web/");n>=0&&(e=e.substring(0,n),t.prefix=e)},t.getUrl=function(e){return t.prefix?t.prefix+e:"/analytics"+e},t.prototype.getActualUrl=function(){return t.prefix&&"/analytics"==this.url.substr(0,10)?t.prefix+this.url.substring(10):this.url},t.prototype.get=function(t,e,n,r){return i.OFFLINE.load(this.url,e)?null:$.get(this.getActualUrl(),t,e,n)},t.prototype.getParameter=function(t){for(var e=this.url.split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(i[0]==t)return i[1]}return null},t.prototype.request_get=function(t,e){var n=i.OFFLINE.loadPromise(this.url);return null!=n?n:$.ajax({method:"GET",url:this.getActualUrl(),dataType:t,headers:e})},t.prototype.request_post=function(t,e,n){var r=i.OFFLINE.loadPromise("P]"+this.url);return null!=r?r:$.ajax({method:"POST",data:t,dataType:e,url:this.getActualUrl(),headers:n})},t}();e.Url=r,r.initialize()},function(t,e,n){var i,r;i=[n(95)],void 0===(r=function(t){return new t}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(10),s=n(184),a=n(185),u=n(71),l=n(186),c=n(187),h=n(138),d=n(31),p=n(37),f=n(199),g=n(258),m=n(260),v=n(261),y=n(262),_=n(14),b=n(7),C=n(2).Properties.APPMSG,x=n(72),w=n(9),S=n(263);function T(t){return"regular"==t||"trend"==t?t:"regular"}var M=function(e){function r(){var i=e.call(this)||this,o=i;r.INSTANCE=i,i.report_doc=null,i.report_id="",i.report_name="",w.OFFLINE.isActivated()&&$(".application").addClass("offline"),i.computeTitle(),_.PREFS&&$(document).find(".product-name").text(_.PREFS.productName),i.shareManager=null;var s=new a.Sidenav($("#main_sidenav"),$("#main_menu_nav"),$("#main_menu_item"));return i.menu=s.getMenu(),i.menu.on("clicked",function(e){"home"==e?o.home():"create_report_menuitem"==e?o.createReport():"edit"==e?o.editMode(o.menu.isToggledItem(e)):"save"==e?o.saveReport():"save_as"==e?o.saveReportAs():"share"==e?null==o.shareManager?n.e(1).then(function(){(function(t){var e=[n(276)];(function(t){o.shareManager=new t.ShareManager(o),o.shareManager.open()}).apply(null,e)}).call(this,n(15)(t))}).catch(n.oe):o.shareManager.open():"help"==e&&o.getHelpSystem().openHelp()}),i.searchManager=null,i.searchLine=null,$("#search_button").click(function(t){o.toggleHelp()}),$(window).keydown(function(t){(t.ctrlKey||t.metaKey)&&70===t.keyCode&&(t.preventDefault(),o.toggleHelp())}),i.lastScroll=$(document).scrollTop(),$(window).scroll(function(t){var e=$(document).scrollTop();if(!$(".application").hasClass("display-print")){if(0==e){$(".application").removeClass("scrolled"),$("#main_menu").removeClass("tiny");var n=$("#app_header").height();return $("#page_selector").css("top",n),void o.resizeContents()}if(!$(".application").hasClass("scrolled")){$(".application").addClass("scrolled"),$("#main_menu").addClass("tiny");var i=$("#app_header").height();$("#page_selector").css("top",i),$("#main_menu_panel").is(":visible")&&o.resizeContents()}}}),window.onpopstate=function(t){i.donotpush=!0,i.init_state(),i.start()},window.onbeforeunload=function(t){if(i.report&&!i.isEclipseBrowser()&&i.report.isModified())return(t=t||window.event)&&(t.returnValue=C.Warning_Closing_Message),C.Warning_Closing_Message},i.session_selector=new h.SessionSelector($("#session_selector").find(".session_list")[0]),i.session_selector.on("selected",function(t){i.menu.setToggleItem($("#session"),!1),i.closeMainMenu(function(){i.compareSessionSet=[],i.donotpush=!1,i.openSession(t.path+"/"+t.name),$("#session_selector").hide()})}),i.report_selector=new c.ReportSelector($("#report_list")[0],$("#report_desc")[0]),i.report_selector.on("selectionChanged",function(t){null!=o.report&&o.report.isModified()?o.purposeSaveReport(function(e){e&&o.setReport(t)}):o.setReport(t)}),i.report=new f.Report($("#content")[0]),i.report.setContents($("#pages_container")[0]),i.report.on("modified",function(){o.menu.setEnabledItem($("#save"),!0),o.report_selector.setText("*"+o.report_selector.getText()),o.refreshMainTitle()}),i.report.on("pageChanged",function(t){i.donotpush=!1,i.updateStateURL(null,null,null,t.getId())}),i.timerange_selector=new m.TimeRangeSelector($("#timerange_list")[0]),i.timerange_selector.setEnabled(!w.OFFLINE.isActivated()),i.exec_actions_selector=new g.ExecActionsSelector($("#exec_actions_list")[0]),i.agent_selector=new y.AgentSelector($("#agent_list")[0]),i.agent_selector.setEnabled(!w.OFFLINE.isActivated()),i.session_set_composer=new v.SessionSetComposer($("#session_name")[0]),i.session_set_composer.setIsSelectLineChanged(!1),$("#app_header").find("ul").addClass("horizontal-bar"),$("#app_header").find("ul").find("li").addClass("horizontal-bar-item"),i}return i.__extends(r,e),r.prototype.getTimeRangeSelector=function(){return this.timerange_selector},r.prototype.getSession=function(){return this.session},r.prototype.getReportSelector=function(){return this.report_selector},r.prototype.getReportKind=function(){return this.report_kind},r.prototype.getReportName=function(){return this.report_name},r.prototype.toggleMainMenu=function(t){var e=this;$("#main_menu_panel").toggle("blind","fast",function(){$(".application").toggleClass("menu-opened");var n=$("#app_header").height();$("#page_selector").css("top",n),$(".application").hasClass("menu-opened")&&$("#session").focus(),e.resizeContents(),t&&t()})},r.prototype.closeMainMenu=function(t){$(".application").hasClass("menu-opened")?this.toggleMainMenu(t):t&&t()},r.prototype.home=function(){this.session=null,this.report_doc=null,this.init_state(),this.agent_selector.setManager(null);var t=o.Url.getUrl("/web/index.html");this.isEclipseBrowser()&&setUrl(t),$("#session_selector").show(),this.resizeContents(),this.session_selector.setInput(this.session_selector.getSelection()),window.history.pushState({},null,t)},r.prototype.toggleHelp=function(){var e=this;$("#search_button").toggleClass("activated"),null==this.searchLine?n.e(7).then(function(){(function(t){var i=[n(277)];(function(t){e.searchLine=new t.Search($("#search_line"),e.getSearchSystem()),e.searchLine.setHelpText(C.SearchLine_HelpText),$("#search_line").slideToggle("slow",function(){$("#search_button").hasClass("activated")&&(e.searchLine.setText(""),e.searchLine.setFocus())})}).apply(null,i)}).call(this,n(15)(t))}).catch(n.oe):$("#search_line").slideToggle("slow",function(){$("#search_button").hasClass("activated")&&(e.searchLine.setText(""),e.searchLine.setFocus())})},r.prototype.showErrorMessage=function(t,e){var n=this;$("#error_dialog").empty();var i=$("<p>").text(t).appendTo($("#error_dialog"));$(i).prepend('<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>'),this.error_dialog=$("#error_dialog").dialog({autoOpen:!1,closeText:C.Close_button,modal:!0,dialogClass:"error-dialog",buttons:[{text:C.Close_button,click:function(){$(this).dialog("close"),e&&e()}}]}),setTimeout(function(){n.error_dialog.dialog("open")},200)},r.prototype.showEventMessage=function(t){$("#event_view").text(t).position({my:"center bottom",at:"center top",collision:"none flip",of:"#app_header"}).show().delay(3e3).fadeOut("slow",function(){$(this).css("left",0),$(this).css("top",0)})},r.prototype.resizeContents=function(){var t=window.innerHeight,e=(window.innerWidth,t-$("#content").offset().top);$(".application").hasClass("display-print")||$("#content").outerHeight(e),t=$("#app_header").height(),$("#page_selector").css("top",t),t=$("#session_selector").find("header").outerHeight(),$("#session_selector").find(".session_list").height($("#session_selector").height()-t),this.session_selector.resize(),null!=this.report&&this.report.resizeContents()},r.prototype.init_state=function(){null==this.session&&null==this.report_doc&&($("#app_header").addClass("welcome"),$("#content").addClass("welcome")),$("#content").removeClass("report"),$("#app_header").removeClass("report"),null==this.session&&($("#content").removeClass("session"),$("#app_header").removeClass("session")),$("#content").show(),$("#page_selector").hide(),this.report_doc=null,this.closeMainMenu(),this.menu.setEnabledItem($("#session"),!0),this.menu.setEnabledItem($("#create_report_menuitem"),!1),this.menu.setEnabledItem($("#edit"),!1),this.menu.setEnabledItem($("#share"),!1),this.menu.setEnabledItem($("#save"),!1),this.menu.setEnabledItem($("#help"),!0),this.menu.setToggleItem($("#help"),!1),$("#page_selector_reduced_panel_pagetitle").hide(),this.exec_actions_selector.setVisible(!1),$(".application").hasClass("display-print")&&$("body").css("overflow-y","visible"),$(".application").hasClass("display-print")&&$("body").css("overflow-y","visible")},r.prototype.updateMenuState=function(){var t=this.report.getEditMode();this.menu.setEnabledItem($("#create_report_menuitem"),!t&&null!=this.session),this.menu.setEnabledItem($("#share"),!t),this.menu.setToggleItem($("#edit"),t)},r.prototype.load_report_definition=function(t,e,n){var i=this,r=this.report_selector.getText();if($("#pages_container").children().remove(),e===c.ReportSelector.EMPTY_REPORT_ID)return i.report_doc=null,i.report_id=e,i.report_name=n,i.report_selector.setText(i.report_name),i.display_report(),i.refreshMainTitle(),void $("<div>").text(C.EmptyReportMessage).addClass("information-message ui-widget").appendTo($("#pages_container"));var s=new o.Url("/analytics/reports/"+t+"/"+e+".checked");s.request_get("xml").done(function(t){i.report_doc=$(t).find("Report")[0],i.report_id=e,i.report_name=n,i.report_selector.setText(i.report_name),i.display_report(),i.refreshMainTitle()}).fail(function(t,e,o){i.report_selector.setText(r),i.showErrorMessage(b.bind(C.BAD_XML_REPORT,[n,s,o]))})},r.prototype.display_report=function(){$("#content").removeClass("welcome"),$("#content").addClass("report"),$("#app_header").removeClass("welcome"),$("#app_header").addClass("report"),this.menu.setEnabledItem($("#session"),"regular"==this.report_kind),this.menu.setEnabledItem($("#edit"),!0),this.menu.setEnabledItem($("#share"),!0),this.menu.setEnabledItem($("#help"),!0),this.report.setDefinition(this.report_doc,this.pageId),this.report.setSession(this.session),this.report.showPageSelector(!$(".application").hasClass("display-print"))},r.prototype.openSession=function(t){var e=this,n=new p.Session(t,!0);n.setOn(),n.modelAvailable().then(function(){var i=t.lastIndexOf("/");t.substring(i+1),t.substring(0,i);e.setSession(n)},function(t){e.showErrorMessage(b.bind(C.Unable_Retrieve_Sessions,t))})},r.prototype.editMode=function(t){var e=this;this.report.getEditMode()&&this.report.isModified()?this.purposeSaveReport(function(n){n&&(e.report.setEditMode(t),e.report_selector.setShowAllReports(t)),e.updateMenuState(),e.updateHeaderSize()}):(this.report.setEditMode(t),this.report_selector.setShowAllReports(t),this.updateMenuState(),this.updateHeaderSize())},r.prototype.setReport=function(t){if(null!=t){this.getSearchSystem().clear();var e=t.id,n=t.label;this.load_report_definition(this.report_kind,e,n),this.updateStateURL(null,null,e,"")}else this.init_state()},r.prototype.isEclipseBrowser=function(){return"function"==typeof fireDirtyEvent},r.prototype.refreshMainTitle=function(){this.computeTitle(),this.isEclipseBrowser()&&fireDirtyEvent()},r.prototype.computeTitle=function(){var t="";t=this.session?this.computeMainObjectTitle():C.Application_title,this.report&&this.report.isModified()&&!this.isEclipseBrowser()&&(t="*"+t),$(document).find("title").text(t)},r.prototype.setSession=function(t){var e=this;this.session=t,this.session.on("pathChanged",function(t){e.updateStateURL(t,null,null,null)}),this.session.on("deleted",function(){e.showErrorMessage(C.SessionDeleted,function(){e.home()})});var n=this.compareSessionSet.length;if(n>0)for(var i=[],r=function(t){var r=new p.Session(o.compareSessionSet[t],!1);r.setOn(),r.modelAvailable().then(function(){i[t]=r,0==--n&&(e.session.sessionSet.setSessions(i),e.setSessionNext())})},o=this,s=0;s<n;s++)r(s);else this.setSessionNext()},r.prototype.computeMainObjectTitle=function(){switch(this.report_kind){case"regular":return(new d.SessionLabelProvider).getText(this.session);case"trend":return b.bind(C.Trend,this.session.getTestName());default:return""}},r.prototype.setSessionNext=function(){var t=this,e=this.computeMainObjectTitle();if(this.session_set_composer.setText(b.bind(C.ShowCurrentSession,e)),$(document).find("title").text(e),null==this.report_doc&&null==this.report_id)this.report_selector.selectDefaultReport(this.session);else{var n=this.session.getFeatures(),i=$(this.report_doc).children("features").children("Feature");1==this.hasAFeatureInCommon(n,i)?this.report.setSession(this.session):null==this.report_doc&&null==this.report_id&&this.report_selector.selectDefaultReport(this.session)}this.timerange_selector.setSession(this.session),this.agent_selector.setManager(this.session.isAbstractSchedule()?this.session.getAgentsManager():null),this.report_selector.setSession(this.session),this.session_set_composer.setSession(this.session),this.session.sessionSet.on("selectionChanged",function(e){t.timerange_selector.setEnabled(0==e.selection().length),t.updateStateURL(t.session.sessionPath,null,null,null)}),this.updateMenuState(),$("#app_header").addClass("session"),$("#content").addClass("session"),this.emit("sessionChanged",this),this.exec_actions_selector.setSession(this.session),"regular"==this.report_kind?$("exec_actions_list").prev().show():$("exec_actions_list").prev().hide(),this.exec_actions_selector.setVisible("regular"==this.report_kind),this.showEventMessage(b.bind(C.SessionLoaded,e)),this.updateHeaderSize(),this.updateStateURL(this.session.sessionPath,null,null,null)},r.prototype.updateStateURL=function(t,e,n,i){if(!w.OFFLINE.isActivated()){if(null!=t&&(this.sessionPath=t,this.compareSessionSet=[],this.session.sessionSet&&this.session.sessionSet.sessions.length>0))for(var r=0,s=this.session.sessionSet.sessions;r<s.length;r++){var a=s[r];this.compareSessionSet.push(a.sessionPath)}null!=e&&(this.userId=e),null!=n&&(this.report_id=n),null!=i&&(this.pageId=i);var u=o.Url.getUrl("/web/index.html");null!=this.sessionPath&&(u+="?session="+this.sessionPath,u+=null!=this.report_kind?"&kind="+this.report_kind:"",u+=null!=this.userId?"&userId="+this.userId:"",u+=null!=this.report_id?"&report="+this.report_id:"",u+=null!=this.pageId?"&page="+this.pageId:"",u+=null!=this.displayMode&&"default"!=this.displayMode?"&display="+this.displayMode:"",u+=this.compareSessionSet.length>0?"&compare="+this.compareSessionSet.join(","):"",this.isEclipseBrowser()&&setUrl(u),this.donotpush||window.history.pushState({},null,u))}},r.prototype.updateHeaderSize=function(){var t=this;setTimeout(function(){t.resizeContents()},400)},r.prototype.hasAFeatureInCommon=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if("com.ibm.rational.test.lt.feature.lt"!=i)for(var r=0;r<e.length;r++){if(i==$(e[r]).text())return!0}}return!1},r.prototype.purposeSaveReport=function(t){var e=this;$("#app_dialog_confirm").find(".ui-dialog-message").text(b.bind(C.Save_Report_Dialog_message,this.report_name)),$("#app_dialog_confirm").dialog({resizable:!0,modal:!0,closeText:C.Close_button,title:C.Save_Report_Dialog_title,width:"auto",buttons:[{text:C.Save_label,click:function(){$(this).dialog("close"),e.saveReport(t)}},{text:C.SaveAs_label,click:function(){$(this).dialog("close"),e.saveReportAs(t)}},{text:C.DiscardChanges_label,click:function(){$(this).dialog("close"),e.load_report_definition(e.report_kind,e.report_id,e.report_name),t&&t(!0)}},{text:C.Cancel_button,click:function(){$(this).dialog("close"),t&&t(!1)}}]})},r.prototype.saveReport=function(e){var i=this;n.e(4).then(function(){(function(t){var r=[n(278)];(function(t){var n=new t.ReportSaver;n.save(i.report_kind,i.report_id,i.report_doc),n.on("saved",function(t){i.report.setModified(!1),i.menu.setEnabledItem($("#save"),!1),i.report_selector.setText(i.report_name),i.refreshMainTitle(),e&&e(!0)}),n.on("failed",function(){e&&e(!1)})}).apply(null,r)}).call(this,n(15)(t))}).catch(n.oe)},r.prototype.saveReportAs=function(t){var e=this,n=null,i=function(){var i,r=$("#app_input_dialog").find(".input-field").val(),o=e.report_id,s=e.report_name;e.report_name=r,e.report_id=0==(i=r.replace(/[\s<>\:"\/\\\|\?\*]/g,"_")).length?"report_"+(new Date).getTime():i,$(e.report.getModel()).attr("name",r),e.saveReport(function(i){i||(e.report_name=s,e.report_id=o,$(e.report.getModel()).attr("name",s)),t&&t(!1),i&&n.dialog("close")})};n=$("#app_input_dialog").dialog({autoOpen:!1,closeText:C.Close_button,height:300,width:350,modal:!0,dialogClass:"save-as-dialog",buttons:[{text:C.Save_label,click:i},{text:C.Cancel_button,click:function(){n.dialog("close"),t&&t(!1)}}],close:function(){}});var r=new u.Form(n.find("form"),$(n).find(".ui-dialog-message"));r.setMessage(C.SaveAs_Dialog_message),r.on("submit",function(t){i()});var o=b.bind(C.SaveAs_purposeNamePrefix,e.report_name);r.setValue(".input-field",o),e.getHelpSystem().setHelp($(".save-as-dialog")[0],x.HelpContextIds.SAVE_AS_DIALOG),n.dialog("open")},r.prototype.startProgress=function(t,e){$("#progress_dialog").find(".progress-label").text(e);var n=$("#progress_dialog");this.progress_dialog=n.dialog({closeText:C.Close_button,title:t,closeOnEscape:!1,resizable:!1,modal:!0}),$("#progress_dialog_progressbar").progressbar({value:!1})},r.prototype.stopProgress=function(){this.progress_dialog&&this.progress_dialog.dialog("close")},r.prototype.getHelpSystem=function(){var t=this;return null==this.helpSystem&&(this.helpSystem=new s.HelpSystem,this.helpSystem.on("failed",function(e){t.showErrorMessage(b.bind(C.CSHelpError,e.href))})),this.helpSystem},r.prototype.getSearchSystem=function(){var t=this;return null==this.searchManager&&(this.searchManager=new l.SearchSystem,this.searchManager.on("selectionChanged",function(e){e.category==C.SearchCategory_Pages?t.report.setPage(e.object):e.category==C.SearchCategory_Views?t.report.showItem(e.object):e.category==C.SearchCategory_Counters&&t.report.showItem(e.object)})),this.searchManager},r.prototype.createReport=function(){var e=this;n.e(6).then(function(){(function(t){var i=[n(279)];(function(t){var n=new t.ReportCreator;n.open(),n.on("finish",function(t){e.report_doc=t.report_doc,e.report_id=t.report_id,e.report_name=$(e.report_doc).attr("name"),e.report_selector.setText(e.report_name),e.display_report(),e.editMode(!0),e.report.setModified(!0),e.menu.setToggleItem($("#edit"),!0),e.toggleMainMenu()})}).apply(null,i)}).call(this,n(15)(t))}).catch(n.oe)},r.prototype.isOffline=function(){return w.OFFLINE.isActivated()},r.prototype.initDisplayMode=function(){"default"==this.displayMode||null==this.displayMode?$(".application").removeClass("display-print"):"print"==this.displayMode&&$(".application").addClass("display-print")},r.prototype.start=function(){var t=this;S.HighContrastSystem.detect("./images/b-paper.png")&&$(document.body).addClass("use-high-contrast"),$(".application").hide(),$(document).tooltip();var e=new o.Url(window.location.search.substring(1));this.sessionPath=e.getParameter("session"),this.userId=e.getParameter("userId"),this.report_kind=T(e.getParameter("kind")),this.report_id=e.getParameter("report"),this.pageId=e.getParameter("page"),this.displayMode=e.getParameter("display");var n=e.getParameter("compare");this.compareSessionSet=n?n.split(","):[];var i=null;if(w.OFFLINE.isActivated()){var r=w.OFFLINE.getOfflineId("/analytics/sessions/session.stats");i=r.split(","),this.sessionPath=i[0],this.displayMode=w.OFFLINE.getOfflineId("/analytics/display_mode"),this.report_kind=T(w.OFFLINE.getOfflineId("/analytics/report_kind"))}else setTimeout(function(){t.session_selector.setInput(null)},100);this.initDisplayMode(),this.getReportSelector().setReportKind(this.report_kind),this.session_set_composer.setReadOnly("trend"==this.report_kind||w.OFFLINE.isActivated()),this.session&&"regular"==this.report_kind?$("exec_actions_list").prev().show():$("exec_actions_list").prev().hide(),this.exec_actions_selector.setVisible(this.session&&"regular"==this.report_kind),this.timerange_selector.setReadOnly("trend"==this.report_kind),$(".application").show(),$(window).resize(function(){t.resizeContents(),t.emit("windowResized",{})});var s=function(){t.init_state(),t.resizeContents()};this.sessionPath&&""!=this.sessionPath?($("#session_selector").hide(),$("#open_session").text(C.LoadingApplication),this.openSession(this.sessionPath),this.on("sessionChanged",function(){if(s(),null!=t.report_id&&t.getReportSelector().setSelectionById(t.report_id),i)for(var e=1;e<i.length;e++){var n=new p.Session(i[e],!0);n.setOn(),n.modelAvailable().then(function(e){t.session.sessionSet.add(e.sessionObject)})}})):(s(),this.home())},r.INSTANCE=null,r}(r.Evented);e.App=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(3);function s(t){return t.length<200?t:t.substring(0,200)}var a=function(t){function e(){var e=t.call(this)||this;return e.instances=[],e}return i.__extends(e,t),e.prototype.name=function(){return"Instances"},e.prototype.size=function(){return this.instances.length},e.prototype.items=function(){return this.instances},e.prototype.clear=function(){this.instances=[]},e}(r.Dimension),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.key=function(){return function(t){return t.join("/")}},e.prototype.label=function(t,e){return s(t.join(" - "))},e.prototype.feedValues=function(t,e){var n=t.length;function i(e){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(o.arrayEquals(r.name,e))return!0}return!1}var r=!1;if(e.instanceRemoved)for(var s=this.instances.length-1;s>=0;s--)i(this.instances[s])||(this.instances.splice(s,1),e.instanceRemoved(s),r=!0);for(s=0;s<n;s++){var a=t[s],u=o.arrayIndexOf(this.instances,a.name);if(-1==u){r=!0;var l=this.instances.length;this.instances.push(a.name),e.instanceAdded(a,l)}else e.instanceModified(u,a)}return r},e}(a);e.InstancesDimension=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.key=function(){return function(t){return t}},e.prototype.label=function(t,e){return s(t)},e.prototype.feedValues=function(t,e){var n=t.length;function i(e){for(var n=0,i=t;n<i.length;n++){if(i[n].name==e)return!0}return!1}var r=!1;if(e.instanceRemoved)for(var o=this.instances.length-1;o>=0;o--)i(this.instances[o])||(this.instances.splice(o,1),e.instanceRemoved(o),r=!0);for(o=0;o<n;o++){var s=t[o],a=this.instances.indexOf(s.name);if(-1==a){r=!0;var u=this.instances.length;this.instances.push(s.name),e.instanceAdded(s,u)}else e.instanceModified(a,s)}return r},e.prototype.feedTwoLevelValues=function(t,e,n){var i=[!1,!1];function r(t,r){e.feedValues(r.groups[0].instances,{instanceAdded:function(e,i){n.instanceAdded(1,e,i),n.valueModified([t,i],e)},instanceModified:function(e,i){n.valueModified([t,e],i)}})&&(i[1]=!0)}return i[0]=this.feedValues(t,{instanceRemoved:function(t){n.instanceRemoved(0,t)},instanceAdded:function(t,e){n.instanceAdded(0,t,e),r(e,t)},instanceModified:function(t,e){r(t,e)}}),i},e}(a);e.FlatInstancesDimension=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(9),o=function(){function t(){}return t.prototype.save=function(){r.OFFLINE.isActivated()||new i.Url("/analytics/prefs").request_post(JSON.stringify(this),"json",{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"})},t}();e.Prefs=o,e.PREFS=new o,e.load=function(){var t=$.Deferred();return new i.Url("/analytics/prefs").request_get("json",{Accept:"application/json"}).then(function(n){$.extend(e.PREFS,n),t.resolve(e.PREFS)},function(e){console.log("Unable to retrieve preferences: "+e),t.reject("Unable to retrieve preferences: "+e)}),t.promise()}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this)||this;if(n.container=e,!n.container)throw"Element cannot be null";return $(n.container).addClass("ui-widget"),$(n.container).data("widget",n),n}return i.__extends(e,t),e.prototype.setClassName=function(t){var e=$(this.container).attr("class");e=t+" "+e,$(this.container).attr("class",e),this.class_name=t},e.prototype.getContainer=function(){return this.container},e.prototype.setDisabled=function(t){t?$(this.container).addClass("ui-state-disabled"):$(this.container).removeClass("ui-state-disabled")},e.prototype.isDisabled=function(){return $(this.container).hasClass("ui-state-disabled")},e.prototype.destroy=function(){this.class_name&&$(this.container).removeClass(this.class_name),$(this.container).removeClass("ui-state-disabled"),$(this.container).removeClass("ui-widget")},e.prototype.getH=function(){return $(this.container).height()},e.prototype.getW=function(){return $(this.container).width()},e.prototype.setW=function(t){$(this.container).width(t)},e.prototype.setH=function(t){$(this.container).height(t)},e.MAX_H_RESOLUTION=screen.height,e}(n(4).Evented);e.Widget=r},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){var e=function(n,i,r,o,s,a,u){var l=0,c=n.length,h=null==r;if("object"===t.type(r))for(l in s=!0,r)e(n,i,l,r[l],!0,a,u);else if(void 0!==o&&(s=!0,t.isFunction(o)||(u=!0),h&&(u?(i.call(n,o),i=null):(h=i,i=function(e,n,i){return h.call(t(e),i)})),i))for(;l<c;l++)i(n[l],r,u?o:o.call(n[l],l,i(n[l],r)));return s?n:h?i.call(n):c?i(n[0],r):a};return e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/\S+/g}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){return{}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(44),n(152),n(153),n(100),n(8),n(99),n(6)],void 0===(r=function(t,e,n,i,r){var o=/^(?:parents|prev(?:Until|All))/,s={children:!0,contents:!0,next:!0,prev:!0};function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}return t.fn.extend({has:function(e){var n=t(e,this),i=n.length;return this.filter(function(){for(var e=0;e<i;e++)if(t.contains(this,n[e]))return!0})},closest:function(e,n){for(var i,o=0,s=this.length,a=[],u=r.test(e)||"string"!=typeof e?t(e,n||this.context):0;o<s;o++)for(i=this[o];i&&i!==n;i=i.parentNode)if(i.nodeType<11&&(u?u.index(i)>-1:1===i.nodeType&&t.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?t.uniqueSort(a):a)},index:function(n){return n?"string"==typeof n?e.call(t(n),this[0]):e.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,n){return this.pushStack(t.uniqueSort(t.merge(this.get(),t(e,n))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return n(t,"parentNode")},parentsUntil:function(t,e,i){return n(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return n(t,"nextSibling")},prevAll:function(t){return n(t,"previousSibling")},nextUntil:function(t,e,i){return n(t,"nextSibling",i)},prevUntil:function(t,e,i){return n(t,"previousSibling",i)},siblings:function(t){return i((t.parentNode||{}).firstChild,t)},children:function(t){return i(t.firstChild)},contents:function(e){return e.contentDocument||t.merge([],e.childNodes)}},function(e,n){t.fn[e]=function(i,r){var a=t.map(this,n,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(a=t.filter(r,a)),this.length>1&&(s[e]||t.uniqueSort(a),o.test(e)&&a.reverse()),this.pushStack(a)}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(18),n(45),n(11),n(8),n(6)],void 0===(r=function(t,e,n,i,r){var o=/^key/,s=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=/^([^.]*)(?:\.(.+)|)/;function u(){return!0}function l(){return!1}function c(){try{return e.activeElement}catch(t){}}function h(e,n,i,r,o,s){var a,u;if("object"==typeof n){for(u in"string"!=typeof i&&(r=r||i,i=void 0),n)h(e,u,i,r,n[u],s);return e}if(null==r&&null==o?(o=i,r=i=void 0):null==o&&("string"==typeof i?(o=r,r=void 0):(o=r,r=i,i=void 0)),!1===o)o=l;else if(!o)return e;return 1===s&&(a=o,(o=function(e){return t().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=t.guid++)),e.each(function(){t.event.add(this,n,o,r,i)})}return t.event={global:{},add:function(e,i,o,s,u){var l,c,h,d,p,f,g,m,v,y,_,b=r.get(e);if(b)for(o.handler&&(o=(l=o).handler,u=l.selector),o.guid||(o.guid=t.guid++),(d=b.events)||(d=b.events={}),(c=b.handle)||(c=b.handle=function(n){return void 0!==t&&t.event.triggered!==n.type?t.event.dispatch.apply(e,arguments):void 0}),p=(i=(i||"").match(n)||[""]).length;p--;)v=_=(h=a.exec(i[p])||[])[1],y=(h[2]||"").split(".").sort(),v&&(g=t.event.special[v]||{},v=(u?g.delegateType:g.bindType)||v,g=t.event.special[v]||{},f=t.extend({type:v,origType:_,data:s,handler:o,guid:o.guid,selector:u,needsContext:u&&t.expr.match.needsContext.test(u),namespace:y.join(".")},l),(m=d[v])||((m=d[v]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,s,y,c)||e.addEventListener&&e.addEventListener(v,c)),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=o.guid)),u?m.splice(m.delegateCount++,0,f):m.push(f),t.event.global[v]=!0)},remove:function(e,i,o,s,u){var l,c,h,d,p,f,g,m,v,y,_,b=r.hasData(e)&&r.get(e);if(b&&(d=b.events)){for(p=(i=(i||"").match(n)||[""]).length;p--;)if(v=_=(h=a.exec(i[p])||[])[1],y=(h[2]||"").split(".").sort(),v){for(g=t.event.special[v]||{},m=d[v=(s?g.delegateType:g.bindType)||v]||[],h=h[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=m.length;l--;)f=m[l],!u&&_!==f.origType||o&&o.guid!==f.guid||h&&!h.test(f.namespace)||s&&s!==f.selector&&("**"!==s||!f.selector)||(m.splice(l,1),f.selector&&m.delegateCount--,g.remove&&g.remove.call(e,f));c&&!m.length&&(g.teardown&&!1!==g.teardown.call(e,y,b.handle)||t.removeEvent(e,v,b.handle),delete d[v])}else for(v in d)t.event.remove(e,v+i[p],o,s,!0);t.isEmptyObject(d)&&r.remove(e,"handle events")}},dispatch:function(e){e=t.event.fix(e);var n,o,s,a,u,l,c=i.call(arguments),h=(r.get(this,"events")||{})[e.type]||[],d=t.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(l=t.event.handlers.call(this,e,h),n=0;(a=l[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(u=a.handlers[o++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(u.namespace)||(e.handleObj=u,e.data=u.data,void 0!==(s=((t.event.special[u.origType]||{}).handle||u.handler).apply(a.elem,c))&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],i=0;i<u;i++)void 0===r[o=(s=n[i]).selector+" "]&&(r[o]=s.needsContext?t(o,this).index(l)>-1:t.find(o,this,null,[l]).length),r[o]&&r.push(s);r.length&&a.push({elem:l,handlers:r})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,s=n.button;return null==t.pageX&&null!=n.clientX&&(r=(i=t.target.ownerDocument||e).documentElement,o=i.body,t.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(n){if(n[t.expando])return n;var i,r,a,u=n.type,l=n,c=this.fixHooks[u];for(c||(this.fixHooks[u]=c=s.test(u)?this.mouseHooks:o.test(u)?this.keyHooks:{}),a=c.props?this.props.concat(c.props):this.props,n=new t.Event(l),i=a.length;i--;)n[r=a[i]]=l[r];return n.target||(n.target=e),3===n.target.nodeType&&(n.target=n.target.parentNode),c.filter?c.filter(n,l):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t.nodeName(this,"input"))return this.click(),!1},_default:function(e){return t.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},t.Event=function(e,n){if(!(this instanceof t.Event))return new t.Event(e,n);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:l):this.type=e,n&&t.extend(this,n),this.timeStamp=e&&e.timeStamp||t.now(),this[t.expando]=!0},t.Event.prototype={constructor:t.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,n){t.event.special[e]={delegateType:n,bindType:n,handle:function(e){var i,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||t.contains(this,r))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=n),i}}}),t.fn.extend({on:function(t,e,n,i){return h(this,t,e,n,i)},one:function(t,e,n,i){return h(this,t,e,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,t(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=void 0),!1===i&&(i=l),this.each(function(){t.event.remove(this,e,i,n)})}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(18),n(164),n(105),n(106),n(8),n(165),n(166),n(56),n(29)],void 0===(r=function(t,e,n,i,r,o){var s=/#.*$/,a=/([?&])_=[^&]*/,u=/^(.*?):[ \t]*([^\r\n]*)$/gm,l=/^(?:GET|HEAD)$/,c=/^\/\//,h={},d={},p="*/".concat("*"),f=e.createElement("a");function g(e){return function(i,r){"string"!=typeof i&&(r=i,i="*");var o,s=0,a=i.toLowerCase().match(n)||[];if(t.isFunction(r))for(;o=a[s++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(r)):(e[o]=e[o]||[]).push(r)}}function m(e,n,i,r){var o={},s=e===d;function a(u){var l;return o[u]=!0,t.each(e[u]||[],function(t,e){var u=e(n,i,r);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(n.dataTypes.unshift(u),a(u),!1)}),l}return a(n.dataTypes[0])||!o["*"]&&a("*")}function v(e,n){var i,r,o=t.ajaxSettings.flatOptions||{};for(i in n)void 0!==n[i]&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&t.extend(!0,e,r),e}return f.href=i.href,t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:i.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(i.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":p,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,n){return n?v(v(e,t.ajaxSettings),n):v(t.ajaxSettings,e)},ajaxPrefilter:g(h),ajaxTransport:g(d),ajax:function(g,v){"object"==typeof g&&(v=g,g=void 0),v=v||{};var y,_,b,C,x,w,S,T,M=t.ajaxSetup({},v),E=M.context||M,P=M.context&&(E.nodeType||E.jquery)?t(E):t.event,D=t.Deferred(),A=t.Callbacks("once memory"),I=M.statusCode||{},k={},$={},R=0,L="canceled",O={readyState:0,getResponseHeader:function(t){var e;if(2===R){if(!C)for(C={};e=u.exec(b);)C[e[1].toLowerCase()]=e[2];e=C[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===R?b:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return R||(t=$[n]=$[n]||t,k[t]=e),this},overrideMimeType:function(t){return R||(M.mimeType=t),this},statusCode:function(t){var e;if(t)if(R<2)for(e in t)I[e]=[I[e],t[e]];else O.always(t[O.status]);return this},abort:function(t){var e=t||L;return y&&y.abort(e),N(0,e),this}};if(D.promise(O).complete=A.add,O.success=O.done,O.error=O.fail,M.url=((g||M.url||i.href)+"").replace(s,"").replace(c,i.protocol+"//"),M.type=v.method||v.type||M.method||M.type,M.dataTypes=t.trim(M.dataType||"*").toLowerCase().match(n)||[""],null==M.crossDomain){w=e.createElement("a");try{w.href=M.url,w.href=w.href,M.crossDomain=f.protocol+"//"+f.host!=w.protocol+"//"+w.host}catch(t){M.crossDomain=!0}}if(M.data&&M.processData&&"string"!=typeof M.data&&(M.data=t.param(M.data,M.traditional)),m(h,M,v,O),2===R)return O;for(T in(S=t.event&&M.global)&&0==t.active++&&t.event.trigger("ajaxStart"),M.type=M.type.toUpperCase(),M.hasContent=!l.test(M.type),_=M.url,M.hasContent||(M.data&&(_=M.url+=(o.test(_)?"&":"?")+M.data,delete M.data),!1===M.cache&&(M.url=a.test(_)?_.replace(a,"$1_="+r++):_+(o.test(_)?"&":"?")+"_="+r++)),M.ifModified&&(t.lastModified[_]&&O.setRequestHeader("If-Modified-Since",t.lastModified[_]),t.etag[_]&&O.setRequestHeader("If-None-Match",t.etag[_])),(M.data&&M.hasContent&&!1!==M.contentType||v.contentType)&&O.setRequestHeader("Content-Type",M.contentType),O.setRequestHeader("Accept",M.dataTypes[0]&&M.accepts[M.dataTypes[0]]?M.accepts[M.dataTypes[0]]+("*"!==M.dataTypes[0]?", "+p+"; q=0.01":""):M.accepts["*"]),M.headers)O.setRequestHeader(T,M.headers[T]);if(M.beforeSend&&(!1===M.beforeSend.call(E,O,M)||2===R))return O.abort();for(T in L="abort",{success:1,error:1,complete:1})O[T](M[T]);if(y=m(d,M,v,O)){if(O.readyState=1,S&&P.trigger("ajaxSend",[O,M]),2===R)return O;M.async&&M.timeout>0&&(x=window.setTimeout(function(){O.abort("timeout")},M.timeout));try{R=1,y.send(k,N)}catch(t){if(!(R<2))throw t;N(-1,t)}}else N(-1,"No Transport");function N(e,n,i,r){var o,s,a,u,l,c=n;2!==R&&(R=2,x&&window.clearTimeout(x),y=void 0,b=r||"",O.readyState=e>0?4:0,o=e>=200&&e<300||304===e,i&&(u=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(M,O,i)),u=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(M,u,O,o),o?(M.ifModified&&((l=O.getResponseHeader("Last-Modified"))&&(t.lastModified[_]=l),(l=O.getResponseHeader("etag"))&&(t.etag[_]=l)),204===e||"HEAD"===M.type?c="nocontent":304===e?c="notmodified":(c=u.state,s=u.data,o=!(a=u.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),O.status=e,O.statusText=(n||c)+"",o?D.resolveWith(E,[s,c,O]):D.rejectWith(E,[O,c,a]),O.statusCode(I),I=void 0,S&&P.trigger(o?"ajaxSuccess":"ajaxError",[O,M,o?s:a]),A.fireWith(E,[O,c]),S&&(P.trigger("ajaxComplete",[O,M]),--t.active||t.event.trigger("ajaxStop")))}return O},getJSON:function(e,n,i){return t.get(e,n,i,"json")},getScript:function(e,n){return t.get(e,void 0,n,"script")}}),t.each(["get","post"],function(e,n){t[n]=function(e,i,r,o){return t.isFunction(i)&&(o=o||r,r=i,i=void 0),t.ajax(t.extend({url:e,type:n,dataType:o,data:i,success:r},t.isPlainObject(e)&&e))}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this,e)||this;return i.bounds=n,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var t=this.getSessionFullPath()+"/qlast?";return t+=this.counterQuerySet.getUrlParameter(),this.bounds&&(t+="&cumulativeFrom="+this.bounds[0],void 0!==this.bounds[1]&&(t+="&index="+this.bounds[1])),t},e}(n(65).GTabularQueryProvider);e.GLastQueryProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.variableUnit=function(){return!1},t.prototype.setSession=function(t){},t.prototype.dispose=function(){},t}();e.Dimension=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(229),o=n(230),s=n(231),a=n(232);function u(t){return"getFixedProvider"in t}function l(t){for(var e=0;e<t.length;e++)if(t[e]!=e)return!1;return!0}e.isVariableProvider=u,e.reduce=function(t,e){return e instanceof Array||(e=i.sameElementArray(e,0)),new r.GTabularDimensionReducer(t,e)},e.reduceLine=function(t,e){return e instanceof Array||(e=i.sameElementArray(e,0)),u(t)?new r.GVariableLinesDimensionReducer(t,e):new r.GLinesDimensionReducer(t,e)},e.swap=function(t,e){return l(e)?t:new o.GTabularSwapper(t,e)},e.swapLine=function(t,e){return l(e)?t:u(t)?new o.GVariableLinesSwapper(t,e):new o.GLinesSwapper(t,e)},e.consolidateDimension=function(t,e){return new s.GConsolidatedUnitProvider(t,e)},e.splitUnit=function(t,e){return t.variableUnit(e)?new a.TabularDependentUnitSplitter(t,e):new a.TabularIndependentUnitSplitter(t,e)},e.splitUnitLine=function(t,e){return u(t)?t.variableUnit(e)?new a.VariableLineDependentUnitSplitter(t,e):new a.VariableLineIndependentUnitSplitter(t,e):t.variableUnit(e)?new a.LineDependentUnitSplitter(t,e):new a.LineIndependentUnitSplitter(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.top=t,this.right=e,this.bottom=n,this.left=i}return t.prototype.add=function(e){return new t(e.top+this.top,e.right+this.right,e.bottom+this.bottom,e.left+this.left)},t.prototype.netWidth=function(t){return t-this.left-this.right},t.prototype.netHeight=function(t){return t-this.top-this.bottom},t}();e.Margin=i},function(t,e,n){var i,r;i=[n(1),n(48),n(17),n(81),n(5),n(47),n(49),n(82),n(83),n(84),n(147),n(85),n(87),n(88),n(101),n(50),n(11),n(8),n(102),n(6)],void 0===(r=function(t,e,n,i,r,o,s,a,u,l,c,h,d,p,f,g,m){var v=/^(none|table(?!-c[ea]).+)/,y={position:"absolute",visibility:"hidden",display:"block"},_={letterSpacing:"0",fontWeight:"400"},b=["Webkit","O","Moz","ms"],C=r.createElement("div").style;function x(t){if(t in C)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=b.length;n--;)if((t=b[n]+e)in C)return t}function w(t,e,n){var i=o.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function S(e,n,i,r,o){for(var s=i===(r?"border":"content")?4:"width"===n?1:0,u=0;s<4;s+=2)"margin"===i&&(u+=t.css(e,i+a[s],!0,o)),r?("content"===i&&(u-=t.css(e,"padding"+a[s],!0,o)),"margin"!==i&&(u-=t.css(e,"border"+a[s]+"Width",!0,o))):(u+=t.css(e,"padding"+a[s],!0,o),"padding"!==i&&(u+=t.css(e,"border"+a[s]+"Width",!0,o)));return u}function T(e,n,i){var r=!0,o="width"===n?e.offsetWidth:e.offsetHeight,a=l(e),u="border-box"===t.css(e,"boxSizing",!1,a);if(o<=0||null==o){if(((o=h(e,n,a))<0||null==o)&&(o=e.style[n]),s.test(o))return o;r=u&&(g.boxSizingReliable()||o===e.style[n]),o=parseFloat(o)||0}return o+S(e,n,i||(u?"border":"content"),r,a)+"px"}function M(e,n){for(var i,r,o,s=[],a=0,l=e.length;a<l;a++)(r=e[a]).style&&(s[a]=m.get(r,"olddisplay"),i=r.style.display,n?(s[a]||"none"!==i||(r.style.display=""),""===r.style.display&&u(r)&&(s[a]=m.access(r,"olddisplay",p(r.nodeName)))):(o=u(r),"none"===i&&o||m.set(r,"olddisplay",o?i:t.css(r,"display"))));for(a=0;a<l;a++)(r=e[a]).style&&(n&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=n?s[a]||"":"none"));return e}return t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=h(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,u,l=t.camelCase(n),c=e.style;if(n=t.cssProps[l]||(t.cssProps[l]=x(l)||l),u=t.cssHooks[n]||t.cssHooks[l],void 0===i)return u&&"get"in u&&void 0!==(s=u.get(e,!1,r))?s:c[n];"string"===(a=typeof i)&&(s=o.exec(i))&&s[1]&&(i=d(e,n,s),a="number"),null!=i&&i==i&&("number"===a&&(i+=s&&s[3]||(t.cssNumber[l]?"":"px")),g.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),u&&"set"in u&&void 0===(i=u.set(e,i,r))||(c[n]=i))}},css:function(e,n,i,r){var o,s,a,u=t.camelCase(n);return n=t.cssProps[u]||(t.cssProps[u]=x(u)||u),(a=t.cssHooks[n]||t.cssHooks[u])&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=h(e,n,r)),"normal"===o&&n in _&&(o=_[n]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),t.each(["height","width"],function(e,n){t.cssHooks[n]={get:function(e,i,r){if(i)return v.test(t.css(e,"display"))&&0===e.offsetWidth?c(e,y,function(){return T(e,n,r)}):T(e,n,r)},set:function(e,i,r){var s,a=r&&l(e),u=r&&S(e,n,r,"border-box"===t.css(e,"boxSizing",!1,a),a);return u&&(s=o.exec(i))&&"px"!==(s[3]||"px")&&(e.style[n]=i,i=t.css(e,n)),w(0,i,u)}}}),t.cssHooks.marginLeft=f(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(h(t,"marginLeft"))||t.getBoundingClientRect().left-c(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),t.cssHooks.marginRight=f(g.reliableMarginRight,function(t,e){if(e)return c(t,{display:"inline-block"},h,[t,"marginRight"])}),t.each({margin:"",padding:"",border:"Width"},function(e,n){t.cssHooks[e+n]={expand:function(t){for(var i=0,r={},o="string"==typeof t?t.split(" "):[t];i<4;i++)r[e+a[i]+n]=o[i]||o[i-2]||o[0];return r}},i.test(e)||(t.cssHooks[e+n].set=w)}),t.fn.extend({css:function(e,i){return n(this,function(e,n,i){var r,o,s={},a=0;if(t.isArray(n)){for(r=l(e),o=n.length;a<o;a++)s[n[a]]=t.css(e,n[a],!1,r);return s}return void 0!==i?t.style(e,n,i):t.css(e,n)},e,i,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){u(this)?t(this).show():t(this).hide()})}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return[]}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(45),n(52)],void 0===(r=function(t,e){return t.extend({Deferred:function(e){var n=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return t.Deferred(function(i){t.each(n,function(n,s){var a=t.isFunction(e[n])&&e[n];o[s[1]](function(){var e=a&&a.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===r?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?t.extend(e,r):r}},o={};return r.pipe=r.then,t.each(n,function(t,e){var s=e[2],a=e[3];r[e[1]]=s.add,a&&s.add(function(){i=a},n[1^t][2].disable,n[2][2].lock),o[e[0]]=function(){return o[e[0]+"With"](this===o?r:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(n){var i,r,o,s=0,a=e.call(arguments),u=a.length,l=1!==u||n&&t.isFunction(n.promise)?u:0,c=1===l?n:t.Deferred(),h=function(t,n,r){return function(o){n[t]=this,r[t]=arguments.length>1?e.call(arguments):o,r===i?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(u>1)for(i=new Array(u),r=new Array(u),o=new Array(u);s<u;s++)a[s]&&t.isFunction(a[s].promise)?a[s].promise().progress(h(s,r,i)).done(h(s,o,a)).fail(c.reject):--l;return l||c.resolveWith(o,a),c.promise()}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setSession=function(t){this.session=t,this.update(!1)},e.prototype.update=function(e){return!(!this.session||null==this.session)&&(t.prototype.update.call(this,e),!0)},e.prototype.getSessionFullPath=function(){return this.session.getBaseRequestUrl()},e.prototype.setData=function(t,e,n){if(void 0===t)throw"Empty response received from server";if(t.__type&&"MovedSessionRepresentation"==t.__type){var i=t;null==i.newPath?this.session.setPath(null):(this.session.setPath(i.newPath),t.redirect=!0)}else this.setSessionData(t,e,n)},e}(n(107).GRequestProvider);e.GSessionRequestProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),r=n(43),o=n(7),s=n(2).Properties.APPMSG,a=function(){function t(t){this.nodate=t}return t.prototype.getText=function(t){if(t instanceof i.Session){if(this.nodate)return t.getTestName();var e=new r.DateFormat(t.getDate());return o.bind(s.SessionLabelFormat,[t.getTestName(),e.toDateString()])}if("Container"===t.type)return t.label?t.label:t.name;if("Session"===t.type){if(this.nodate)return t.label;e=new r.DateFormat(t.date);return o.bind(s.SessionLabelFormat,[t.label,e.toDateString()])}return""},t.prototype.getDescription=function(t){return null},t.prototype.getIcon=function(t){return null},t.prototype.getCssClass=function(t){return"Container"===t.type?"session-container":"Session"===t.type?"session":""},t}();e.SessionLabelProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(208),o=n(212),s=n(213),a=n(214),u=n(216),l=n(217),c=n(218),h=n(219),d=n(220),p=n(221),f=n(222),g=n(223),m=n(224),v=n(225),y=n(226),_=n(227),b=n(228),C=n(122),x=n(130),w=n(131),S=n(132),T=n(25),M=n(135),E=n(2).Properties.APPMSG;function P(t){var e=[];return e.push(t),e=e.concat(t.getSelectedSessions())}var D,A=n(14).PREFS.pagingEnabled?function(t){return t}:function(t){return 0},I=A(20),k=A(20),$=A(12),R=A(2);function L(t,e,n){switch(t){case"counter":return E.DimCounter;case"compare":return e?E.DimLineCompare:E.DimCompare;default:var i=n.resolveWildcard(t.split("/"));return i?i.label:t}}function O(t,e,n){switch(t){case"counter":return E.DimCounters;case"compare":return e?E.DimLineCompares:E.DimCompares;default:var i=n.resolveWildcard(t.split("/"));return i?i.pluralLabel:t}}!function(t){t[t.SINGULAR=0]="SINGULAR",t[t.PLURAL=1]="PLURAL"}(D=e.LabelKind||(e.LabelKind={}));var N={primary:{legend:!1,paging:30,filter:30},secondary:{legend:!0,paging:12,filter:12},stack:{legend:!0,paging:30,filter:30},arc:{legend:!0,paging:I,filter:I},donut:{legend:!0,paging:k,filter:k},row:{legend:!1,paging:30,filter:30},column:{legend:!1,paging:$,filter:$},rowGroup:{legend:!1,paging:R,filter:R}},F={primary:{legend:!0,paging:16,filter:16},secondary:{legend:!0,paging:8,filter:8}},z=function(t){function e(e){var n=t.call(this)||this;return n.defaults=e?F:N,n}return i.__extends(e,t),e.prototype.fillDefaults=function(t,e){null===e.legend&&(e.legend=this.defaults[t].legend),null===e.paging&&(e.paging=this.defaults[t].paging),null===e.filter&&(e.filter=this.defaults[t].filter)},e}(M.SeriesOptionsModel),H=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.set=function(t,e,n,i,r,o){void 0===o&&(o=r),this.series[t]={dim:e,legend:n,paging:r,filter:o,sorting:i},this.fillDefaults(t,this.series[t])},e}(z),U=function(t){function e(e,n){var i=t.call(this,n)||this;for(var r in e.series){var o=e.series[r];i.series[r]={dim:o.dim,legend:o.legend,sorting:o.sorting,paging:o.paging,filter:o.filter}}return i}return i.__extends(e,t),e.prototype.set=function(t,e,n,i,r,o){void 0===o&&(o=r);var s=this.getSerie(e),a=this.series[s];null===a.legend&&(a.legend=n),null===a.sorting&&(a.sorting=i),null===a.paging&&(a.paging=r),null===a.filter&&(a.filter=o),this.fillDefaults(s,a)},e}(z),V=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.set=function(t,e,n,i,r,o){this.series[t]={dim:e,legend:null,paging:null,filter:null,sorting:null}},e}(z),j=function(){function t(t){if(t.isEmpty())throw E.EmptyView}return t.prototype.dispose=function(){this.queryProvider&&this.queryProvider.dispose()},t.prototype.getQueryProvider=function(){return this.queryProvider},t.prototype.getViewProvider=function(){return this.viewProvider?this.viewProvider:this.queryProvider},t.prototype.getAcceptableDimensions=function(t,e){var n=this,i=function(t){switch(t){case D.SINGULAR:return L;case D.PLURAL:return O;default:throw t}}(e);return this.acceptableDimIds.map(function(e){return{value:e,label:i(e,n instanceof Q,t)}})},t.prototype.getDefaultOptions=function(){var t=new V(this.isLines());return this.applyDefaults(t),t},t.prototype.getSeriesOptions=function(t){var e=t?new U(t,this.isLines()):new H(this.isLines());this.applyDefaults(e);var n=new M.SeriesOptions(this.getSeries());return n.applyOptions(e,this.dimIds,this.acceptableDimIds),n},t}();e.QueryFactory=j;var B=function(t){function e(e,n,i){var g=t.call(this,e)||this,m=e.getWildcards(),v=n.getSelectedTimeRanges(),y=n.getSelectedSessions(),_=e.count()>1,b=e.hasComponents();if(null===m)throw E.InvalidCounters;if(0==m.length)if(b)if(g.acceptableDimIds=["component","compare"].concat(e.getWildcards(!0)),2!=i&&g.acceptableDimIds.push("counter"),g.options={bars:function(t){t.set("primary","counter",!!_&&null,!1,0),t.set("secondary","compare",!0,!1,null),t.set("stack","component",!0,!1,null)},pie:function(t){t.set("arc","component",null,!1,null),t.set("donut","compare",!0,!1,null)},table:function(t){t.set("row","counter",null,!1,0),t.set("column","compare",null,!1,null),t.set("rowGroup","component",null,!1,null)}},1!=v.length)g.queryProvider=new a.GRangeSingleQueryProvider(e),g.dimIds=["counter","compare","component"];else{var C=n.getTimeRangeSampleBounds(v[0]);n.getAgentsManager().isCompare()?(g.queryProvider=new c.GAgentSingleQueryProvider(e,C),g.dimIds=["counter","compare","component"]):y.length>0?(g.queryProvider=new p.GCompareLastSingleQueryProvider(e,P(n),C),g.dimIds=["counter","compare","component"]):(g.queryProvider=new r.GLastSingleQueryProvider(e,C),g.dimIds=["counter","component"])}else if(g.acceptableDimIds=["counter","compare"].concat(e.getWildcards(!0)),g.options={bars:function(t){t.set("primary","counter",!!_&&null,!1,0),t.set("secondary","compare",!0,!1,null)},pie:function(t){t.set("arc","counter",!!_&&null,!1,null),t.set("donut","compare",!0,!1,null)},table:function(t){t.set("row","counter",null,!1,0),t.set("column","compare",null,!1,null)}},1!=v.length)g.queryProvider=new a.GRangeSingleQueryProvider(e),g.dimIds=["counter","compare"];else{C=n.getTimeRangeSampleBounds(v[0]);n.getAgentsManager().isCompare()?(g.queryProvider=new c.GAgentSingleQueryProvider(e,C),g.dimIds=["counter","compare"]):y.length>0?(g.queryProvider=new p.GCompareLastSingleQueryProvider(e,P(n),C),g.dimIds=["counter","compare"]):(g.queryProvider=new r.GLastSingleQueryProvider(e,C),g.dimIds=["counter"])}else if(e.isCrossWildcard())if(g.acceptableDimIds=e.getWildcards(!0),_?(g.acceptableDimIds.push("counter"),g.options={bars:function(t){t.set("primary",m[0],null,!0,null),t.set("secondary","counter",null,!1,0),t.set("stack",m[1],null,!0,null)},pie:function(t){},table:function(t){t.set("row",m[0],null,!0,null),t.set("column",m[1],null,!0,null),t.set("rowGroup","counter",null,!1,0)}}):(2!=i&&g.acceptableDimIds.push("compare"),g.options={bars:function(t){t.set("primary",m[0],null,!0,null),t.set("secondary",m[1],null,!0,null),t.set("stack","compare",null,!1,null)},pie:function(t){t.set("arc",m[0],null,!0,null),t.set("donut",m[1],null,!0,null)},table:function(t){t.set("row",m[0],null,!0,null),t.set("column","compare",null,!1,null),t.set("rowGroup",m[1],null,!0,null)}}),1!=v.length){if(_)throw E.TooMuchDimensions;if(2==i)throw E.TooMuchDimensions;g.queryProvider=new l.GRangeDoubleWildcardQueryProvider(e),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],m[1],"compare"]}else{C=n.getTimeRangeSampleBounds(v[0]);if(n.getAgentsManager().isCompare()){if(_)throw E.TooMuchDimensions;if(2==i)throw E.TooMuchDimensions;g.queryProvider=new d.GAgentDoubleWildcardQueryProvider(e),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],m[1],"compare"]}else{if(y.length>0)throw E.TooMuchDimensions;if(_){if(2==i)throw E.TooMuchDimensions;g.queryProvider=new s.GLastDoubleWildcardQueryProvider(e,C),g.dimIds=[m[0],m[1],"counter"]}else g.queryProvider=new s.GLastDoubleWildcardQueryProvider(e,C),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],m[1]]}}else{if(!(m.length>=1))throw E.TooMuchWildcards;if(g.acceptableDimIds=e.getWildcards(!0),_?(2!=i&&g.acceptableDimIds.push("compare"),g.acceptableDimIds.push("counter"),g.options={bars:function(t){t.set("primary",m[0],null,!0,null),t.set("secondary","counter",null,!1,0),t.set("stack","compare",null,!1,null)},pie:function(t){t.set("arc",m[0],null,!0,null),t.set("donut","counter",null,!1,0)},table:function(t){t.set("row",m[0],null,!0,null),t.set("column","compare",null,!1,null),t.set("rowGroup","counter",null,!1,0)}}):(g.acceptableDimIds.push("compare"),g.options={bars:function(t){t.set("primary",m[0],null,!0,null),t.set("secondary","compare",null,!1,null)},pie:function(t){t.set("arc",m[0],null,!0,null),t.set("donut","compare",null,!1,null)},table:function(t){t.set("row",m[0],null,!0,null),t.set("column","compare",null,!1,null)}}),1!=v.length)if(_){if(2==i)throw E.TooMuchDimensions;g.queryProvider=new u.GRangeWildcardQueryProvider(e),g.dimIds=[m[0],"compare","counter"]}else g.queryProvider=new u.GRangeWildcardQueryProvider(e),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],"compare"];else{C=n.getTimeRangeSampleBounds(v[0]);if(n.getAgentsManager().isCompare())if(_){if(2==i)throw E.TooMuchDimensions;g.queryProvider=new h.GAgentWildcardQueryProvider(e,C),g.dimIds=[m[0],"compare","counter"]}else g.queryProvider=new h.GAgentWildcardQueryProvider(e,C),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],"compare"];else if(y.length>0)if(_){if(2==i)throw E.TooMuchDimensions;g.queryProvider=new f.GCompareLastWildcardQueryProvider(e,P(n),C),g.dimIds=[m[0],"compare","counter"]}else g.queryProvider=new f.GCompareLastWildcardQueryProvider(e,P(n),C),g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0],"compare"];else g.queryProvider=new o.GLastWildcardQueryProvider(e,C),_?g.dimIds=[m[0],"counter"]:(g.viewProvider=T.reduce(g.queryProvider,1),g.dimIds=[m[0]])}}return g.queryProvider&&(g.queryProvider.setSession(n),g.queryProvider.setOn()),g}return i.__extends(e,t),e.prototype.scalePer=function(t){if(t){var e=this.dimIds.indexOf(t);if(-1!=e)this.viewProvider=T.splitUnit(this.getViewProvider(),e);else if(-1==this.acceptableDimIds.indexOf(t))throw"Dimension "+t+" not defined"}},e.prototype.isLines=function(){return!1},e}(j);e.MatrixQueryFactory=B;var q=function(t){function e(e,n){return t.call(this,e,n,1)||this}return i.__extends(e,t),e.prototype.getSeries=function(){return C.BarSeries},e.prototype.applyDefaults=function(t){this.options.bars(t)},e}(B);e.BarsQueryFactory=q;var W=function(t){function e(e,n){return t.call(this,e,n,2)||this}return i.__extends(e,t),e.prototype.getSeries=function(){return x.PieSeries},e.prototype.applyDefaults=function(t){this.options.pie(t)},e}(B);e.PieQueryFactory=W;var G=function(t){function e(e,n){return t.call(this,e,n,0)||this}return i.__extends(e,t),e.prototype.getSeries=function(){return w.TableSeries},e.prototype.applyDefaults=function(t){this.options.table(t)},e}(B);e.TableQueryFactory=G;var Q=function(t){function e(e,n,i){var r=t.call(this,e)||this,o=e.getWildcards(),s=(n.getSelectedTimeRanges(),n.getSelectedSessions()),a=e.count()>1;if(null===o)throw E.InvalidCounters;if(0==o.length)r.acceptableDimIds=["counter","compare"].concat(e.getWildcards(!0)),r.options=a?{lines:function(t){t.set("primary","counter",null,!1,0),t.set("secondary","compare",null,!1,null)}}:{lines:function(t){t.set("primary","compare",null,!1,null),t.set("secondary","counter",!1,!1,0)}},n.getAgentsManager().isCompare()?(r.queryProvider=new v.GLinesAgentSingleQueryProvider(e,i),r.dimIds=["counter","compare"]):s.length>0?(r.queryProvider=new _.GLinesCompareSingleQueryProvider(e,P(n),i),r.dimIds=["counter","compare"]):(r.queryProvider=new g.GLinesSingleQueryProvider(e,i),r.dimIds=["counter"]);else{if(e.isCrossWildcard())throw E.TooMuchDimensions;if(r.acceptableDimIds=e.getWildcards(!0),a?(r.acceptableDimIds.push("counter"),r.options={lines:function(t){t.set("primary",o[0],null,!0,null),t.set("secondary","counter",null,!1,0)}}):(r.acceptableDimIds.push("compare"),r.options={lines:function(t){t.set("primary",o[0],null,!0,null),t.set("secondary","compare",null,!1,null)}}),n.getAgentsManager().isCompare()){if(a)throw E.TooMuchWildcardsComp;r.queryProvider=new y.GLinesAgentWildcardQueryProvider(e,i),r.viewProvider=T.reduceLine(r.queryProvider,1),r.dimIds=[o[0],"compare"]}else if(s.length>0){if(a)throw E.TooMuchWildcardsComp;r.queryProvider=new b.GLinesCompareWildcardQueryProvider(e,P(n),i),r.dimIds=[o[0],"compare"]}else r.queryProvider=new m.GLinesWildcardQueryProvider(e,i),a?(r.viewProvider=r.queryProvider,r.dimIds=[o[0],"counter"]):(r.viewProvider=T.reduceLine(r.queryProvider,1),r.dimIds=[o[0]])}return r.queryProvider&&(r.queryProvider.setSession(n),r.queryProvider.setOn()),r}return i.__extends(e,t),e.prototype.applyDefaults=function(t){this.options.lines(t)},e.prototype.getSeries=function(){return S.LineSeries},e.prototype.scalePer=function(t){if(t){var e=this.dimIds.indexOf(t);-1!=e&&(this.viewProvider=T.splitUnitLine(this.getViewProvider(),e))}},e.prototype.isLines=function(){return!0},e}(j);e.LineQueryFactory=Q},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this)||this;return i.notifier=e,i.dim=n,i.agents=[],i}return i.__extends(e,t),e.prototype.dispose=function(){this.disposeEventHandlers()},e.prototype.disposeEventHandlers=function(){if(this.eventHandlers){for(var t=0,e=this.eventHandlers;t<e.length;t++){e[t].remove()}this.eventHandlers=null}},e.prototype.updatePresentation=function(t){this.presentation=t,this.updateItems()},e.prototype.updateItems=function(){this.agents=this.presentation.getEnabledItems();var t=[];t[this.dim]=!0,this.notifier.changed({majorChange:!0,dimensionsChanged:t})},e.prototype.setSession=function(t){var e=this;this.disposeEventHandlers();var n=t.getAgentsManager();this.updatePresentation(n.getActivePresentation()),this.eventHandlers=[n.on("changed",function(t){t.activePresentationChanged?e.updatePresentation(n.getActivePresentation()):t.presentationEvent&&(t.presentationEvent.itemsChanged||t.presentationEvent.enablementChanged)&&e.updateItems()})]},e.prototype.getUrlParameters=function(){for(var t="",e=0,n=this.agents;e<n.length;e++){var i=n[e];t+="&hostgroup="+this.presentation.getHostQuery(i)}return 1==this.agents.length&&(t+="&hostgroup="),t},e.prototype.name=function(){return"Agents"},e.prototype.size=function(){return this.agents.length},e.prototype.items=function(){return this.agents},e.prototype.key=function(){var t=this;return function(e){return t.presentation.getLabel(e)}},e.prototype.label=function(t,e){return this.presentation.getLabel(t)},e}(n(24).Dimension);e.AgentsDimension=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(41);function o(t){return t&&"color"in t}function s(t){return t&&"stroke"in t}function a(t){return t&&"shade"in t}e.isColorProvider=o,e.isStrokeProvider=s,e.isShadeProvider=a,e.toColorProvider=function(t,e,n){var i=t.dimension(e);return o(i)?i:n?new c(t,e):new l(t,e)},e.toStrokeProvider=function(t,e){var n=t.dimension(e);return s(n)?n:new d},e.toShadeProvider=function(t,e){var n=t.dimension(e);return a(n)?n:new p(t,e)},e.toToneProvider=function(t,e,n){var i=t.ornament(e),r=t.ornament(n);return o(i)?a(r)?new f(i,r):new m(i):o(r)?a(i)?new g(r,i):new v(r):new y};var u=function(){return function(t,e){var n=this;this.provider=t.dimension(e),t.on("changed",function(t){t.dimensionsChanged[e]&&n.update()}),this.create(),this.update()}}(),l=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.create=function(){this.colors=d3.scale.category20()},e.prototype.update=function(){this.colors.domain(d3.range(this.provider.size()))},e.prototype.color=function(t){return this.colors(t)},e}(u),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.create=function(){this.colors=d3.scale.category10()},e}(l),h=[null,"6,2","15,2","15,2,4,2","15,2,4,2,4,2","40,2","40,2,5,2","40,2,5,2,5,2"],d=function(){function t(){}return t.prototype.stroke=function(t){return h[t%h.length]},t}(),p=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.create=function(){},e.prototype.update=function(){this.size=this.provider.size()},e.prototype.shade=function(t,e){return d3.interpolateRgb(t,"#DDDDDD")(e/this.size)},e}(u),f=function(){function t(t,e){this.colorProvider=t,this.shadeProvider=e}return t.prototype.color=function(t,e){var n=this.colorProvider.color(t);return this.shadeProvider.shade(n,e)},t}(),g=function(){function t(t,e){this.colorProvider=t,this.shadeProvider=e}return t.prototype.color=function(t,e){var n=this.colorProvider.color(e);return this.shadeProvider.shade(n,t)},t}(),m=function(){function t(t){this.colorProvider=t}return t.prototype.color=function(t,e){return this.colorProvider.color(t)},t}(),v=function(){function t(t){this.colorProvider=t}return t.prototype.color=function(t,e){return this.colorProvider.color(e)},t}(),y=function(){function t(){this._color=d3.scale.category10().domain(d3.range(1))(0)}return t.prototype.color=function(t,e){return this._color},t}();function _(t,e,n){switch(t){case r.GOrnamentKind.COLOR:return new l(e,n);case r.GOrnamentKind.COLOR_SHADEABLE:return new c(e,n);case r.GOrnamentKind.STROKE:return new d;case r.GOrnamentKind.SHADE:return new p(e,n);case null:return null;default:throw t}}var b=function(){function t(t,e){this.ornaments=[];for(var n=0;n<t.dimensionsCount();n++)this.ornaments[n]=_(e[n],t,n)}return t.prototype.ornament=function(t){return this.ornaments[t]},t}();e.OrnamentMatrix=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(139),o=n(74),s=n(60),a=n(7),u=n(2).Properties.APPMSG,l=n(14),c=function(){return function(){this.showCumulated=!0}}();e.LabelOptions=c;var h={"FirstTime/Absolute":o.ComponentType.TIME,"FirstTime/Relative":o.ComponentType.DURATION,"FirstTime/Elapsed":o.ComponentType.DURATION,"LastTime/Absolute":o.ComponentType.TIME,"LastTime/Relative":o.ComponentType.DURATION,"LastTime/Elapsed":o.ComponentType.DURATION},d=function(){function t(t,e,n,i,r,o){this._path=t.join("/"),this._type=e,this._unitId=n,this._label=i,this._unitLabel=r,this._hasRtb=o,this._wildcards=v(t)}return t.prototype.path=function(){return this._path},t.prototype.label=function(){return this._label},t.prototype.type=function(){return this._type},t.prototype.unitId=function(){return this._unitId},t.prototype.unitLabel=function(){return this._unitLabel},t.prototype.hasRtb=function(){return this._hasRtb},t.prototype.wildcards=function(t){if(!t)return this._wildcards;for(var e=[],n=0;n<this._wildcards.length;n++){var i=this._wildcards[n];t[i]||e.push(i)}return e},t.prototype.saveTo=function(t){t.attr("label",this._label).attr("unit",this._unitId).attr("nlunit",this._unitLabel).attr("hasRTB",this._hasRtb?"true":null),this._type&&t.attr("counterType",this._type.toString())},t.load=function(e,n,i){return new t(e,n,i.attr("unit"),i.attr("label"),i.attr("nlunit"),"true"==i.attr("hasRTB"))},t}();e.CounterImpl=d;var p=function(){function t(t,e,n,i){this._counter=t,this._isCumulated=e,this._queryName=n,this._counterInfoNode=i}return t.prototype.counter=function(){return this._counter},t.prototype.queryName=function(){return this._queryName},t.prototype.unitIndex=function(){return this._unitIndex},t.prototype.path=function(){var t=this._counter.path();return this._isCumulated&&(t+="/Cumulated"),t},t.prototype.wildcards=function(t){return this._counter.wildcards(t)},t.prototype.label=function(t){return this._queryName?this._queryName:(t||(t=new c),this.decorateCounterLabel(this._counter.label(),t))},t.prototype.decorateCounterLabel=function(t,e){return e.showCumulated&&this._isCumulated?a.bind(u.CumulatedCounterLabel,[t]):t},t.prototype.property=function(t){switch(t){case"name":return this.queryName()||this._counter.label();case"counter":return this._counter.label();default:return""}},t.prototype.isSpecialComponent=function(){return!1},t.prototype.setCumulated=function(t){this._isCumulated=t},t.prototype.isCumulated=function(){return this._isCumulated},t.prototype.getDrilldowns=function(){return this.drilldowns||(this._counterInfoNode?(this.drilldowns=t.loadDrilldowns(this._counterInfoNode),this._counterInfoNode=null):this.drilldowns=[]),this.drilldowns},t.prototype.displayValue=function(t){return this.format(t)},t.prototype._setOwner=function(t,e){this.owner=t,t?(this.index=e,t._unitChanged(this,this._unitIndex)):(this.owner=void 0,this.index=void 0)},t.prototype.__setUnit=function(t,e){this._unit=t,this._unitIndex=e},t.prototype._decreaseUnitIndex=function(t){this._unitIndex>t&&this._unitIndex--},t.prototype.unit=function(){return this._unit},t.loadDrilldowns=function(t){var e=[];return t.children("Drilldown").each(function(t){var i,r=this;new Promise(function(t){t()}).then(function(){var t=[n(112)];(function(t){i=t.CounterQuerySet.loadFromView(r)}).apply(null,t)}).catch(n.oe),i.label=$(this).attr("label"),e.push(i)}),e},t.prototype.save=function(){var t=$($.parseXML("<QueryInfo/>").documentElement);return this.saveTo(t)},t.prototype.saveTo=function(t){return this._counter.saveTo(t),t.attr("path",this.path())},t}();e.AbstractCounterQuery=p;var f=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return i.__extends(e,t),e.prototype.duplicate=function(){return new e(this._counter,this._isCumulated,this._queryName,this._counterInfoNode)},e.prototype.computeUnit=function(t){var e=this._counter.type().component(t[0]);return s.CounterUnit.create(this._counter.unitId(),this._counter.unitLabel(),this._counter.type(),e)},e.prototype._setUnit=function(t,e,n){this.__setUnit(t,e);var i=this._counter.type().component(n[0]);this.format=t.formatRoutine(i,null)},e.load=function(t){var n=t.attr("path");if(t.attr("unresolved"))return console.log("Ignoring counterQuery - path : "+n),null;var i=n.split("/"),o=m(i);return new e(d.load(i,r.CounterType.fromString(t.attr("counterType")),t),o,t.attr("name"),t.has("drilldowns")?t:void 0)},e}(p);e.SimpleCounterQuery=f;var g=function(t){function e(e,n,i,r,o,s){var a=t.call(this,e,n,r,o)||this;if(a._component=i,a._componentType=e.type().component(i),!a._componentType)throw"Illegal component '"+i+"' for counter type "+e.type();return a.formatOption=s,a}return i.__extends(e,t),e.prototype.duplicate=function(){return new e(this._counter,this._isCumulated,this._component,this._queryName,this._counterInfoNode,this.formatOption)},e.prototype._setUnit=function(t,e){this.__setUnit(t,e),this.format=t.formatRoutine(this._componentType,this.formatOption)},e.prototype.computeUnit=function(){return s.CounterUnit.create(this._counter.unitId(),this._counter.unitLabel(),this._counter.type(),this._componentType)},e.prototype.component=function(){return this._component},e.prototype.componentType=function(){return this._componentType},e.prototype.path=function(){var e=t.prototype.path.call(this);return this._component.length>0&&(e+="/"+this._component),e},e.prototype.decorateCounterLabel=function(e,n){if(this._component&&!this._componentType.isImplicit){var i=this._componentType.label(this._component);e=a.bind(u.CounterWithComponentLabel,[e,i])}return t.prototype.decorateCounterLabel.call(this,e,n)},e.prototype.property=function(e){switch(e){case"component":return this._component?this._componentType.label(this._component):"";case"component-cumul":return this._component?a.bind(u.CumulatedCounterLabel,[this._componentType.label(this._component)]):"";default:return t.prototype.property.call(this,e)}},e.prototype.setComponent=function(t){var e;if(this.isCumulated()||(e=h[t]),e||(e=this._counter.type().component(t)),!e)throw"Component is not defined";this._component=t,this._componentType=e,this.owner&&this.owner._unitChanged(this,this._unitIndex)},e.prototype.isSpecialComponent=function(){return void 0!==h[this._component]},e.prototype.toString=function(){return this.path()},e.prototype.saveTo=function(e){return this._counter.saveTo(e),e.attr("path",t.prototype.path.call(this)).attr("component",this._component)},e.prototype.expand=function(t){if(this._componentType==o.ComponentType.VALUE_PERCENTILE_GENERIC)for(var e=l.PREFS.percentiles,n=this._component+"/",i=0;i<e.length;i++){var r=this.duplicate();r._component=n+e[i],r._componentType=o.ComponentType.VALUE_PERCENTILE,t.push(r)}else t.push(this)},e.load=function(t){var n=t.attr("path");if(t.attr("unresolved"))return console.log("Ignoring unresolved counterQuery - path : "+n),null;var i=n.split("/"),o=r.CounterType.fromString(t.attr("counterType"));if(!o)return console.log("Ignoring counterQuery with unspecified counter type - path : "+n),null;var s=m(i);try{return new e(d.load(i,o,t),s,t.attr("component")||"",t.attr("name"),t.has("drilldowns")?t:void 0)}catch(t){return console.log(t),null}},e}(p);function m(t){return"Cumulated"==t[t.length-1]&&(t.splice(-1,1),!0)}function v(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"["==i.charAt(0)&&e.push(i.substr(1,i.length-2))}return e}e.CounterComponentQuery=g,e.parseWildcards=v,e.hasWildcards=function(t){return t&&t.indexOf("/[")>=0},e.isEqualWildcards=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},e.encodeCounterPathForUri=function(t){for(var e=t.split("/"),n=0;n<e.length;n++)e[n]=encodeURIComponent(e[n]);return e.join("/")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10);var r,o={datetimeFormat:function(t){return d3.time.format("")(t)},parseNumber:(r=".",function(t){var e=r,n=t||"";return(n=n.replace(/[^\-0-9$.,]/g,"")).indexOf(",")>n.indexOf(".")&&(e=","),(n.match(new RegExp("\\"+e,"g"))||[]).length>1&&(e=""),""!=e&&n.length-n.indexOf(e)-1==3&&0!==n.indexOf("0"+e)&&(e=""),n=(n=n.replace(new RegExp("[^-0-9$"+e+"]","g"),"")).replace(",","."),parseFloat(n)}),numberFormat:d3.format,timeFormat:d3.time.format};e.LOCALE={format:null},e.load=function(){var t=$.Deferred();return function(t){var e=this;new i.Url("/analytics/web/nl/datetime.defs").get(null,function(e){e&&(o.datetimeFormat=function(t){return d3.time.format(e.dateTimeFormat)(t)},t(o))},"json",function(t,n,i){console.log("Unable to retrieve localization resource : "+e.url+" due to "+i)})}(function(e){return t.resolve(e)}),t.promise().then(function(t){return e.LOCALE.format=t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(10),o=n(107),s=n(191),a=n(73),u=n(108),l=n(194),c=n(195),h=n(196),d=n(197),p=n(2).Properties.APPMSG;function f(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function g(t,e){return t-e}function m(t){return t?[t.startTime,t.duration?t.startTime+t.duration-1:void 0]:[0]}var v=function(t){function e(e,n){var i=t.call(this)||this;return i.userSettingsRetrieved=!1,i._setPath(e),i.selectedTimeRangeIndices=[-1],i.ownHostsList=new u.SessionHostList,n&&(i.sessionSet=new l.SessionSet(i,[],[],!1),i.sessionSet.on("selection",function(){return i.updateCompareMutualExclusion()})),i.agentsManager=new c.MetaAgentsManager,i.agentsManager.on("changed",function(t){t.saveState&&i.postUserSettings({agents:t.saveState})}),i.setAgentConstraint(null,null),i.updateCompareMutualExclusion(),i.update(!1),i}return i.__extends(e,t),e.prototype._setPath=function(t){this.sessionPath=t.replace(/\+/g," ")},e.prototype.setPath=function(t){if(null==t&&null!=this.sessionPath)return this.sessionPath=null,void this.emit("deleted");this._setPath(t),this.emit("pathChanged",this.sessionPath)},e.prototype.getBaseRequestUrl=function(){return"/analytics/sessions"+this.sessionPath},e.prototype.getRequestUrl=function(){var t=this.getBaseRequestUrl();return this.userSettingsRetrieved||(t+="?userId=default"),t},e.prototype.getPostData=function(){return null},e.prototype.setData=function(t,e){this.data=t;var n=t.timeRanges;this.updateTimeRangesFromServer(n.list,e),this.ownHostsList.updateHosts(t),t.userSettings&&(this.agentsManager.loadSettings(t.userSettings.agents),this.updateTimeRangeSelectionFromServer(t.userSettings),this.userSettingsRetrieved=!0,this.updateCompareMutualExclusion()),this.hasRtb=1==t.hasRtb},e.prototype.modelAvailable=function(){return this.getDataPromise()},e.prototype.getLabel=function(){return this.data.label?this.data.label:this.getTestName()},e.prototype.getTestName=function(){return this.data.testName},e.prototype.getTestPath=function(){return this.data.testPath},e.prototype.getDate=function(){return new Date(this.data.startTime)},e.prototype.getStartTime=function(){return this.data.startTime},e.prototype.getAgentsManager=function(){return this.agentsManager},e.prototype.getAgentManager=function(t,e,n){var i=this.sessionSet?this.sessionSet.getHostList():this.ownHostsList;null!=e&&(i=new u.FilteredHostList(i,e));var r=[new h.HostsPresentation(i),new d.HostGroupsPresentation(i,"geo",[p.Geos,p.GeosAll,p.GeosCompare])],o="";return null!=e&&(o+=e.join("_")),null!=t&&(o+=t?"cOn":"cOff"),""==o&&(o="default"),null==t?new c.OptionalComparableAgentsManager(o,r):new c.FixedAgentsManager(o,r,t,n)},e.prototype.setAgentConstraint=function(t,e,n){this.agentsManager.setActive(this.getAgentManager(t,e,n)),!0===t&&1!=this.selectedTimeRangeIndices.length?(this.savedSelectedTimeRangeIndices=this.selectedTimeRangeIndices,this.setSelectedTimeRangeIndices([-1])):this.savedSelectedTimeRangeIndices&&(this.setSelectedTimeRangeIndices(this.savedSelectedTimeRangeIndices),this.savedSelectedTimeRangeIndices=null)},e.prototype.getRunRange=function(){return m(this.data.timeRanges.run)},e.prototype.getFocusRange=function(){var t=m(this.data.timeRanges.run);if(-1!=this.selectedTimeRangeIndices.indexOf(-1))return t;if(0==this.getSelectedTimeRanges().length)return t;for(var e=1/0,n=-1,i=0,r=this.getSelectedTimeRanges();i<r.length;i++){var o=r[i];e=Math.min(o.startTime,e),o.isTillEndOfRun()||(n=Math.max(n,o.getLastTime()))}return-1==n&&t&&t[1]&&(n=t[1]),[e,n]},e.prototype.toInclusiveSamples=function(t){if(!t)return[];var e=this.getSampleInterval(),n=Math.floor(t[0]/e);return t[1]?[n,Math.floor(t[1]/e)]:[n]},e.prototype.getTestType=function(){switch(this.data.testType){case"com.ibm.rational.test.lt.lttest":return 0;case"com.ibm.rational.test.common.schedule.ScenarioTestsuite":return 1;case"com.ibm.rational.test.common.schedule.Schedule":return 2;case"com.ibm.rational.test.common.schedule.RateSchedule":return 3;default:return}},e.prototype.isAbstractSchedule=function(){var t=this.getTestType();return 2==t||3==t},e.prototype.getFeatures=function(){return this.data.features},e.prototype.getSampleInterval=function(){return this.data.timeReference.interval},e.prototype.isLive=function(){return this.data.isLive},e.prototype.updateTimeRangesFromServer=function(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];n.push(a.TimeRange.fromJson(o))}this._setTimeRanges(new s.TimeRanges(n,!1),e,!1)},e.prototype.updateTimeRangeSelectionFromServer=function(t){var e=void 0!==t.timeRanges?t.timeRanges:[-1];f(e,this.selectedTimeRangeIndices)||(this.selectedTimeRangeIndices=e,this.emit("selectedTimeRangesChanged",{}))},e.prototype._setTimeRanges=function(t,e,n){var i=this.timeRanges;if(this.timeRanges=t,!i||!i.isSame(this.timeRanges)){var r=this.selectedTimeRangeIndices,o=!1;if(i){if(0==r.length)o=!0;else{var s=i.gets(r);this.selectedTimeRangeIndices=this.timeRanges.findSameTimeRanges(s,!1),null==this.selectedTimeRangeIndices&&(this.selectedTimeRangeIndices=[-1]),o=!f(this.selectedTimeRangeIndices,r)}this.emit("timeRangesChanged",{}),o&&this.selectedTimeRangesChanged()}n&&(this.postTimeRanges(),o&&this.postSelectedTimeRanges())}},e.prototype.setTimeRanges=function(t){this._setTimeRanges(t,!0,!0)},e.prototype.copyTimeRanges=function(){return new s.TimeRanges(this.timeRanges.list(),!0)},e.prototype.selectTimeRange=function(t,e){-1==this.selectedTimeRangeIndices.indexOf(t)&&(this.selectedTimeRangeIndices.push(t),this.selectedTimeRangeIndices.sort(g),this.postSelectedTimeRanges(),this.selectedTimeRangesChanged())},e.prototype.setSelectedTimeRangeIndices=function(t){t.sort(g),f(t,this.selectedTimeRangeIndices)||(this.selectedTimeRangeIndices=t,this.postSelectedTimeRanges(),this.selectedTimeRangesChanged())},e.prototype.selectedTimeRangesChanged=function(){this.updateCompareMutualExclusion(),this.emit("selectedTimeRangesChanged",{})},e.prototype.getSelectedTimeRangeIndices=function(){return this.selectedTimeRangeIndices},e.prototype.getSelectedTimeRanges=function(){return 0==this.selectedTimeRangeIndices.length?this.timeRanges.list():this.timeRanges.gets(this.selectedTimeRangeIndices)},e.prototype.getTimeRangeSampleBounds=function(t){return t?this.toInclusiveSamples(m(t)):null},e.prototype.postTimeRanges=function(){var t={__type:"TimeRanges",list:this.timeRanges.toJson()};new r.Url(this.getBaseRequestUrl()+"/timeranges").request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})},e.prototype.postSelectedTimeRanges=function(){this.postUserSettings({timeRanges:this.selectedTimeRangeIndices})},e.prototype.postUserSettings=function(t){new r.Url(this.getBaseRequestUrl()+"/settings?userId=default").request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})},e.prototype.displayRTB=function(t,e){var n={instances:e},i=1==this.selectedTimeRangeIndices.length?this.selectedTimeRangeIndices[0]:-1;new r.Url(this.getBaseRequestUrl()+"/rtb?counter="+t+"&timeRange="+i).request_post(JSON.stringify(n),"json",{"Content-Type":"application/json; charset=utf-8"})},e.prototype.copySessionSet=function(){return new l.SessionSet(this,this.sessionSet.list(),this.sessionSet.selection(),!0)},e.prototype.setSessionSet=function(t){this.sessionSet.setSessions(t.list())},e.prototype.getSelectedSessions=function(){return this.sessionSet?this.sessionSet.selection():[]},e.prototype.updateCompareMutualExclusion=function(){var t=this.getSelectedSessions().length>1,e=1!=this.selectedTimeRangeIndices.length,n=this.agentsManager.getActive();n instanceof c.OptionalComparableAgentsManager&&n.setDisabledReason(t?p.HostsCompareConflictSessions:e?p.HostsCompareConflictTimeRanges:null)},e.prototype.getUserComment=function(){return this.data.userComment},e.prototype.setUserComment=function(t){this.data.userComment=t,this.postSessionAttributes({userComment:t})},e.prototype.getTags=function(){return this.data.tags},e.prototype.setTags=function(t){this.data.tags=t,this.postSessionAttributes({tags:t})},e.prototype.postSessionAttributes=function(t){new r.Url(this.getBaseRequestUrl()).request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})},e}(o.GRequestProvider);e.Session=v},function(t,e,n){var i,r;i=[n(1),n(78),n(79),n(17),n(96),n(90),n(91),n(92),n(93),n(94),n(89),n(151),n(11),n(97),n(51),n(8),n(20),n(6),n(21)],void 0===(r=function(t,e,n,i,r,o,s,a,u,l,c,h,d,p,f){var g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,m=/<script|<style|<link/i,v=/checked\s*(?:[^=]|=\s*.checked.)/i,y=/^true\/(.*)/,_=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function b(e,n){return t.nodeName(e,"table")&&t.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function x(t){var e=y.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(e,n){var i,r,o,s,a,u,l,c;if(1===n.nodeType){if(d.hasData(e)&&(s=d.access(e),a=d.set(n,s),c=s.events))for(o in delete a.handle,a.events={},c)for(i=0,r=c[o].length;i<r;i++)t.event.add(n,o,c[o][i]);p.hasData(e)&&(u=p.access(e),l=t.extend({},u),p.set(n,l))}}function S(n,i,r,o){i=e.apply([],i);var a,l,p,f,g,m,y=0,b=n.length,w=b-1,T=i[0],M=t.isFunction(T);if(M||b>1&&"string"==typeof T&&!h.checkClone&&v.test(T))return n.each(function(t){var e=n.eq(t);M&&(i[0]=T.call(this,t,e.html())),S(e,i,r,o)});if(b&&(l=(a=c(i,n[0].ownerDocument,!1,n,o)).firstChild,1===a.childNodes.length&&(a=l),l||o)){for(f=(p=t.map(u(a,"script"),C)).length;y<b;y++)g=a,y!==w&&(g=t.clone(g,!0,!0),f&&t.merge(p,u(g,"script"))),r.call(n[y],g,y);if(f)for(m=p[p.length-1].ownerDocument,t.map(p,x),y=0;y<f;y++)g=p[y],s.test(g.type||"")&&!d.access(g,"globalEval")&&t.contains(m,g)&&(g.src?t._evalUrl&&t._evalUrl(g.src):t.globalEval(g.textContent.replace(_,"")))}return n}function T(e,n,i){for(var r,o=n?t.filter(n,e):e,s=0;null!=(r=o[s]);s++)i||1!==r.nodeType||t.cleanData(u(r)),r.parentNode&&(i&&t.contains(r.ownerDocument,r)&&l(u(r,"script")),r.parentNode.removeChild(r));return e}return t.extend({htmlPrefilter:function(t){return t.replace(g,"<$1></$2>")},clone:function(e,n,i){var o,s,a,c,d,p,f,g=e.cloneNode(!0),m=t.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||t.isXMLDoc(e)))for(c=u(g),o=0,s=(a=u(e)).length;o<s;o++)d=a[o],p=c[o],void 0,"input"===(f=p.nodeName.toLowerCase())&&r.test(d.type)?p.checked=d.checked:"input"!==f&&"textarea"!==f||(p.defaultValue=d.defaultValue);if(n)if(i)for(a=a||u(e),c=c||u(g),o=0,s=a.length;o<s;o++)w(a[o],c[o]);else w(e,g);return(c=u(g,"script")).length>0&&l(c,!m&&u(e,"script")),g},cleanData:function(e){for(var n,i,r,o=t.event.special,s=0;void 0!==(i=e[s]);s++)if(f(i)){if(n=i[d.expando]){if(n.events)for(r in n.events)o[r]?t.event.remove(i,r):t.removeEvent(i,r,n.handle);i[d.expando]=void 0}i[p.expando]&&(i[p.expando]=void 0)}}}),t.fn.extend({domManip:S,detach:function(t){return T(this,t,!0)},remove:function(t){return T(this,t)},text:function(e){return i(this,function(e){return void 0===e?t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return S(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||b(this,t).appendChild(t)})},prepend:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var e,n=0;null!=(e=this[n]);n++)1===e.nodeType&&(t.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,n){return e=null!=e&&e,n=null==n?e:n,this.map(function(){return t.clone(this,e,n)})},html:function(e){return i(this,function(e){var n=this[0]||{},i=0,r=this.length;if(void 0===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!m.test(e)&&!a[(o.exec(e)||["",""])[1].toLowerCase()]){e=t.htmlPrefilter(e);try{for(;i<r;i++)1===(n=this[i]||{}).nodeType&&(t.cleanData(u(n,!1)),n.innerHTML=e);n=0}catch(t){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(n){var i=this.parentNode;t.inArray(this,e)<0&&(t.cleanData(u(this)),i&&i.replaceChild(n,this))},e)}}),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){t.fn[e]=function(e){for(var r,o=[],s=t(e),a=s.length-1,u=0;u<=a;u++)r=u===a?this:this.clone(!0),t(s[u])[i](r),n.apply(o,r.get());return this.pushStack(o)}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(n){var i=t.call(this,n)||this;i.enabled=!0,null==e._closeHandler&&(e._closeHandler=$(document).on("click",function(t){null!=e._openedDropDown&&0==$(e._openedDropDown.container).has(t.target).length&&e._openedDropDown.closeComboList()}));var r=i;return $(n).addClass("menu"),$(n).find("a").each(function(){$(this).attr("href","javascript:void(0)"),$(this).attr("role","button"),$(this).addClass("btn"),r.setEnabledItem(this,!0)}),$(n).find("li").each(function(){var t=$(this).children("a");$(this).find("ul").each(function(){$(this).addClass("submenu").hide(),r.setMenuItem(t,this)})}),i}return i.__extends(e,t),e.prototype.setEnabledItem=function(t,e){var n=this;$(t).attr("menuitem_id",$(t).attr("id")),e?($(t).removeClass("ui-state-disabled"),$(t).unbind(),$(t).click(function(e){if(e.preventDefault(),$(t).attr("toggable")){var i=$(t).data("toggled");null==i&&(i=!1),n.setToggleItem(t,!i),n.emit("clicked",$(this).attr("menuitem_id"))}else{var r=$(t).data("menu");r&&($(r).is(":visible")?n.hideSubMenu(r,t):n.showSubMenu(r,t)),n.emit("clicked",$(this).attr("menuitem_id"))}})):($(t).addClass("ui-state-disabled"),$(t).unbind()),this.enabled=e},e.prototype.setToggable=function(t,e){$(t).attr("toggable",e?"true":"false")},e.prototype.setToggleItem=function(t,e){var n=e,i=$(t).data("menu");e?($(t).addClass("toggled"),i&&this.showSubMenu(i,t)):($(t).removeClass("toggled"),i&&this.hideSubMenu(i,t)),$(t).data("toggled",n)},e.prototype.isToggledItem=function(t){var e=$(this.getContainer()).find("#"+t);return $(e).data("toggled")},e.prototype.appendItem=function(t,e,n,i){var r='<li><a menuitem_id="'+t+'" href="javascript:void(0)"></a></li>';i&&$(r).addClass(i),$(this.getContainer()).append(r);var o=$(this.getContainer()).find('li a[menuitem_id="'+t+'"]');return $(o).addClass("ui-button"),e&&$("<i>").addClass(e).attr("aria-hidden","true").appendTo($(o)),n&&($("<div>").addClass("label").text(n).appendTo($(o)),$(o).attr("title",n)),this.setEnabledItem(o,!0),o},e.prototype.appendItemIcon=function(t,e){var n='<li menuitem_id="'+t+'"><a href="javascript:void(0)"></a></li>';$(this.getContainer()).append(n);var i=$(this.getContainer()).find("#"+t);return $(i).find("a").prepend('<span class="ui-button ui-icon '+e+'"></span>'),this.setEnabledItem(i,!0),i},e.prototype.setMenuItemById=function(t,e){var n=$(this.getContainer()).find('li a[menuitem_id="'+t+'"]');n&&this.setMenuItem(n,e)},e.prototype.showSubMenu=function(t,e){this.emit("beforeToShow",t),$(t).insertAfter($(e)),$(t).show()},e.prototype.hideSubMenu=function(t,e){$(t).hide(),$(t).appendTo($(e)),this.emit("hidden",t)},e.prototype.setMenuItem=function(t,e){t&&($(t).data("menu",e),$(e).hide())},e.prototype.getMenuItem=function(t){return $(this.getContainer()).find('li a[menuitem_id="'+t+'"]').data("menu")},e._closeHandler=null,e.openedSubMenu=null,e._openedDropDown=null,e}(n(16).Widget);e.Menu=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.setContentProvider=function(t){this.contentProvider&&this.contentProvider.inputChanged&&this.contentProvider.inputChanged(this,this.input,null),this.contentProvider=t,this.input&&(t.inputChanged&&t.inputChanged(this,null,this.input),this.update())},e.prototype.setLabelProvider=function(t){this.labelProvider=t},e.prototype.getContentProvider=function(){return this.contentProvider},e.prototype.getLabelProvider=function(){return this.labelProvider},e.prototype.setInput=function(t){this.contentProvider&&this.contentProvider.inputChanged&&this.contentProvider.inputChanged(this,this.input,t),this.input=t,this.contentProvider&&this.update()},e.prototype.getInput=function(){return this.input},e.prototype.update=function(){},e}(n(16).Widget);e.Viewer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.COLOR=0]="COLOR",t[t.COLOR_SHADEABLE=1]="COLOR_SHADEABLE",t[t.STROKE=2]="STROKE",t[t.SHADE=3]="SHADE"}(e.GOrnamentKind||(e.GOrnamentKind={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.message=t,this.size=[0,0]}return t.prototype.resize=function(t,e){return this.size=[t,e]},t.prototype.renderLegend=function(t){},t.prototype.renderContents=function(t,e,n){return t.append("p").text(this.message),[e,n]},t.prototype.on=function(t,e){return{remove:function(){}}},t}();e.GError=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36).LOCALE.format,r=function(){function t(t){if(this.date=null,t instanceof Date)this.date=t;else if(t===parseInt(t,10))this.date=new Date(t);else{if("string"!=typeof t)throw t+" is not a Date object or a integer or a string";this.date=new Date(parseInt(t))}}return t.prototype.toDateString=function(){return i.datetimeFormat(this.date)},t}();e.DateFormat=r},function(t,e,n){var i,r;i=[n(28)],void 0===(r=function(t){return t.indexOf}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(28)],void 0===(r=function(t){return t.slice}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return{}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(48)],void 0===(r=function(t){return new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i")}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(48)],void 0===(r=function(t){return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(86),n(19)],void 0===(r=function(t,e,n,i){return function(){var r,o,s,a,u=e.createElement("div"),l=e.createElement("div");function c(){l.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",n.appendChild(u);var t=window.getComputedStyle(l);r="1%"!==t.top,a="2px"===t.marginLeft,o="4px"===t.width,l.style.marginRight="50%",s="4px"===t.marginRight,n.removeChild(u)}l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",i.clearCloneStyle="content-box"===l.style.backgroundClip,u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.appendChild(l),t.extend(i,{pixelPosition:function(){return c(),r},boxSizingReliable:function(){return null==o&&c(),o},pixelMarginRight:function(){return null==o&&c(),s},reliableMarginLeft:function(){return null==o&&c(),a},reliableMarginRight:function(){var t,i=l.appendChild(e.createElement("div"));return i.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",l.style.width="1px",n.appendChild(u),t=!parseFloat(window.getComputedStyle(i).marginRight),n.removeChild(u),l.removeChild(i),t}}))}(),i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(18)],void 0===(r=function(t,e){return t.Callbacks=function(n){n="string"==typeof n?function(n){var i={};return t.each(n.match(e)||[],function(t,e){i[e]=!0}),i}(n):t.extend({},n);var i,r,o,s,a=[],u=[],l=-1,c=function(){for(s=n.once,o=i=!0;u.length;l=-1)for(r=u.shift();++l<a.length;)!1===a[l].apply(r[0],r[1])&&n.stopOnFalse&&(l=a.length,r=!1);n.memory||(r=!1),i=!1,s&&(a=r?[]:"")},h={add:function(){return a&&(r&&!i&&(l=a.length-1,u.push(r)),function e(i){t.each(i,function(i,r){t.isFunction(r)?n.unique&&h.has(r)||a.push(r):r&&r.length&&"string"!==t.type(r)&&e(r)})}(arguments),r&&!i&&c()),this},remove:function(){return t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,a,i))>-1;)a.splice(i,1),i<=l&&l--}),this},has:function(e){return e?t.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=u=[],a=r="",this},disabled:function(){return!a},lock:function(){return s=u=[],r||(a=r=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),i||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(11),n(29),n(52)],void 0===(r=function(t,e){return t.extend({queue:function(n,i,r){var o;if(n)return i=(i||"fx")+"queue",o=e.get(n,i),r&&(!o||t.isArray(r)?o=e.access(n,i,t.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,n){n=n||"fx";var i=t.queue(e,n),r=i.length,o=i.shift(),s=t._queueHooks(e,n);"inprogress"===o&&(o=i.shift(),r--),o&&("fx"===n&&i.unshift("inprogress"),delete s.stop,o.call(e,function(){t.dequeue(e,n)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(n,i){var r=i+"queueHooks";return e.get(n,r)||e.access(n,r,{empty:t.Callbacks("once memory").add(function(){e.remove(n,[i+"queue",r])})})}}),t.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?t.queue(this[0],e):void 0===n?this:this.each(function(){var i=t.queue(this,e,n);t._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&t.dequeue(this,e)})},dequeue:function(e){return this.each(function(){t.dequeue(this,e)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(n,i){var r,o=1,s=t.Deferred(),a=this,u=this.length,l=function(){--o||s.resolveWith(a,[a])};for("string"!=typeof n&&(i=n,n=void 0),n=n||"fx";u--;)(r=e.get(a[u],n+"queueHooks"))&&r.empty&&(o++,r.empty.add(l));return l(),s.promise(i)}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(47),n(82),n(18),n(83),n(87),n(88),n(11),n(8),n(156),n(53),n(27),n(29),n(20)],void 0===(r=function(t,e,n,i,r,o,s,a,u){var l,c,h=/^(?:toggle|show|hide)$/,d=/queueHooks$/;function p(){return window.setTimeout(function(){l=void 0}),l=t.now()}function f(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=i[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function g(t,e,n){for(var i,r=(m.tweeners[e]||[]).concat(m.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function m(e,n,i){var r,o,s=0,a=m.prefilters.length,u=t.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=l||p(),n=Math.max(0,h.startTime+h.duration-t),i=1-(n/h.duration||0),r=0,s=h.tweens.length;r<s;r++)h.tweens[r].run(i);return u.notifyWith(e,[h,i,n]),i<1&&s?n:(u.resolveWith(e,[h]),!1)},h=u.promise({elem:e,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},i),originalProperties:n,originalOptions:i,startTime:l||p(),duration:i.duration,tweens:[],createTween:function(n,i){var r=t.Tween(e,h.opts,n,i,h.opts.specialEasing[n]||h.opts.easing);return h.tweens.push(r),r},stop:function(t){var n=0,i=t?h.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)h.tweens[n].run(1);return t?(u.notifyWith(e,[h,1,0]),u.resolveWith(e,[h,t])):u.rejectWith(e,[h,t]),this}}),d=h.props;for(!function(e,n){var i,r,o,s,a;for(i in e)if(o=n[r=t.camelCase(i)],s=e[i],t.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==r&&(e[r]=s,delete e[i]),(a=t.cssHooks[r])&&"expand"in a)for(i in s=a.expand(s),delete e[r],s)i in e||(e[i]=s[i],n[i]=o);else n[r]=o}(d,h.opts.specialEasing);s<a;s++)if(r=m.prefilters[s].call(h,e,d,h.opts))return t.isFunction(r.stop)&&(t._queueHooks(h.elem,h.opts.queue).stop=t.proxy(r.stop,r)),r;return t.map(d,g,h),t.isFunction(h.opts.start)&&h.opts.start.call(e,h),t.fx.timer(t.extend(c,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}return t.Animation=t.extend(m,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return s(i.elem,t,n.exec(e),i),i}]},tweener:function(e,n){t.isFunction(e)?(n=e,e=["*"]):e=e.match(r);for(var i,o=0,s=e.length;o<s;o++)i=e[o],m.tweeners[i]=m.tweeners[i]||[],m.tweeners[i].unshift(n)},prefilters:[function(e,n,i){var r,s,l,c,d,p,f,m=this,v={},y=e.style,_=e.nodeType&&o(e),b=u.get(e,"fxshow");for(r in i.queue||(null==(d=t._queueHooks(e,"fx")).unqueued&&(d.unqueued=0,p=d.empty.fire,d.empty.fire=function(){d.unqueued||p()}),d.unqueued++,m.always(function(){m.always(function(){d.unqueued--,t.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[y.overflow,y.overflowX,y.overflowY],"inline"===("none"===(f=t.css(e,"display"))?u.get(e,"olddisplay")||a(e.nodeName):f)&&"none"===t.css(e,"float")&&(y.display="inline-block")),i.overflow&&(y.overflow="hidden",m.always(function(){y.overflow=i.overflow[0],y.overflowX=i.overflow[1],y.overflowY=i.overflow[2]})),n)if(s=n[r],h.exec(s)){if(delete n[r],l=l||"toggle"===s,s===(_?"hide":"show")){if("show"!==s||!b||void 0===b[r])continue;_=!0}v[r]=b&&b[r]||t.style(e,r)}else f=void 0;if(t.isEmptyObject(v))"inline"===("none"===f?a(e.nodeName):f)&&(y.display=f);else for(r in b?"hidden"in b&&(_=b.hidden):b=u.access(e,"fxshow",{}),l&&(b.hidden=!_),_?t(e).show():m.done(function(){t(e).hide()}),m.done(function(){var n;for(n in u.remove(e,"fxshow"),v)t.style(e,n,v[n])}),v)c=g(_?b[r]:0,r,m),r in b||(b[r]=c.start,_&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}],prefilter:function(t,e){e?m.prefilters.unshift(t):m.prefilters.push(t)}}),t.speed=function(e,n,i){var r=e&&"object"==typeof e?t.extend({},e):{complete:i||!i&&n||t.isFunction(e)&&e,duration:e,easing:i&&n||n&&!t.isFunction(n)&&n};return r.duration=t.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in t.fx.speeds?t.fx.speeds[r.duration]:t.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){t.isFunction(r.old)&&r.old.call(this),r.queue&&t.dequeue(this,r.queue)},r},t.fn.extend({fadeTo:function(t,e,n,i){return this.filter(o).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,n,i,r){var o=t.isEmptyObject(e),s=t.speed(n,i,r),a=function(){var n=m(this,t.extend({},e),s);(o||u.get(this,"finish"))&&n.stop(!0)};return a.finish=a,o||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof e&&(i=n,n=e,e=void 0),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var n=!0,o=null!=e&&e+"queueHooks",s=t.timers,a=u.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&d.test(o)&&r(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(i),n=!1,s.splice(o,1));!n&&i||t.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var n,i=u.get(this),r=i[e+"queue"],o=i[e+"queueHooks"],s=t.timers,a=r?r.length:0;for(i.finish=!0,t.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),n=s.length;n--;)s[n].elem===this&&s[n].queue===e&&(s[n].anim.stop(!0),s.splice(n,1));for(n=0;n<a;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete i.finish})}}),t.each(["toggle","show","hide"],function(e,n){var i=t.fn[n];t.fn[n]=function(t,e,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(f(n,!0),t,e,r)}}),t.each({slideDown:f("show"),slideUp:f("hide"),slideToggle:f("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){t.fn[e]=function(t,e,i){return this.animate(n,t,e,i)}}),t.timers=[],t.fx.tick=function(){var e,n=0,i=t.timers;for(l=t.now();n<i.length;n++)(e=i[n])()||i[n]!==e||i.splice(n--,1);i.length||t.fx.stop(),l=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){c||(c=window.setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){window.clearInterval(c),c=null},t.fx.speeds={slow:600,fast:200,_default:400},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(5),n(19)],void 0===(r=function(t,e){var n,i,r;return n=t.createElement("input"),i=t.createElement("select"),r=i.appendChild(t.createElement("option")),n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=r.selected,i.disabled=!0,e.optDisabled=!r.disabled,(n=t.createElement("input")).value="t",n.type="radio",e.radioValue="t"===n.value,e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(11),n(51),n(80),n(21)],void 0===(r=function(t,e,n,i,r){var o=/^(?:focusinfocus|focusoutblur)$/;return t.extend(t.event,{trigger:function(s,a,u,l){var c,h,d,p,f,g,m,v=[u||e],y=r.call(s,"type")?s.type:s,_=r.call(s,"namespace")?s.namespace.split("."):[];if(h=d=u=u||e,3!==u.nodeType&&8!==u.nodeType&&!o.test(y+t.event.triggered)&&(y.indexOf(".")>-1&&(y=(_=y.split(".")).shift(),_.sort()),f=y.indexOf(":")<0&&"on"+y,(s=s[t.expando]?s:new t.Event(y,"object"==typeof s&&s)).isTrigger=l?2:3,s.namespace=_.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=u),a=null==a?[s]:t.makeArray(a,[s]),m=t.event.special[y]||{},l||!m.trigger||!1!==m.trigger.apply(u,a))){if(!l&&!m.noBubble&&!t.isWindow(u)){for(p=m.delegateType||y,o.test(p+y)||(h=h.parentNode);h;h=h.parentNode)v.push(h),d=h;d===(u.ownerDocument||e)&&v.push(d.defaultView||d.parentWindow||window)}for(c=0;(h=v[c++])&&!s.isPropagationStopped();)s.type=c>1?p:m.bindType||y,(g=(n.get(h,"events")||{})[s.type]&&n.get(h,"handle"))&&g.apply(h,a),(g=f&&h[f])&&g.apply&&i(h)&&(s.result=g.apply(h,a),!1===s.result&&s.preventDefault());return s.type=y,l||s.isDefaultPrevented()||m._default&&!1!==m._default.apply(v.pop(),a)||!i(u)||f&&t.isFunction(u[y])&&!t.isWindow(u)&&((d=u[f])&&(u[f]=null),t.event.triggered=y,u[y](),t.event.triggered=void 0,d&&(u[f]=d)),s.result}},simulate:function(e,n,i){var r=t.extend(new t.Event,i,{type:e,isSimulated:!0});t.event.trigger(r,null,n)}}),t.fn.extend({trigger:function(e,n){return this.each(function(){t.event.trigger(e,n,this)})},triggerHandler:function(e,n){var i=this[0];if(i)return t.event.trigger(e,n,i,!0)}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(40);$(document).on("click",function(t){i&&0==$(i.getContainer()).has(t.target).length&&i.closeComboList()});var s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dcontainer=n,i.div_list=null,i.selection=null,i.isSelectLineChanged=!0,i.originalText=$(i.getContainer()).text(),$(i.getContainer()).addClass("dropdown-list"),i.icon_name=$(i.getContainer()).attr("icon"),i.setEnabled(!0),i}return r.__extends(e,t),e.prototype.setTextForEmptyList=function(t){this.textForEmptyList=t},e.prototype.setIsSelectLineChanged=function(t){this.isSelectLineChanged=t},e.prototype.closeComboList=function(){this.list=null,$(this.div_list).remove(),this.div_list=null,this.openRequested=!1,this.opened=!1,$(this.getContainer()).removeClass("opened"),this.emit("closed",{})},e.prototype.getListViewItem=function(t){var e=this.div_list;return e?$(e).find('li[idx="'+this.list.indexOf(t)+'"]'):null},e.prototype.drawListItem=function(t,e,n){var i=this.getLabelProvider().getText(e);$("<span>").text(i).addClass("label").appendTo($(t))},e.prototype.drawHeaderList=function(t){},e.prototype.drawFooterList=function(t){},e.prototype.openComboList=function(){var t=this;this.opened||this.openRequested||(i&&(i.closeComboList(),i=void 0),null!=this.getContentProvider()&&(this.openRequested=!0,this.getContentProvider().getElements(this.getInput(),function(e){t.list=e,t.div_list=$("<div>").addClass("dropdown-listview").addClass("ui-widget-content").addClass("ui-front").appendTo($(t.getContainer())),$(t.getContainer()).addClass("opened"),i=t;var n=t;$(t.div_list).position({my:"left top",at:"left bottom",of:$(n.getContainer()),collision:"fit"}),$(t.div_list).show();var r=$("<div>").addClass("header").appendTo(t.div_list);t.drawHeaderList(r);var o=$("<ul>").css("display","block").appendTo(t.div_list);t.fillList(o,e);var s=$("<div>").addClass("footer").appendTo(t.div_list);t.drawFooterList(s);var a=$(window).height(),u=$(o).position().top+$(t.getContainer()).parent().height(),l=$(s).height()+$(r).height();$(o).css("max-height",a-u-l+"px"),t.opened=!0,t.emit("opened",t.div_list),t.openRequested=!1})))},e.prototype.refreshList=function(){var t=this;this.opened&&this.getContentProvider().getElements(this.getInput(),function(e){var n=$(t.div_list).children("ul");n.children().empty(),t.fillList(n,e)})},e.prototype.fillList=function(t,e){if(0==e.length&&this.textForEmptyList){var n=$("<li>").addClass("dropdown-listitem").addClass("helpTextForEmptyList").appendTo($(t)),i=$("<a>").attr("role","button").attr("href","javascript: void(0);").appendTo($(n));$(i).text(this.textForEmptyList)}else{for(var r=0;r<e.length;r++){n=$("<li>").addClass("dropdown-listitem").attr("idx",r).appendTo($(t)),i=$("<a>").attr("role","button").addClass("dropdown-listitem-a").addClass("btn").attr("href","javascript: void(0);").appendTo($(n));this.drawListItem(i,e[r],r)}var o=this;$(this.div_list).find("li").each(function(t){var n=this;o.getLabelProvider().getDescription&&($(n).hover(function(){var i=o.getLabelProvider().getDescription(e[t]);i&&""!=i&&o.openDescription(n,i)},function(){o.closeDescription()}),$(n).find(".dropdown-listitem-a").focus(function(){var i=o.getLabelProvider().getDescription(e[t]);i&&""!=i&&o.openDescription(n,i)}),$(n).find(".dropdown-listitem-a").focusout(function(){o.closeDescription()})),$(n).find(".dropdown-listitem-a").click(function(t){t.stopPropagation(),o.select(+$(n).attr("idx"))}),o.addDecorations($(n).find(".dropdown-listitem-a"),e[t])})}},e.prototype.openDescription=function(t,e){if(null!=this.dcontainer&&null!=this.div_list){var n=this.div_list,i=n.offset();$(this.dcontainer).attr("style","display: block; top:"+(i.top+20)+"px;left:"+(i.left+$(n).width()+10)+"px");$(t).attr("idx");$(this.dcontainer).text(e)}},e.prototype.closeDescription=function(){null!=this.dcontainer&&$(this.dcontainer).attr("style","display: none;")},e.prototype.select=function(t){null!=this.list&&(this.selection=this.list[t]),this.closeDescription(),this.closeComboList(),this.isSelectLineChanged&&this.setText(this.getLabelProvider().getText(this.selection)),this.emit("selectionChanged",this.selection)},e.prototype.getSelection=function(){return this.selection},e.prototype.setText=function(t){var e=t;null!=e&&""!=t||(e=this.originalText);var n=$(this.getContainer()).find(".dropdown-list-text");n.length>0?$(n).text(e):$(this.getContainer()).text(e)},e.prototype.getText=function(){var t=$(this.getContainer()).find(".dropdown-list-text");return t.length>0?$(t).text():$(this.getContainer()).text()},e.prototype.addDecorations=function(t,e){if(this.getLabelProvider()&&this.getLabelProvider().getDecorations){var n=this.getLabelProvider().getDecorations(e);if(n)for(var i=0;i<n.length;i++){var r=document.createElement("mark");$(r).text(n[i]),$(r).addClass("decoration").addClass(n[i]).appendTo($(t))}}},e.prototype.setEnabled=function(t){var e=this;if(t){if(0==$(this.getContainer()).find(".dropdown-list-selectline").length){var n=$(this.getContainer()).text();$(this.getContainer()).text("");var i=$("<a>").attr("href","javascript:void(0)").attr("role","button").addClass("btn").addClass("dropdown-list-selectline").click(function(t){e.openRequested||e.opened?e.closeComboList():e.openComboList()}).appendTo($(this.getContainer())),r=($("<span>").addClass("dropdown-list-text").text(n).appendTo($(i)),$("<span>").addClass("dropdown-list-button").appendTo($(i)));$("<i>").addClass("fa").addClass(this.icon_name?this.icon_name:"fa-angle-down").attr("aria-hidden","true").appendTo(r)}}else $(this.getContainer()).text(this.getText()),$(this.getContainer()).addClass("dropdown-list-text")},e.prototype.setVisible=function(t){t?$(this.getContainer()).show():$(this.getContainer()).hide()},e}(o.Viewer);e.DropDownList=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(30),o=n(2).Properties.APPMSG,s=function(t){function e(){var e=t.call(this)||this;return e.regularStatus=[{label:o.INIT,isActive:!1},{label:o.RUNNING,isActive:!1},{label:o.PERFORMING_DATA_TRANSFERT,isActive:!1},{label:o.COMPLETE,isActive:!1}],e.errorStatus=[{label:o.COMPLETED_WITH_ERROR,isActive:!1}],e.statuses=e.regularStatus,e}return i.__extends(e,t),e.prototype.getRequestUrl=function(){return this.getSessionFullPath()+"/qlast?counter=/Run/Run Status/Cumulated&counter=/Run/Run Error Message/Cumulated"},e.prototype.getPostData=function(){},e.prototype.itemsAvailable=function(){return this.getDataPromise()},e.prototype.items=function(){return this.statuses},e.prototype.getLabel=function(t){return this.isError(t)?t.label+":"+this.errorMessage:t.label},e.prototype.isActive=function(t){return t.isActive},e.prototype.isError=function(t){return 0===t.label.lastIndexOf(o.COMPLETED_WITH_ERROR,0)||0===t.label.lastIndexOf(o.STOPPED_WITH_ERROR,0)},e.prototype.setSessionData=function(t,e){var n=this.rawStatus;if(void 0===t)throw"Empty response received from server";this.rawStatus="INIT",this.errorMessage="",void 0!==t.counters&&(t.counters[0]&&(this.rawStatus=t.counters[0]),t.counters[1]&&(this.errorMessage=t.counters[1])),this.rawStatus||(this.rawStatus="INIT"),this.computeStatus(this.rawStatus),n!=this.rawStatus&&this.emit("changed",{itemsChanged:!0})},e.prototype.computeStatus=function(t){switch(t){case"COMPLETED_WITH_ERROR":this.statuses=this.errorStatus;break;case"STOPPED_MANUALLY":this.statuses=this.regularStatus,this.statuses[3].label=o.STOPPED_MANUALLY,this.setStatusActive(3);break;case"STOPPED_WITH_ERROR":this.statuses=this.regularStatus,this.statuses[3].label=o.STOPPED_WITH_ERROR,this.setStatusActive(3);break;case"COMPLETE":this.statuses=this.regularStatus,this.statuses[3].label=o.COMPLETE,this.setStatusActive(3);break;case"INIT":this.statuses=this.regularStatus,this.statuses[0].label=o.INIT,this.setStatusActive(0);break;case"ADDING_USERS":this.statuses=this.regularStatus,this.statuses[1].label=o.ADDING_USERS,this.setStatusActive(1);break;case"LAG":this.statuses=this.regularStatus,this.statuses[1].label=o.LAG,this.setStatusActive(1);break;case"RUNNING":this.statuses=this.regularStatus,this.statuses[1].label=o.RUNNING,this.setStatusActive(1);break;case"PERFORMING_DATA_TRANSFERT":this.statuses=this.regularStatus,this.statuses[2].label=o.PERFORMING_DATA_TRANSFERT,this.setStatusActive(2);break;default:this.statuses=this.errorStatus,this.statuses[0].label+=t}},e.prototype.setStatusActive=function(t){for(var e=0,n=this.statuses;e<n.length;e++){n[e].isActive=!1}this.statuses[t].isActive=!0},e.prototype.getActiveStatus=function(){var t,e=this;return this.statuses.some(function(n){return!(!n.isActive&&!e.isError(n))&&(t=n.label,!0)},this)?t:"UNKNOWN"},e.prototype.canControlExecution=function(){switch(this.rawStatus){case"ADDING_USERS":case"LAG":case"RUNNING":return!0;default:return!1}},e}(r.GSessionRequestProvider);e.GStatusQueryProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this)||this;return n.composite=null,n.layout_name=e,n}return i.__extends(e,t),e.prototype.setComposite=function(t){this.composite=t},e.prototype.getComposite=function(){return this.composite},e.prototype.getContainer=function(){return this.composite.getContents()},e.prototype.layout=function(){$(this.getContainer()).addClass(this.layout_name);for(var t=this.getComposite().getItems(),e=0;e<t.length;e++)$(t[e].getContainer()).addClass(this.layout_name+"-item")},e.prototype.addItem=function(t){$(t.getContainer()).addClass(this.layout_name+"-item")},e.prototype.removeItem=function(t){$(t.getContainer()).removeClass(this.layout_name+"-item")},e.prototype.setItemVisible=function(t,e){var n=$(t.getContainer());e?n.show():n.hide()},e.prototype.resizeContents=function(){},e.prototype.unlayout=function(){for(var t=this.getComposite().getItems(),e=0;e<t.length;e++)$(t[e].getContainer()).removeClass(this.layout_name+"-item");$(this.getContainer()).removeClass(this.layout_name)},e}(n(4).Evented);e.Layout=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36).LOCALE.format,r=n(7),o=n(2).Properties.APPMSG;var s=i.numberFormat(",.0f"),a=i.numberFormat("02.0f"),u=i.numberFormat(",.4r");function l(t){return t<1e3?u(t):s(t)}function c(t){return function(e){return r.bind(t,l(e))}}function h(t,e){return function(n){return r.bind(t,l(n/e))}}function d(t){if(t<60)return r.bind(o.VFormat_Seconds,s(t));var e=Math.floor(t/60);if(t%=60,e<60)return r.bind(o.VFormat_Minutes,[a(e),a(t)]);var n=Math.floor(e/60);return e%=60,r.bind(o.VFormat_Hours,[s(n),a(e),a(t)])}function p(t){return t%1?l(t):s(t)}function f(t){var e=Math.round(60*t)%60;return e?r.bind("{0}:{1}",[s(Math.floor(t)),a(e)]):s(t)}function g(t){var e=Math.round(3600*t)%60,n=Math.floor(60*t)%60;return t=Math.floor(t),e?r.bind("{0}:{1}:{2}",[s(t),a(n),a(e)]):n?r.bind("{0}:{1}",[s(t),a(n)]):s(t)}function m(t){var e=Math.round(86400*t)%60,n=Math.floor(1440*t)%60,i=Math.floor(24*t)%24;return t=Math.floor(t),e?r.bind("{0}:{1}:{2}:{3}",[s(t),a(i),a(n),a(e)]):n?r.bind("{0}:{1}:{2}:{3}",[s(t),a(i),a(n)]):i?r.bind("{0}:{1}:00",[s(t),a(i),"00"]):s(t)}function v(t,e){return function(n){for(var i=0;n>=e&&i<t.length-1;)n/=e,i++;return r.bind(t[i],i?l(n):s(n))}}function y(t,e){return function(n){for(var i=1,r=0,o=t.length-1;r<o&&!(n<2*e*i);r++)i*=e;return b(i,t[r])}}function _(t){return t.map(function(t){return r.bind(o.UFormat_Persec,t)})}function b(t,e,n){return 1==t?{translate:function(t){return t},unit:e,display:n}:{translate:function(e){return e/t},unit:e,display:n}}function C(t,e){var n=function(t){if(isNaN(t))return 1;for(var e=1;;e*=1e3)if(t<2e3*e)return e}(t);return 1!=n&&(e=r.bind(o.T("UMULT"),[s(n),e])),b(n,e)}function x(t){return{auto:w(o.T("Format_Auto"),t)}}function w(t,e,n){return{label:r.initialUpperCase(t),format:e,floatFormat:n||e}}var S={defaultRange:[0,1e3],requiredRange:[0,10],displayFormats:{auto:w(o.T("Format_Auto"),function(t){if(t<1e3)return r.bind(o.VFormat_Millis,s(t));var e=t/1e3;return e<60?r.bind(o.VFormat_Seconds,l(e)):d(Math.round(e))},function(t){if(t<1e3)return r.bind(o.VFormat_Millis,l(t));var e=t/1e3;return e<60?r.bind(o.VFormat_Seconds,l(e)):d(Math.round(e))}),MS:w(o.UMS,c(o.VFormat_Millis)),S:w(o.USEC,h(o.VFormat_Seconds,1e3)),M:w(o.UMIN,h(o.VFormat_MinutesPlain,6e4)),H:w(o.UHOURS,h(o.VFormat_HoursPlain,36e5)),HMS:w(o.T("Format_HHMMSS"),function(t){var e=Math.round(t/1e3),n=Math.floor(e/60);e%=60;var i=Math.floor(n/60);return n%=60,r.bind(o.VFormat_Hours,[s(i),a(n),a(e)])})},scaleFactor:function(t){return t<2e3?b(1,o.T("UMS")):t<12e4?b(1e3,o.T("USEC")):t<72e5?b(6e4,o.T("UMIN")):t<2592e5?b(36e5,o.T("UHOURS")):b(864e5,o.T("UDAYS"))}},T={defaultRange:[0,60],requiredRange:[0,5],displayFormats:x(d),scaleFactor:function(t){return t<120?b(1,o.T("USEC"),p):t<7200?b(60,o.T("UMIN"),f):t<259200?b(3600,o.T("UHOURS"),g):b(86400,o.T("UDAYS"),m)}},M={defaultRange:[9466848e5,1893456e3],requiredRange:null,displayFormats:x(function(t){return new Date(t).toString()}),label:null},E={defaultRange:[0,100],requiredRange:[0,100],displayFormats:x(function(t){return r.bind(o.VFormat_Percent,l(t))})},P=[o.UBYTES,o.UKBYTES,o.UMBYTES,o.UGBYTES,o.UTBYTES,o.UPBYTES],D=[o.VFormat_Bytes,o.VFormat_KiloBytes,o.VFormat_MegaBytes,o.VFormat_GigaBytes,o.VFormat_TeraBytes],A=[o.VFormat_BytesPS,o.VFormat_KiloBytesPS,o.VFormat_MegaBytesPS,o.VFormat_GigaBytesPS,o.VFormat_TeraBytesPS],I=[o.UBYTES,o.T("UKIBYTES"),o.T("UMIBYTES"),o.T("UGIBYTES"),o.T("UTIBYTES"),o.T("UPIBYTES")],k=[o.VFormat_Bytes,o.T("VFormat_KibiBytes"),o.T("VFormat_MebiBytes"),o.T("VFormat_GibiBytes"),o.T("VFormat_TebiBytes")],$=[o.VFormat_BytesPS,o.T("VFormat_KibiBytesPS"),o.T("VFormat_MebiBytesPS"),o.T("VFormat_GibiBytesPS"),o.T("VFormat_TebiBytesPS")],R={AutoB:w("Automatic (1000 multiples)",v(D,1e3)),AutoIB:w("Automatic (1024 multiples)",v(k,1024)),B:w(o.UBYTES,c(o.VFormat_Bytes)),KB:w(o.UKBYTES,h(o.VFormat_KiloBytes,1e3)),KIB:w(o.T("UKIBYTES"),h(o.T("VFormat_KibiBytes"),1024)),MB:w(o.UMBYTES,h(o.VFormat_MegaBytes,1e6)),MIB:w(o.T("UMIBYTES"),h(o.T("VFormat_MebiBytes"),1048576)),GB:w(o.UGBYTES,h(o.VFormat_GigaBytes,1e9)),GIB:w(o.T("UGIBYTES"),h(o.T("VFormat_GibiBytes"),1073741824)),TB:w(o.UTBYTES,h(o.VFormat_TeraBytes,1e12)),TIB:w(o.T("UTIBYTES"),h(o.T("VFormat_TebiBytes"),1099511627776))},L={defaultRange:[0,1e3],requiredRange:[0,1],displayFormats:R,defaultFormat:"AutoB",scaleFactor:y(P,1e3)},O={defaultRange:[0,1e3],requiredRange:[0,1],displayFormats:R,defaultFormat:"AutoIB",scaleFactor:y(I,1024)};function N(t,e){return w(r.bind(o.UFormat_Persec,t),e)}var F={AutoBPS:w("Automatic (1000 multiples)",v(A,1e3)),AutoIBPS:w("Automatic (1024 multiples)",v($,1024)),BPS:N(o.UBYTES,c(o.VFormat_BytesPS)),KBPS:N(o.UKBYTES,h(o.VFormat_KiloBytesPS,1e3)),KIBPS:N(o.T("UKIBYTES"),h(o.T("VFormat_KibiBytesPS"),1024)),MBPS:N(o.UMBYTES,h(o.VFormat_MegaBytesPS,1e6)),MIBPS:N(o.T("UMIBYTES"),h(o.T("VFormat_MebiBytesPS"),1048576)),GBPS:N(o.UGBYTES,h(o.VFormat_GigaBytesPS,1e9)),GIBPS:N(o.T("UGIBYTES"),h(o.T("VFormat_GibiBytesPS"),1073741824)),TBPS:N(o.UTBYTES,h(o.VFormat_TeraBytesPS,1e12)),TIBPS:N(o.T("UTIBYTES"),h(o.T("VFormat_TebiBytesPS"),1099511627776))},z={defaultRange:[0,1e3],requiredRange:[0,.1],displayFormats:F,defaultFormat:"AutoBPS",scaleFactor:y(_(P),1e3)},H={defaultRange:[0,1e3],requiredRange:[0,.1],displayFormats:F,defaultFormat:"AutoIBPS",scaleFactor:y(_(I),1024)},U={defaultRange:null,requiredRange:null,label:null,displayFormats:x(function(t){return t})},V={defaultRange:null,requiredRange:null,label:null,displayFormats:x(function(t){return function(e){return e.append("a").classed("url",!0).attr("href",t).attr("target","_blank").text(t)}})},j={defaultRange:[0,1],requiredRange:[0,1],label:"",displayFormats:x(function(t){return t?o.VFormat_StatusPassed:o.VFormat_StatusFailed})},B={defaultRange:null,requiredRange:null,label:null,displayFormats:x(function(t){return o.T(t)})},q={defaultRange:null,requiredRange:null,label:null,displayFormats:x(function(t){switch(t){case 1:return o.SyncPointStateInactive;case 2:return o.SyncPointStateActive;case 3:return o.SyncPointStateReleased}return""})},W={defaultRange:null,requiredRange:null,label:null,displayFormats:x(function(t){return o.T("RateGen_"+t)})},G={auto:w(o.T("Format_Units"),s,l),K:w(o.T("Format_Thousands"),h(o.VFormat_Thousands,1e3)),M:w(o.T("Format_Millions"),h(o.VFormat_Millions,1e6)),G:w(o.T("Format_Billions"),h(o.VFormat_Billions,1e9))},Q={defaultRange:[0,5],requiredRange:[0,1],scaleFactor:C,displayFormats:G},X={defaultRange:[0,5],requiredRange:[0,1],label:"",scaleFactor:C,displayFormats:G};var Y=function(){function t(t,e,n){this.id=t,this.label=e,this.counterIndices=[],this.format=n,void 0!==this.format.label&&(this.label=this.format.label)}return t.prototype.setFormat=function(t){this.formatOption=t},t.prototype.addCounterIndex=function(t){this.counterIndices.push(t)},t.prototype.removeCounterIndex=function(t){var e=this.counterIndices.indexOf(t);-1!=e&&this.counterIndices.splice(e,1)},t.prototype.isNumeric=function(){return null!==this.label},t.prototype.requiredRange=function(){return this.format.requiredRange},t.prototype.defaultRange=function(){return this.format.defaultRange},t.prototype.formatRoutine=function(t,e){var n;e||(e=this.formatOption||this.format.defaultFormat||"auto");var i=this.format.displayFormats[e];return i||(i=this.format.displayFormats[this.format.defaultFormat||"auto"]),n=t.float?i.floatFormat:i.format,void 0===t.defaultValue?function(t){return function(e){return void 0===e||null===e?o.NotDefined:t(e)}}(n):function(t,e){return function(n){return void 0!==n&&null!==n||(n=e),t(n)}}(n,t.defaultValue)},t.prototype.getLabel=function(){return this.label?r.initialUpperCase(this.label):null},t.prototype.getFormats=function(){var t={};for(var e in this.format.displayFormats)t[e]=this.format.displayFormats[e].label;return t},t.prototype.getDefaultFormat=function(){return this.format.defaultFormat||"auto"},t.prototype.scaleFactor=function(t){return this.format.scaleFactor?this.format.scaleFactor(function(t){var e=t[1];return(e<0||t[0]<0&&-t[0]>e)&&(e=-t[0]),e}(t),this.label):b(1,this.label)},t.prototype.getCounterIndices=function(t){var e=this.counterIndices;return t&&(e=e.filter(function(e){return-1!=t.indexOf(e)})),e},t.prototype.same=function(t){return this.id==t.id},t.create=function(e,n,i,r){var o=r.unitId(e);return new t(o,r.unitLabel(n),function(t){if(!t)return U;switch(t){case"UMS":case"UMilliSeconds":return S;case"USEC":return T;case"UTIME":return M;case"UPERCENT":return E;case"UBYTES":return L;case"UIBYTES":return O;case"UBYTES_PER_SEC":return z;case"UIBYTES_PER_SEC":return H;case"UREQSTATUS":return j;case"URUNSTATUS":return B;case"USYNCPTSTATE":return q;case"URATEGENSTATE":return W;case"UURL":return V;case"UUNSPECIFIED":return X;default:return Q}}(o))},t.SECONDS=new t("USEC",o.secSymbol,T),t}();e.CounterUnit=Y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(110),o=n(113),s=n(206),a=n(62),u=n(141),l=n(249),c=n(251),h=n(2).Properties.APPMSG,d=n(12),p=function(t){function e(e,n,i,r,o){var s=t.call(this,e)||this;s.page_node=n,s.page_id=i,s.parent_page=r,s.report=o,s.parent_page&&s.parent_page.addChildPage(s),$(s.getContainer()).attr("id",i),$(s.getContainer()).addClass("page");var a=document.createElement("header");$(a).addClass("removableTitle"),$(a).appendTo($(s.getContainer()));var u=s,c=document.createElement("section");s.setContents(c),$(c).appendTo($(s.getContainer())),$(s.page_node).children("views").children().each(function(){var t=u.createView(this);u.addItem(t),$(t.getContainer()).appendTo($(u.getContents()))});var h=document.createElement("footer");$(h).appendTo($(s.getContainer()));var d=new l.PageLayout(s);return s.setLayout(d),s.fillTitle(),s}return i.__extends(e,t),e.prototype.addChildPage=function(t){this.child_pages?this.child_pages.push(t):this.child_pages=[t]},e.prototype.getChildrenPages=function(){return this.child_pages},e.prototype.hasChildrenPage=function(){return this.child_pages&&0!=this.child_pages.length},e.prototype.hasParentPage=function(){return void 0!=this.parent_page},e.prototype.getRootPage=function(){return this.parent_page?this.parent_page.getRootPage():this},e.prototype.fillTitle=function(){if(!this.title){var t=$(this.container).children("header");this.title=$("<h1>").appendTo(t),this.title.hide();$(document.createElement("a")).attr("name",this.page_id).appendTo(this.title);$("<span>").appendTo(this.title).addClass("page-title").text(this.getTitle()).hide()}},e.prototype.displaySubPages=function(t){var e=this.getDrilldownActions(),n=new o.PopupMenu;n.setActions(e),n.openPopupMenu(t),n.positionMenu(t.pageX,t.pageY)},e.prototype.setShowTitleHint=function(t){var e=null!=this.parent_page||null!=this.child_pages;this.applyShowTitle(e||t)},e.prototype.applyShowTitle=function(t){$(this.getContainer()).find(".removableTitle").toggleClass("removedTitle",!t)},e.prototype.getTitle=function(){return $(this.page_node).attr("name")},e.prototype.getReport=function(){return this.report},e.prototype.getModel=function(){return this.page_node},e.prototype.getId=function(){return this.page_id},e.prototype.show=function(){var t=this;this.createWildcardSelectionForm(),this.report.filter_manager.enterRegister();try{this.viewMonitors=[];var e=this.isEditMode();$(this.getItems()).each(function(n){var i=this.startFilterMonitoring(function(n,i){e&&(i=!0),t.getLayout().setItemVisible(n,i),i?n.show():n.hide()},!0);i&&t.viewMonitors.push(i)})}finally{this.report.filter_manager.exitRegister()}this.selectedInstances&&this.setInstances(this.selectedInstances)},e.prototype.hide=function(){this.instancesSelector&&(this.instancesSelector.remove(),this.instancesSelector=void 0),$(this.viewMonitors).each(function(){this.remove()}),this.viewMonitors=void 0,$(this.getItems()).each(function(t){this.hide()})},e.prototype.startFilterMonitoring=function(t,e){if(void 0===this.filterMonitor&&(this.filterMonitor=this.report.filter_manager.createMonitor(this.getModel())),this.filterMonitor){var n=this,i=this.filterMonitor.on("visibilityChanged",function(){t&&t(n,n.filterMonitor.isVisible())});return e&&t&&t(this,this.filterMonitor.isVisible()),i}return e&&t&&t(this,!0),null},e.prototype.isFiltered=function(){return!!this.filterMonitor&&!this.filterMonitor.isVisible()},e.prototype.remove=function(){$(this.page_node).remove()},e.prototype.createView=function(t){var e=this,n=$(t).find("layoutData")[0],i=(new u.ViewsFactory).create(document.createElement("div"),this,this.page_id+"-view"+this.getItems().length,t,this.instancesSelector?this.instancesSelector.getInstances():void 0);i.setLayoutData(n),i.on("modified",function(t){e.emit("modified",e)}),i.on("deleted",function(t){e.removeView(t),d.App.INSTANCE.getSearchSystem().remove(t.getId())});var r=$(t).attr("name");return r||(r=""),d.App.INSTANCE.getSearchSystem().add(i.getId(),{label:$(e.page_node).attr("name")+" - "+r,category:h.SearchCategory_Views,object:i}),i},e.prototype.removeView=function(t){this.removeItem(t),$(t.getModel()).remove(),this.emit("viewRemoved",t),this.emit("modified",this)},e.prototype.getView=function(t){for(var e=this.getItems(),n=0;n<e.length;n++)if(e[n].getModel()==t)return e[n];return null},e.prototype.showItem=function(t){null!=this.getLayout()&&this.getLayout().showItem(t)},e.prototype.setEditMode=function(t){for(var e=this,n=(this.getItems(),0),i=this.getItems();n<i.length;n++){var r=i[n];this.viewMonitors&&r.isFiltered()&&(this.getLayout().setItemVisible(r,t),t?r.show():r.hide()),r.setEditMode(t)}this.getLayout().setEditable(t);var o=$(this.getContainer()).children("header").children("h1").find(".page-title");t?(o.show(),this.title.show(),this.editable_title=new s.EditableLabel(o[0]),this.editable_title.on("textChanged",function(t){e.emit("titleChanged",t)}),$(this.getContainer()).addClass("in-edition"),o.addClass("in-edition")):(this.title.hide(),o.hide(),null!=this.editable_title&&this.editable_title.destroy(),o.removeClass("in-edition"),$(this.getContainer()).removeClass("in-edition"))},e.prototype.isEditMode=function(){return this.getLayout().isEditable()},e.prototype.setSession=function(t){this.session=t,this.instancesSelector&&this.instancesSelector.setSession(t),$(this.getItems()).each(function(){this.setSession(t)}),this.session&&this.emit("sessionChanged",t)},e.prototype.getSession=function(){return this.session},e.prototype.createWildcardSelectionForm=function(){var t=this,e=this.getWildcards();if(0!=e.length&&!this.instancesSelector){this.instancesSelector=new c.InstancesSelector(e,this.isAllInstancesAllowed(),this.page_id,$("#page_selector_reduced_panel_pagetitle")),this.instancesSelector.setSession(this.session);this.instancesSelector.on("instancesChanged",function(){var e;e=t,$(t.getItems()).each(function(){this.setInstances(e.instancesSelector.getInstances())}),t.selectedInstances=t.instancesSelector.getInstances(),t.emit("instancesChanged",t.selectedInstances)})}},e.prototype.deleteWildcardSelectionForm=function(){this.instancesSelector.remove()},e.prototype.getWildcards=function(){var t=$(this.page_node).attr("wildcards");return t?t.split(","):[]},e.prototype.isAllInstancesAllowed=function(){return"true"==$(this.page_node).attr("allInstancesAllowed")},e.prototype.getDrilldownActions=function(){if(!this.child_pages)return[];var t=this.report;return this.child_pages.filter(function(t){return!t.isFiltered()}).map(function(e){return new a.Action(e.getTitle(),function(){t.setPage(e)})})},e.prototype.setInstances=function(t){this.instancesSelector?this.instancesSelector.setInstances(t):this.selectedInstances=t},e.prototype.resizeContents=function(){this.getLayout()&&this.getLayout().resizeContents();for(var t=this.getItems(),e=0;e<t.length;e++)t[e].notifyResize();if(this.child_pages)for(e=0;e<this.child_pages.length;e++)this.child_pages[e].resizeContents()},e}(r.Composite);e.Page=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){this.name=t,this.run=e}}();e.Action=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(114),o=n(2).Properties.APPMSG,s=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setClassName("chart-view"),s.legendVisibility=$(s.getModel()).attr("legendVisibility")||"top",s.scaleOnSelection=!("false"===$(s.getModel()).attr("scaleOnSelection")),s.legend=document.createElement("div"),$(s.legend).addClass("chart-legend"),$(s.legend).appendTo(s.getContents()),s.chart=document.createElement("div"),$(s.chart).addClass("chart-area"),$(s.chart).appendTo(s.getContents()),s}return i.__extends(e,t),e.prototype.createContents=function(t,e,n){this.updateLegend(),this.createLegend(this.legend);var i=this.computeChartSize(e,n);this.createChart(this.chart,i[0],i[1]),this.chartCreated=!0},e.prototype.clearContents=function(){$(this.chart).children().each(function(t){$(this).remove()}),$(this.legend).children().each(function(t){$(this).remove()})},e.prototype.contentsResized=function(t,e,n){if(this.chartCreated){var i=this.computeChartSize(e,n);this.chartResized($(t).find(".chart-area")[0],i[0],i[1])}},e.prototype.computeChartSize=function(t,e){var n=e,i=0;return"hidden"!=this.getLegendVisibility()&&(i=$(this.getContents()).find(".chart-legend").height()),[t,n-i]},e.prototype.updateLegend=function(t){var e=this.getLegendVisibility();"hidden"!==e?($(this.getContainer()).find(".chart-legend").show(),t&&$(this.getContainer()).find(".chart-legend").removeClass("chart-legend-"+t),$(this.getContainer()).find(".chart-legend").addClass("chart-legend-"+e),"bottom"==e?$(this.getContainer()).find(".chart-legend").insertAfter($(this.getContainer()).find(".chart-area")):"top"==e&&$(this.getContainer()).find(".chart-legend").insertBefore($(this.getContainer()).find(".chart-area"))):$(this.getContainer()).find(".chart-legend").hide()},e.prototype.createOptions=function(e,n){var i=this;t.prototype.createOptions.call(this,e,n),e.addOption({label:o.LegendVisibility_label,type:"SELECT",id:"legendVisibility",values:function(){return[{value:"top",label:o.LegendVisibility_top},{value:"bottom",label:o.LegendVisibility_bottom},{value:"hidden",label:o.LegendVisibility_none}]},value:function(){return i.getLegendVisibility()},change:function(t,e){i.setLegendVisibility(t,e),i.resizeContents()}}),e.addOption({label:o.ScaleOnSelection_label,type:"BOOLEAN",id:"scaleOnSelection",value:function(){return i.isScaleOnSelection()},change:function(t,e){i.setScaleOnSelection(t,e)}})},e.prototype.getLegendVisibility=function(){return this.legendVisibility},e.prototype.setLegendVisibility=function(t,e){var n=$(this.getModel()).attr("legendVisibility");this.legendVisibility=t,e&&$(this.getModel()).attr("legendVisibility",t),this.updateLegend(n)},e.prototype.setScaleOnSelection=function(t,e){e&&$(this.getModel()).attr("scaleOnSelection",t.toString()),this.scaleOnSelection=t,this.refreshContents()},e.prototype.isScaleOnSelection=function(){return this.scaleOnSelection},e}(r.QueryView);e.ChartView=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(111),o=n(39),s=n(2).Properties.APPMSG,a=n(9),u=n(62),l=n(12),c=function(e){function r(t,n,i,r,o){var s=e.call(this,t)||this;s.page=n,s.view_id=i,s.view_node=r,s.session=null,s._isShown=!1,s.isDrawn=!1,$(s.getContainer()).attr("id",s.view_id),$('<a name="'+s.view_id+'"/>').appendTo($(s.getContainer())),s.header=$("<header>").addClass("view-header").appendTo($(s.getContainer()));var a=$(r).attr("name")||"",u=!("false"===$(r).attr("showTitle"));s.setTitle(a,!1),s.setShowTitle(u,!1),$(s.getContainer()).append('<section class="view-content"/>'),s.setClassName("view");var l=$(s.getContainer()).find("section.view-content")[0];return s.setContents(l),s}return i.__extends(r,e),r.prototype.destroy=function(){$(this.getContainer()).children().remove(),$(this.getContainer()).attr("id",""),e.prototype.destroy.call(this),this.emit("deleted",this)},r.prototype.setBusy=function(t){var e=this;this.busy=t;var n=function(){return $(e.getContainer()).toggleClass("busy",e.busy)};t?setTimeout(n,300):n()},r.prototype.setInstances=function(t){},r.prototype.getInstances=function(){},r.prototype.setTitle=function(t,e){e&&$(this.view_node).attr("name",t),this.view_name=t,this.isShown()&&this.updateTitle()},r.prototype.updateTitle=function(){var t=$(this.header).find("h1");if(this.showTitle){0==t.length&&(t=$("<h1>").appendTo($(this.header)));var e=this.computeEffectiveTitle(this.view_name),n=t.children("a");if(0==n.length){if(""===e)return void $(t).remove();$(t).text(e)}else $(n).first().text(e)}else 0!=t.length&&t.remove()},r.prototype.computeEffectiveTitle=function(t){return t},r.prototype.setDrilldownTitle=function(t){var e=this,n=this.computeEffectiveTitle(this.view_name),i=$(this.header).find("h1");if(t.length>0){i.remove(),i=$("<h1>").appendTo($(this.header)),$("<a>").appendTo(i).text(n).attr("href","javascript: void(0);").click(function(){return e.pathClicked(0)});for(var r=0;r<t.length-1;r++){var o=r;$(document.createTextNode(" > ")).appendTo($(i)),$("<a>").appendTo($(i)).text(t[o]).attr("href","javascript: void(0);").click(function(){return e.pathClicked(o+1)})}$(document.createTextNode(" > "+t[t.length-1])).appendTo($(i))}else $(i).text(n)},r.prototype.pathClicked=function(t){},r.prototype.getModel=function(){return this.view_node},r.prototype.getPage=function(){return this.page},r.prototype.getReport=function(){return this.page.getReport()},r.prototype.show=function(){if(!this._isShown&&(this._isShown=!0,this.updateTitle(),this.session)){var t=this.computeContentsSize();this.createContents(this.getContents(),t[0],t[1]),this.isDrawn=!0}},r.prototype.hide=function(){this._isShown&&(this.isDrawn&&(this.clearContents(),this.isDrawn=!1),this._isShown=!1)},r.prototype.isShown=function(){return this._isShown},r.prototype.startFilterMonitoring=function(t,e){var n=this;if(this.filterMonitor||(this.filterMonitor=this.getReport().filter_manager.createMonitor(this.getModel())),this.filterMonitor){var i=this.filterMonitor.on("visibilityChanged",function(){t&&t(n,n.filterMonitor.isVisible())});return e&&t&&t(this,this.filterMonitor.isVisible()),i}return e&&t&&t(this,!0),null},r.prototype.isFiltered=function(){return!!this.filterMonitor&&!this.filterMonitor.isVisible()},r.prototype.computeContentsSize=function(){var t=$(this.header).height(),e=this.getW(),n=this.getH();return-1!=this.getRatio()&&(n=Math.round(e/this.getRatio())),n>this.getMaxHeight()&&(n=this.getMaxHeight()),[e,n-t]},r.prototype.clearContents=function(){$(this.getContainer()).find("section.view-content").children().each(function(t){$(this).remove()})},r.prototype.contentsResized=function(t,e,n){},r.prototype.getSession=function(){return this.session},r.prototype.setSession=function(t){this.session=t,this._isShown&&this.refreshContents()},r.prototype.update=function(){},r.prototype.getDrilldownActions=function(t){if(!this.getPage().getChildrenPages())return[];if(a.OFFLINE.isActivated()&&0!=Object.keys(t).length)return[];var e=this.getReport();return this.getPage().getChildrenPages().filter(function(t){return!t.isFiltered()}).map(function(n){return new u.Action(n.getTitle(),function(){n.setInstances(t),e.setPage(n)})})},r.prototype.refreshContents=function(){if(this.isDrawn){this.clearContents();var t=this.computeContentsSize();this.createContents(this.getContents(),t[0],t[1])}},r.prototype.getId=function(){return this.view_id},r.prototype.isEditMode=function(){return $(this.getContainer()).hasClass("in-edition")},r.prototype.setEditMode=function(e){var i=this;this.notifyResize();var r=$(this.getContainer()).find("header.view-header");if(e){$(this.getContainer()).addClass("in-edition"),$(r).addClass("ui-widget-header");var a=document.createElement("ul");$(a).addClass("toolbar view-toolbar");var u=new o.Menu(a);u.on("clicked",function(e){if("delete"==e){var r=i;$("#delete_view_dialog_confirm").dialog({resizable:!1,modal:!0,closeText:s.Close_button,buttons:[{text:s.Delete_View,click:function(){$(this).dialog("close"),r.emit("deleted",r)}},{text:s.Cancel_button,click:function(){$(this).dialog("close")}}]})}else{if("settings"==e)return void n.e(0).then(function(){(function(t){var e=[n(270)];(function(t){var e=new t.ViewEdit(i);e.on("applyChanges",function(){i.emit("modified",i)}),e.edit()}).apply(null,e)}).call(this,n(15)(t))}).catch(n.oe);"moveup"==e?i.emit("moveUp",{}):"movedown"==e?i.emit("moveDown",{}):"duplicate"==e&&i.emit("duplicate",{})}}),u.appendItem("move","fa fa-arrows portlet-header",s.Move_Action),u.appendItem("moveup","fa fa-caret-up",s.MoveUp_Action),u.appendItem("movedown","fa fa-caret-down",s.MoveDown_Action),u.appendItem("settings","fa fa-sliders",s.Settings_Action),u.appendItem("duplicate","fa fa-clone",s.Duplicate_Action),u.appendItem("delete","fa fa-trash",s.Delete_View),$(r).find("h1").addClass("portlet-header"),$(a).appendTo($(r))}else $(r).removeClass("ui-widget-header"),$(this.getContainer()).removeClass("in-edition"),$(r).find(".view-toolbar").remove(),$(r).find("h1").removeClass("portlet-header")},r.prototype.resizeContents=function(){if(this.hasContents()){var t=this.computeContentsSize();this.contentsResized(this.getContents(),t[0],t[1])}},r.prototype.refreshStart=function(){this.wait=document.createElement("span"),$(this.wait).text(s.PleaseWait),$(this.wait).addClass("view-wait-message");var t=$(this.getContainer()).outerWidth(),e=$(this.getContainer()).outerHeight();$(this.wait).appendTo($(this.getContainer()));var n=$(this.wait).outerWidth(),i=$(this.wait).outerHeight();$(this.wait).css({bottom:Math.floor((e-i)/2),left:Math.floor((t-n)/2)})},r.prototype.refreshDone=function(){},r.prototype.setLayoutData=function(t){e.prototype.setLayoutData.call(this,t),$(this.view_node).find("layoutData").remove(),$(this.view_node).append(t)},r.prototype.createOptions=function(t,e){var n=this;t.addOption({label:s.Title_label,type:"TEXT",id:"name",value:function(){return n.view_name},change:function(t,e){n.setTitle(t,e)}}),t.addOption({label:s.ShowTitle_label,type:"BOOLEAN",id:"show_title",value:function(){return n.isShowTitle()},change:function(t,e){n.setShowTitle(t,e),n.resizeContents()}})},r.prototype.setShowTitle=function(t,e){this.showTitle=t,e&&$(this.view_node).attr("showTitle",t.toString()),this.isShown()&&this.updateTitle()},r.prototype.isShowTitle=function(){return this.showTitle},r.prototype.addSearchEntry=function(t,e,n){l.App.INSTANCE.getSearchSystem().add(this.view_id+t,{label:this.view_name+" - "+e,category:n,object:this})},r.prototype.removeSearchEntry=function(t){l.App.INSTANCE.getSearchSystem().remove(this.view_id+t)},r.prototype.isRendered=function(){return this.isDrawn},r}(r.LayoutedWidget);e.View=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(66),o=n(3),s=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.unitDomain=function(t){var e=this.units[t];if(!this.values)return e.defaultRange();var n=[];return n[this.dims.length-1-this.dims[this.countersDimIndex]]=e.counterIndices,o.uextent(e,this.values,this.dims.length,n)},e.prototype.getIndexFilter=function(t,e){for(var n=[],i=0;i<this.dims.length;i++){var r=e[i];i==this.countersDimIndex&&(r=t.getCounterIndices(r)),n[this.dims.length-1-this.dims[i]]=r}return n},e.prototype.dataDomain=function(t,e){var n=this.units[t];if(!this.values)return n.defaultRange();var i=this.getIndexFilter(n,e);return o.uextent(n,this.values,this.dims.length,i)},e.prototype.dataConsolidatedDomain=function(t,e,n){var i=this.units[t];if(!this.values)return i.defaultRange();var r=this.getIndexFilter(i,e);return o.usextent(i,this.values,this.dims.length,this.dims.length-1-this.dims[n],r)},e.prototype.data=function(t){if(this.values){for(var e=this.values,n=0,i=this.dims;n<i.length;n++){if(void 0===(e=e[t[i[n]]])||null===e)return}return e}},e.prototype.dataValue=function(t){return void 0!==t?t:null},e.prototype.countersReordered=function(t){this.values&&(this.values=t.applyDeep(this.values,this.countersDimIndex,null))},e}(r.GMatrixDataQueryProvider);e.GTabularQueryProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(209),o=n(210),s=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.dispose=function(){for(var e=0,n=this.dimensions;e<n.length;e++){n[e].dispose()}t.prototype.dispose.call(this)},e.prototype.setSession=function(e){for(var n=0,i=this.dimensions;n<i.length;n++){i[n].setSession(e)}t.prototype.setSession.call(this,e)},e.prototype.dimension=function(t){return this.dimensions[t]},e.prototype.variableUnit=function(t){return this.dimensions[t].variableUnit()},e.prototype.dimensionsCount=function(){return this.dimensions.length},e.prototype.createCountersDimension=function(){return new r.CountersDimension(this)},e.prototype.createComponentsDimension=function(){return new o.ComponentsDimension(this.counterQuerySet)},e}(n(211).GQueryProvider);e.GMatrixQueryProvider=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.dataUnit=function(t){return this.counterQueries[t[this.countersDimIndex]].unitIndex()},e.prototype.dataUnits=function(t){var e=t[this.countersDimIndex];if(e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i],s=this.counterQueries[o].unitIndex();-1==n.indexOf(s)&&n.push(s)}return n}},e.prototype.dataText=function(t,e){return this.counterQueries[e[this.countersDimIndex]].displayValue(t)},e.prototype.counterQuerySetChanged=function(e){t.prototype.counterQuerySetChanged.call(this,e),this.countersReordered(e);var n=[];n[this.countersDimIndex]=!0,this.changed({unitsChanged:!0,dimensionsChanged:n,majorChange:e.hasAddedElements()}),e.hasAddedElements()&&this.update(!0)},e}(s);e.GMatrixDataQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(65),o=n(215),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.timeRanges=new o.TimeRangesDimension,n}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var t=this.getSessionFullPath()+"/qranges?"+this.counterQuerySet.getUrlParameter();return t+="&ranges="+this.session.getSelectedTimeRangeIndices().join(","),t+=s.hostsQuery(this.session.getAgentsManager())},e}(r.GTabularQueryProvider);e.GRangeQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(60),s=n(66),a=n(119),u=n(3),l=function(t){function e(){var e=t.call(this)||this;return e._timeDomain=[0,0],e}return i.__extends(e,t),e.prototype.highestTime=function(){return this._timeDomain[1]-1},e.prototype.firstMutableTime=function(){return this._timeDomain[1]-this._mutable},e.prototype.dataPoints=function(){return(this._timeDomain[1]-this._timeDomain[0])/this.interval},e.prototype.isEmpty=function(){return void 0===this.interval},e.prototype.checkResponse=function(t){if(void 0===t)throw"Empty response received from server";if(void 0===t.interval||void 0===t.size)throw"Unexpected response from server"},e.prototype._setData=function(t,e){this.checkResponse(t),this.interval=t.interval/1e3,this._timeDomain=[e,e+t.size*this.interval],this._mutable=void 0!==t.mutable?t.mutable*this.interval:0},e.prototype._addData=function(t,e){this.checkResponse(t);var n=t.interval/1e3,i=[e,e+t.size*n];if(this.interval!=n)throw"Interval mismatch";return this._timeDomain[1]=i[1],this._mutable=void 0!==t.mutable?t.mutable*n:0,i},e.prototype.values=function(t){if(!this.points)return[];for(var e=this.points,n=0,i=this.dims;n<i.length;n++){if(void 0===(e=e[t[i[n]]])||null===e)return[]}return e},e.prototype.domain=function(t,e){if(!this.points)return t.defaultRange();if(void 0===e){var n=[];return n[this.dims.length-this.dims[this.countersDimIndex]]=t.counterIndices,u.uextent(t,this.points,this.dims.length+1,n,[u.pointValue])}for(var i=[],r=0;r<this.dims.length;r++){var o=e[r];r==this.countersDimIndex&&(o=t.getCounterIndices(o)),i[this.dims.length-this.dims[r]]=o}return u.uextent(t,this.points,this.dims.length+1,i,[u.pointValue])},e.prototype.reorderCounters=function(t){this.points&&(this.points=t.applyDeep(this.points,this.countersDimIndex,null))},e}(r.Evented);e.Data=l;var c=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.points=200,r.scaleOnZoomedData=1==n.scaleOnZoomedData,r.focusOnSelectedTimeRange=!1!==n.focusOnSelectedTimeRange,n.absoluteTime&&(r.xScale=r.timeScale),r._data=i,r}return i.__extends(e,t),e.prototype.countersReordered=function(t){this._data.reorderCounters(t),this.localData&&this.localData.reorderCounters(t)},e.prototype.getFocusRange=function(){return this.focusOnSelectedTimeRange?this.session.getFocusRange():this.session.getRunRange()},e.prototype.getFocusRangeInSamples=function(){return this.session.toInclusiveSamples(this.getFocusRange())},e.prototype.getDataStartTime=function(){var t=this.getFocusRangeInSamples();return void 0!==t[0]?t[0]*this.session.getSampleInterval()/1e3:0},e.prototype.fullDomain=function(){var t=this.getFocusRange().map(function(t){return t/1e3});return t[1]||(t[1]=Math.max(t[0],this._data.highestTime())),t},e.prototype.getRequestUrl=function(t,e){var n=this.getSessionFullPath()+"/qcontent?";return n+=this.counterQuerySet.getUrlParameter(),n+=e?"&interval="+e:"&points="+this.points,t||(t=this.getFocusRangeInSamples()),void 0!==t[0]&&(n+="&from="+t[0]),void 0!==t[1]&&(n+="&to="+t[1]),n},e.prototype.addData=function(t,e,n){var i=this.processIncrementalData(t,e,n);i&&this.changed(i)},e.prototype.timerExpired=function(t,e){var n=this;if(1==this.isOn){var i,r=void 0;if(this._data.dataPoints()<2*this.points+10){i=this._data.firstMutableTime();var o=this.session.getSampleInterval(),s=Math.floor(1e3*i/o),a=this.getFocusRangeInSamples()[1];r=this.getRequestUrl([s,a],1e3*this._data.interval),i=s*o/1e3}else r=this.getRequestUrl();this.request(r,this.getPostData(),0).then(function(r){r.size>0&&(i?n.addData(n._data,r,i):n.setSessionData(r,!0,t)),1==r.live&&e>=n._nbUpdate&&d3.timer(function(){return n.timerExpired(t,e)},5e3)},function(t){console.log(t)})}return!0},e.prototype.setXDomain=function(t){var e=this.fullDomain();if(t&&t[0]==e[0]&&t[1]==e[1]&&(t=null),this.requestedTimeDomain!=t){this.requestedTimeDomain=t;var n={dimensionsChanged:[],xDomainChanged:!0,variableDomainChanged:!0};this.localData&&(this.unsetLocalData(),n.dataChanged=!0,n.domainChanged=!0),this.changed(n),this.updateLocalData()}},e.prototype.getXDomain=function(){return this.requestedTimeDomain},e.prototype.updateLocalData=function(){var t=this;if(this.requestedTimeDomain){var e=[],n=this.session.getSampleInterval();e[0]=Math.floor(1e3*this.requestedTimeDomain[0]/n),e[1]=Math.floor(1e3*this.requestedTimeDomain[1]/n);var i=this.getRequestUrl(e);this.request(i,void 0,0).then(function(i){t.setLocalData(i,e[0]*n/1e3),t.changed({dimensionsChanged:[],dataChanged:!0,domainChanged:!0,variableDomainChanged:!0})})}},e.prototype.setLocalData=function(t,e){this.localData=this.processLocalData(t,e)},e.prototype.unsetLocalData=function(){this.localData=void 0},e.prototype.data=function(t){return this.localData?this.localData.values(t):this._data.values(t)},e.prototype.dataValue=function(t){return t},e.prototype.unitDomain=function(t){var e=this.units[t];return this.localData&&this.scaleOnZoomedData?this.localData.domain(e):this._data.domain(e)},e.prototype.xDomain=function(){return this.requestedTimeDomain?this.requestedTimeDomain:this.fullDomain()},e.prototype.xLabel=function(){return o.CounterUnit.SECONDS.label},e.prototype.xScale=function(t){return u.valueScale(o.CounterUnit.SECONDS.scaleFactor(t),t)},e.prototype.timeScale=function(t){return u.timeScale(this.session.getStartTime(),t)},e.prototype.dataDomain=function(t,e){var n=this.units[t];return this.localData&&this.scaleOnZoomedData?this.localData.domain(n,e):this._data.domain(n,e)},e.prototype.getFixedProvider=function(){return new a.GFixedLinesProvider(this)},e}(s.GMatrixDataQueryProvider);e.GLinesQueryProvider=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(233),o=n(123),s=n(124),a=n(125),u=n(127),l=n(34),c=n(25),h=function(){function t(t,e,n,i){var u,c;if(e.usePaging()||e.useFilter()||e.useSorting()){u=[],c=[];for(var h=[],d=0;d<e.paging.length;d++){e.legends[d]||(this.external||(this.external=[]),this.external[d]={});var p=t.dimension(d),f=void 0;if(e.sortings[d]&&(p=f=new a.SortingDimensionProvider(p,d)),e.filters[d]){var g=new a.NameFilterDimensionProvider(p);u[d]=new s.NameFilter(g,e.filters[d]),e.legends[d]||(this.external[d].nameFilter=u[d]),p=f=g}if(e.paging[d]){var m=void 0;e.legends[d]?(m=new a.PagingDimensionProvider(p,e.paging[d]),c[d]=new o.Pager(m)):m=this.external[d].windower=new a.WindowingDimensionProvider(p,e.paging[d]),p=f=m}h[d]=f}t=this.createFilterableMatrix(t,h,i)}var v=new l.OrnamentMatrix(t,n),y=e.legendCount();if(y>0){this.legend=[];var _=[];for(d=0;d<e.legends.length;d++)e.legends[d]&&(_[d]=new a.FilterableElementDimensionProvider(t.dimension(d)),this.legend[d]=r.Legend.create(_[d],v.ornament(d),new r.LegendOptions({showTitle:y>1}),c?c[d]:null,u?u[d]:null));var b=this.createFilterableMatrix(t,_,i);this.provider=b,this.filteredOrnamentMatrix=b.filteredOrnament(v)}else this.provider=t,this.filteredOrnamentMatrix=v}return t.prototype.getProvider=function(){return this.provider},t.prototype.getOrnamentMatrix=function(){return this.filteredOrnamentMatrix},t.prototype.getExternalLegend=function(t){return this.external?this.external[t]:null},t.prototype.renderContents=function(t){for(var e=0;e<this.provider.dimensionsCount();e++){var n=this.legend?this.legend[e]:null;n&&n.renderContents(t)}},t.prototype.getLegendProvider=function(t){return this.legend&&this.legend[t]?this.legend[t].getProvider():null},t.prototype.highlightIndex=function(t){if(this.legend)for(var e=this.provider.dimensionsCount(),n=0;n<e;n++){var i=this.getLegendProvider(n);if(i)if(-1!=t[n]){var r=i.sourceIndex(t[n]);this.legend[n].highlight(r)}else this.legend[n].clearHighlight()}},t.prototype.highlightIndices=function(t){if(this.legend)for(var e=this.provider.dimensionsCount(),n=function(e){var n=i.getLegendProvider(e);if(n){var r=t(e);r=r.map(function(t){return n.sourceIndex(t)}),i.legend[e].highlightMultiple(r)}},i=this,r=0;r<e;r++)n(r)},t.prototype.clearHighlight=function(){if(this.legend)for(var t=0;t<2;t++)this.legend[t]&&this.legend[t].clearHighlight()},t}();e.MultiLegend=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.createFilterableMatrix=function(t,e,n){return new u.FilterableTabularProvider(t,e,n)},e}(h);e.TabularMultiLegend=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.createFilterableMatrix=function(t,e,n){return c.isVariableProvider(t)?new u.FilterableVariableLinesProvider(t,e,n):new u.FilterableLinesProvider(t,e,n)},e}(h);e.LinesMultiLegend=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this,e,n)||this;return $(e).addClass("checkboxdropdown-list"),i.checkStateProvider=null,i.allowUncheckAll=!0,i}return i.__extends(e,t),e.prototype.setAllowUncheckAll=function(t){this.allowUncheckAll=t},e.prototype.isAllowUncheckAll=function(){return this.allowUncheckAll},e.prototype.setCheckStateProvider=function(t){this.checkStateProvider=t},e.prototype.getCheckStateProvider=function(){return this.checkStateProvider},e.prototype.useCheckboxes=function(){return!0},e.prototype.drawListItem=function(e,n,i){if(this.useCheckboxes()){var r=$("<span>").addClass("label").appendTo($(e)),o=this,s=$('<input id="checkbox_'+i+'" type="checkbox" />').appendTo($(r)).change(function(t){t.stopPropagation();var e=$(this).prop("checked");if(e)o._checkedItems.push(n);else{if(!o.allowUncheckAll&&1==o._checkedItems.length)return void $(this).prop("checked",!0);o._checkedItems.splice(o._checkedItems.indexOf(n),1)}o.emit("checked",{item:n,selection:e}),o.emit("checkListChanged",o._checkedItems)}),a=$('<label for="checkbox_'+i+'">').appendTo($(r));if($(a).text(this.getLabelProvider().getText(n)),null!=this.checkStateProvider){var u=this.checkStateProvider.isChecked(n);$(s).prop("checked",u),-1!=this._checkedItems.indexOf(n)?u||this._checkedItems.splice(this._checkedItems.indexOf(n),1):u&&this._checkedItems.push(n)}}else t.prototype.drawListItem.call(this,e,n,i)},e.prototype.refreshList=function(){this._checkedItems=[],t.prototype.refreshList.call(this)},e.prototype.select=function(t){this.selection=this.list[t],this.useCheckboxes()||this.closeComboList(),this.emit("selectionChanged",this.selection)},e.prototype.closeComboList=function(){t.prototype.closeComboList.call(this),this._checkedItems=[]},e.prototype.openComboList=function(){this._checkedItems=[],t.prototype.openComboList.call(this)},e.prototype.updateCheckStateViewItem=function(t,e){if(null!=this.list){var n=this.getListViewItem(t);null!=n&&$(n).find("input").prop("checked",e)}},e.prototype.setChecked=function(t,e){-1!=this._checkedItems.indexOf(t)?e||(this._checkedItems.splice(this._checkedItems.indexOf(t),1),this.updateCheckStateViewItem(t,e)):e&&(this._checkedItems.push(t),this.updateCheckStateViewItem(t,e))},e.prototype.updateCheckState=function(){if(null!=this.list)for(var t=0;t<this.list.length;t++){var e=this.list[t];this.setChecked(e,this.checkStateProvider.isChecked(e))}},e}(n(57).DropDownList);e.CheckboxDropDownList=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this)||this;i.form=$(e),$(e).addClass("ui-form"),$(e).find("input").addClass("ui-widget-content ui-corner-all"),$(e).find("textarea").addClass("ui-widget-content ui-corner-all");var r=i;$(e).find("select").each(function(){$(this).selectmenu({change:function(t,e){$(this).trigger("change")}})}),$(e).find(".ui-selectmenu-button").css("width","95%"),$(e).find("input").each(function(){r.associateChangeEvent(this)}),$(e).find("select").each(function(){r.associateChangeEvent(this)}),$(e).find("textarea").each(function(){r.associateChangeEvent(this)}),i.message=n,$(i.message).addClass("ui-form-message"),i.info_message=$(i.message).text(),$(e).on("submit",function(t){t.preventDefault(),i.emit("submit",e)});var o=$(e).find("input[type='submit']");return 0==o.length&&(o=$('<input type="submit">').appendTo($(e))),$(o).css("position","absolute"),$(o).css("top","-1000px"),$(o).attr("tabindex","-1"),i}return i.__extends(e,t),e.prototype.reset=function(){this.form.trigger("reset"),$(this.form).find("select").selectmenu("refresh")},e.prototype.addFieldSet=function(t){return $("<fieldset>").appendTo($(this.form))},e.prototype.addField=function(t,e,n,i,r){i&&$("<label>").appendTo($(t)).attr("for",n).text(i);var o=null;if("TEXTAREA"===e)o=$("<textarea>").appendTo($(t)).attr("id",n).attr("type","text").attr("name",n),this.associateChangeEvent(o);else if("TEXT"===e)o=$("<input>").appendTo($(t)).attr("id",n).attr("type","text").attr("name",n),this.associateChangeEvent(o);else if("CHECKBOX"===e)o=$("<input>").appendTo($(t)).attr("id",n).attr("name",n).attr("type","checkbox"),this.associateChangeEvent(o);else if("RADIO"===e)o=$("<input>").appendTo($(t)).attr("id",n).attr("name",n).attr("type","radio"),this.associateChangeEvent(o);else if("SELECT"===e){o=$("<select>").appendTo($(t)).attr("id",n).attr("name",n),this.associateChangeEvent(o);for(var s=0;s<r.length;s++)$("<option value='"+r[s].value+"'>"+r[s].label+"</option>").appendTo($(o))}return $(o).addClass("ui-widget-content ui-corner-all"),o},e.prototype.associateChangeEvent=function(t){var e=this,n=function(e){return{field:t,name:$(t).attr("name"),value:e}};$(t).is("input")?"checkbox"===$(t).attr("type")||"radio"===$(t).attr("type")?$(t).change(function(i){e.emit("modified",n($(t).prop("checked")))}):"text"===$(t).attr("type")&&$(t).keypress(function(i){var r=setInterval(function(){e.emit("modified",n($(t).val())),clearInterval(r)},300)}):$(t).is("select")?$(t).change(function(i){e.emit("modified",n($(t).val()))}):$(t).is("textarea")&&$(t).keypress(function(i){var r=setInterval(function(){e.emit("modified",n($(t).val())),clearInterval(r)},300)})},e.prototype.setErrorMessage=function(t){if(null==t)return $(this.message).text(this.info_message),$(".sign-error").removeClass("sign-error"),void $(this.message).removeClass("ui-form-error");this.message&&($(this.message).text(t),$(this.message).addClass("ui-form-error"),$("<img>").attr("src","/analytics/web/images/sign-error.png").addClass("sign-error").prependTo($(this.message)))},e.prototype.setMessage=function(t){this.message&&(this.info_message=t,$(this.message).text(t))},e.prototype.setErrorField=function(t){if(null==t)return $(this.error_field).removeClass("ui-form-error"),void(this.error_field=null);this.error_field=$(this.form).find(t).addClass("ui-form-error")},e.prototype.setValue=function(t,e){var n=$(this.form).find(t);"checkbox"==$(n).attr("type")||"radio"==$(n).attr("type")?$(n).prop("checked",e):($(n).val(e),$(n).is("select")&&$(n).selectmenu("refresh"))},e.prototype.getValue=function(t){var e=$(this.form).find(t);return"checkbox"==$(e).attr("type")||"radio"==$(e).attr("type")?$(e).prop("checked"):$(e).val()},e}(n(4).Evented);e.Form=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.PLUGIN_ID="com.ibm.rational.test.lt.reports.web.cshelp",t.VIEW_EDIT=t.PLUGIN_ID+".vedit_view",t.SAVE_AS_DIALOG=t.PLUGIN_ID+".save_as_dialog",t.NEW_REPORT_DIALOG=t.PLUGIN_ID+".new_report_dialog",t.EXPORT_CSV_DIALOG=t.PLUGIN_ID+".export_csv_dialog",t.EXPORT_HTML_DIALOG=t.PLUGIN_ID+".export_html_dialog",t.TIME_RANGE_DIALOG=t.PLUGIN_ID+".time_range_dialog",t.SESSION_SET_DIALOG=t.PLUGIN_ID+".session_set_dialog",t.ABANDON_TEST_DIALOG=t.PLUGIN_ID+".abandon-test-dialog",t.STOP_TEST_DIALOG=t.PLUGIN_ID+".stop_test_dialog",t.CHANGE_USERS_DIALOG=t.PLUGIN_ID+".change-users-dialog",t.CHANGE_LOG_DIALOG=t.PLUGIN_ID+".change-log-dialog",t.CHANGE_STAGE_DIALOG=t.PLUGIN_ID+".change_stage-dialog",t.MANAGE_SYNC_DIALOG=t.PLUGIN_ID+".manage_sync-dialog",t.REPORT_MANAGER_DIALOG=t.PLUGIN_ID+".report-manager-dialog",t.EXPORT_EXECSUM_DIALOG=t.PLUGIN_ID+".export_execsum-dialog",t}();e.HelpContextIds=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(2).Properties.APPMSG,o=function(){function t(e,n,i){0!=arguments.length&&(this.name=e,this.label=t.getLabel(e),this.startTime=n,this.duration=i)}return t.getLabel=function(t){if("#RAMP_STAGE#"==t.substring(0,12)){var e=+t.substring(12);return i.bind(r.TimeRangeUsersStage,e)}if("#NB_STAGE#"==t.substring(0,10)){var n=+t.substring(10);return i.bind(r.TimeRangeNumberedStage,n)}return null},t.prototype.isTillEndOfRun=function(){return 0==this.duration},t.prototype.getLastTime=function(){return this.startTime+this.duration-1},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t,this.label=null},t.prototype.getLabel=function(){return this.label?this.label:this.name},t.prototype.isSame=function(t,e){var n=this.name==t.name&&this.startTime==t.startTime;return e&&(n=n&&this.duration==t.duration),n},t.prototype.toJson=function(){return{startTime:this.startTime,duration:this.duration,name:this.name}},t.fromJson=function(e){return new t(e.name,e.startTime?e.startTime:0,e.duration?e.duration:0)},t.prototype.clone=function(){var e=new t(this.name,this.startTime,this.duration);return this.label&&(e.label=this.label),e},t}();e.TimeRange=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(2).Properties.APPMSG,o={id:function(t){return t},label:function(t){return t}},s={id:function(t){return"URATIO"},label:function(t){return""}},a={id:function(t){return"UPERCENT"},label:function(t){return r.UFormat_Percent}},u={id:function(t){return t+"_PER_SEC"},label:function(t){return i.bind(r.UFormat_Persec,t)}},l={id:function(t){return t+"_SQUARE"},label:function(t){return i.bind(r.UFormat_Square,t)}},c={id:function(t){return"UUNITS"},label:function(t){return r.UFormat_Units}},h={id:function(t){return"UREQS"},label:function(t){return r.UFormat_Requirements}},d={id:function(t){return"UREQSTATUS"},label:function(t){return""}},p={id:function(t){return"UTIME"},label:function(t){return""}},f={id:function(t){return"UMS"},label:function(t){return""}},g={id:function(t){return""},label:function(t){return""}};function m(t){return function(){return t}}function v(t){return function(e){return t[e]}}function y(t){return i.bind(r.CounterComponent_Percentile?r.CounterComponent_Percentile:"Percentile/{0}",t.substring(11))}var _=function(){function t(t,e,n,i,r,o,s){this.name=t,this._label=e,this._unit=n,this.float=i,this.segmentsCount=r,this.defaultValue=o,this.isImplicit=s}return t.prototype.label=function(t){return this._label(t)},t.prototype.unitId=function(t){return this._unit.id(t)},t.prototype.unitLabel=function(t){return this._unit.label(t)},t.prototype.toString=function(){return this.name},t.fromString=function(e){return e?t[e]:null},t.COUNT=new t("COUNT",m(r.CounterComponent_Count),o,!1,1,0,!0),t.RATE=new t("RATE",m(r.CounterComponent_Rate),u,!0,1,0,!1),t.RATE_MIN=new t("RATE_MIN",m(r.CounterComponent_MinRate),u,!0,1,0,!1),t.RATE_MAX=new t("RATE_MAX",m(r.CounterComponent_MaxRate),u,!0,1,0,!1),t.INCREMENT=new t("INCREMENT",m(r.CounterComponent_Increment),o,!1,1,0,!0),t.INCREMENT_RATE=new t("INCREMENT_RATE",m(r.CounterComponent_IncrementRate),u,!0,1,0,!1),t.INCREMENT_LEXT=new t("INCREMENT_LEXT",m(r.CounterComponent_LExt),o,!1,1,0,!1),t.INCREMENT_REXT=new t("INCREMENT_REXT",m(r.CounterComponent_RExt),o,!1,1,0,!1),t.VALUE=new t("VALUE",m(r.CounterComponent_Mean),o,!0,0,void 0,!0),t.VALUE_WEIGHT=new t("VALUE_WEIGHT",m(r.CounterComponent_Weight),c,!1,1,0,!1),t.VALUE_SUM=new t("VALUE_SUM",m(r.CounterComponent_Sum),o,!1,1,0,!1),t.VALUE_MEAN=new t("VALUE_MEAN",m(r.CounterComponent_Mean),o,!0,1,void 0,!1),t.VALUE_M2=new t("VALUE_M2",m(r.CounterComponent_M2),l,!0,1,void 0,!1),t.VALUE_STDDEV=new t("VALUE_STDDEV",m(r.CounterComponent_StdDev),o,!0,1,void 0,!1),t.VALUE_MIN=new t("VALUE_MIN",m(r.CounterComponent_Min),o,!1,1,void 0,!1),t.VALUE_MAX=new t("VALUE_MAX",m(r.CounterComponent_Max),o,!1,1,void 0,!1),t.VALUE_PERCENTILE=new t("VALUE_PERCENTILE",y,o,!1,2,void 0,!1),t.VALUE_PERCENTILE_GENERIC=new t("VALUE_PERCENTILE_GENERIC",m("Percentiles (preferences)"),o,!1,2,void 0,!1),t.RATIO=new t("RATIO",m(r.CounterComponent_Ratio),s,!0,1,void 0,!1),t.PERCENT=new t("PERCENT",m(r.CounterComponent_Percent),a,!0,1,void 0,!0),t.PERCENT_NUMERATOR=new t("PERCENT_NUMERATOR",m(r.CounterComponent_Numerator),o,!1,1,0,!1),t.PERCENT_DENOMINATOR=new t("PERCENT_DENOMINATOR",m(r.CounterComponent_Denominator),o,!1,1,0,!1),t.PERCENT_MIN=new t("PERCENT_MIN",m(r.CounterComponent_MinPercent),a,!0,1,void 0,!1),t.PERCENT_MAX=new t("PERCENT_MAX",m(r.CounterComponent_MaxPercent),a,!0,1,void 0,!1),t.SRATIO=new t("SRATIO",m(r.CounterComponent_Ratio),s,!0,1,void 0,!1),t.SPERCENT=new t("SPERCENT",m(r.CounterComponent_Percent),a,!0,1,void 0,!0),t.SPERCENT_NUMERATOR=new t("SPERCENT_NUMERATOR",m(r.CounterComponent_Numerator),o,!1,1,0,!1),t.SPERCENT_DENOMINATOR=new t("SPERCENT_DENOMINATOR",m(r.CounterComponent_Denominator),o,!1,1,0,!1),t.SPERCENT_MIN=new t("SPERCENT_MIN",m(r.CounterComponent_MinPercent),a,!0,1,void 0,!1),t.SPERCENT_MAX=new t("SPERCENT_MAX",m(r.CounterComponent_MaxPercent),a,!0,1,void 0,!1),t.TEXT=new t("TEXT",m(r.CounterComponent_Text),o,!1,0,void 0,!0),t.REQVERDICT_STATUS=new t("REQVERDICT_STATUS",m(r.CounterComponent_Status),d,!1,1,void 0,!1),t.REQVERDICT_COUNT=new t("REQVERDICT_COUNT",v({PassCount:r.CounterComponent_PassCount,FailCount:r.CounterComponent_FailCount}),h,!1,1,0,!1),t.REQVERDICT_PERCENT=new t("REQVERDICT_PERCENT",v({PassPercent:r.CounterComponent_PassPercent,FailPercent:r.CounterComponent_FailPercent}),a,!0,1,void 0,!1),t.REQEVAL_MARGIN=new t("REQEVAL_MARGIN",m(r.CounterComponent_Margin),a,!0,1,void 0,!1),t.REQEVAL_VALUE=new t("REQEVAL_VALUE",m(r.CounterComponent_Observed),o,!0,1,void 0,!1),t.REQEVAL_REQUIREMENT=new t("REQEVAL_REQUIREMENT",m(r.CounterComponent_Requirement),g,!0,1,void 0,!1),t.TIME=new t("TIME",m(r.CounterComponent_TimeAbsolute),p,!1,2,void 0,!1),t.DURATION=new t("DURATION",v({"FirstTime/Relative":r.CounterComponent_TimeRelative,"FirstTime/Elapsed":r.CounterComponent_TimeElapsed}),f,!1,2,void 0,!1),t}();e.ComponentType=_},function(t,e,n){t.exports=n(143).Promise},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i,r;i=[n(1),n(6),n(20),n(52),n(29),n(102),n(154),n(53),n(155),n(157),n(21),n(104),n(161),n(38),n(163),n(167),n(27),n(168),n(169),n(22),n(170),n(171),n(172),n(173),n(175),n(54),n(176),n(177),n(178),n(179),n(180)],void 0===(r=function(t){return window.jQuery=window.$=t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(28)],void 0===(r=function(t){return t.concat}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(28)],void 0===(r=function(t){return t.push}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(46)],void 0===(r=function(t){return t.hasOwnProperty}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/^margin/}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){return["Top","Right","Bottom","Left"]}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(6)],void 0===(r=function(t){return function(e,n){return e=n||e,"none"===t.css(e,"display")||!t.contains(e.ownerDocument,e)}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=window),e.getComputedStyle(t)}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(49),n(81),n(84),n(50),n(6)],void 0===(r=function(t,e,n,i,r){return function(o,s,a){var u,l,c,h,d=o.style;return""!==(h=(a=a||i(o))?a.getPropertyValue(s)||a[s]:void 0)&&void 0!==h||t.contains(o.ownerDocument,o)||(h=t.style(o,s)),a&&!r.pixelMarginRight()&&e.test(h)&&n.test(s)&&(u=d.width,l=d.minWidth,c=d.maxWidth,d.minWidth=d.maxWidth=d.width=h,h=a.width,d.width=u,d.minWidth=l,d.maxWidth=c),void 0!==h?h+"":h}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(5)],void 0===(r=function(t){return t.documentElement}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(47)],void 0===(r=function(t,e){return function(n,i,r,o){var s,a=1,u=20,l=o?function(){return o.cur()}:function(){return t.css(n,i,"")},c=l(),h=r&&r[3]||(t.cssNumber[i]?"":"px"),d=(t.cssNumber[i]||"px"!==h&&+c)&&e.exec(t.css(n,i));if(d&&d[3]!==h){h=h||d[3],r=r||[],d=+c||1;do{d/=a=a||".5",t.style(n,i,d+h)}while(a!==(a=l()/c)&&1!==a&&--u)}return r&&(d=+d||+c||0,s=r[1]?d+(r[1]+1)*r[2]:+r[2],o&&(o.unit=h,o.start=d,o.end=s)),s}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(38)],void 0===(r=function(t,e){var n,i={HTML:"block",BODY:"block"};function r(e,n){var i=t(n.createElement(e)).appendTo(n.body),r=t.css(i[0],"display");return i.detach(),r}return function(o){var s=e,a=i[o];return a||("none"!==(a=r(o,s))&&a||((s=(n=(n||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(s.documentElement))[0].contentDocument).write(),s.close(),a=r(o,s),n.detach()),i[o]=a),a}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(90),n(91),n(92),n(93),n(94)],void 0===(r=function(t,e,n,i,r,o){var s=/<|&#?\w+;/;return function(a,u,l,c,h){for(var d,p,f,g,m,v,y=u.createDocumentFragment(),_=[],b=0,C=a.length;b<C;b++)if((d=a[b])||0===d)if("object"===t.type(d))t.merge(_,d.nodeType?[d]:d);else if(s.test(d)){for(p=p||y.appendChild(u.createElement("div")),f=(e.exec(d)||["",""])[1].toLowerCase(),g=i[f]||i._default,p.innerHTML=g[1]+t.htmlPrefilter(d)+g[2],v=g[0];v--;)p=p.lastChild;t.merge(_,p.childNodes),(p=y.firstChild).textContent=""}else _.push(u.createTextNode(d));for(y.textContent="",b=0;d=_[b++];)if(c&&t.inArray(d,c)>-1)h&&h.push(d);else if(m=t.contains(d.ownerDocument,d),p=r(y.appendChild(d),"script"),m&&o(p),l)for(v=0;d=p[v++];)n.test(d.type||"")&&l.push(d);return y}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/<([\w:-]+)/}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){return/^$|\/(?:java|ecma)script/i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){var t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td,t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){return function(e,n){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(n||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(n||"*"):[];return void 0===n||n&&t.nodeName(e,n)?t.merge([e],i):i}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(11)],void 0===(r=function(t){return function(e,n){for(var i=0,r=e.length;i<r;i++)t.set(e[i],"globalEval",!n||t.get(n[i],"globalEval"))}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(18),n(51)],void 0===(r=function(t,e,n){function i(){this.expando=t.expando+i.uid++}return i.uid=1,i.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!n(t))return{};var e=t[this.expando];return e||(e={},n(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(e,n,i){var r;return void 0===n||n&&"string"==typeof n&&void 0===i?void 0!==(r=this.get(e,n))?r:this.get(e,t.camelCase(n)):(this.set(e,n,i),void 0!==i?i:n)},remove:function(n,i){var r,o,s,a=n[this.expando];if(void 0!==a){if(void 0===i)this.register(n);else{t.isArray(i)?o=i.concat(i.map(t.camelCase)):(s=t.camelCase(i),o=i in a?[i,s]:(o=s)in a?[o]:o.match(e)||[]),r=o.length;for(;r--;)delete a[o[r]]}(void 0===i||t.isEmptyObject(a))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(e){var n=e[this.expando];return void 0!==n&&!t.isEmptyObject(n)}},i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/^(?:checkbox|radio)$/i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(95)],void 0===(r=function(t){return new t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(44),n(100),n(6)],void 0===(r=function(t,e,n){var i=/^.[^:#\[\.,]*$/;function r(n,r,o){if(t.isFunction(r))return t.grep(n,function(t,e){return!!r.call(t,e,t)!==o});if(r.nodeType)return t.grep(n,function(t){return t===r!==o});if("string"==typeof r){if(i.test(r))return t.filter(r,n,o);r=t.filter(r,n)}return t.grep(n,function(t){return e.call(r,t)>-1!==o})}t.filter=function(e,n,i){var r=n[0];return i&&(e=":not("+e+")"),1===n.length&&1===r.nodeType?t.find.matchesSelector(r,e)?[r]:[]:t.find.matches(e,t.grep(n,function(t){return 1===t.nodeType}))},t.fn.extend({find:function(e){var n,i=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(t(e).filter(function(){for(n=0;n<i;n++)if(t.contains(o[n],this))return!0}));for(n=0;n<i;n++)t.find(e,o[n],r);return(r=this.pushStack(i>1?t.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&n.test(e)?t(e):e||[],!1).length}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(6)],void 0===(r=function(t){return t.expr.match.needsContext}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return function(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(5),n(8),n(29)],void 0===(r=function(t,e){var n;function i(){e.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i),t.ready()}t.fn.ready=function(e){return t.ready.promise().done(e),this},t.extend({isReady:!1,readyWait:1,holdReady:function(e){e?t.readyWait++:t.ready(!0)},ready:function(i){(!0===i?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==i&&--t.readyWait>0||(n.resolveWith(e,[t]),t.fn.triggerHandler&&(t(e).triggerHandler("ready"),t(e).off("ready"))))}}),t.ready.promise=function(r){return n||(n=t.Deferred(),"complete"===e.readyState||"loading"!==e.readyState&&!e.documentElement.doScroll?window.setTimeout(t.ready):(e.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i))),n.promise(r)},t.ready.promise()}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(17),n(55),n(6)],void 0===(r=function(t,e,n){var i=/^(?:input|select|textarea|button)$/i,r=/^(?:a|area)$/i;t.fn.extend({prop:function(n,i){return e(this,t.prop,n,i,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[t.propFix[e]||e]})}}),t.extend({prop:function(e,n,i){var r,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&t.isXMLDoc(e)||(n=t.propFix[n]||n,o=t.propHooks[n]),void 0!==i?o&&"set"in o&&void 0!==(r=o.set(e,i,n))?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=t.find.attr(e,"tabindex");return n?parseInt(n,10):i.test(e.nodeName)||r.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),n.optSelected||(t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){t.propFix[this.toLowerCase()]=this})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(21),n(56)],void 0===(r=function(t){t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){t.fn[n]=function(t,e){return arguments.length>0?this.on(n,null,t,e):this.trigger(n)}}),t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){return t.now()}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return/\?/}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(10),s=function(t){function e(){var e=t.call(this)||this;return e.requestsPending=0,e.dataPromise=$.Deferred(),e.isOn=!1,e.currentRequest=new Array,e._nbUpdate=0,e}return i.__extends(e,t),e.prototype.dispose=function(){this.setOff(),this.currentRequest.forEach(function(t){t&&"abort"in t&&t.abort()}),this.currentRequest=[]},e.prototype.getDataPromise=function(){return this.dataPromise.promise()},e.prototype.incrementRequests=function(t){this.requestsPending+=t,this.emit("requestsPending")},e.prototype._requestOneUrl=function(t,e,n,i,r){var o=this;this.request(t,e,n).then(function(t){try{if(o.currentRequest[n]=void 0,o.setData(t,i,n),t.sessionObject=o,t.redirect)return void d3.timer(function(){return o.timerExpired(n,r)},100);i||o.dataPromise.resolve(t),o.isOn&&1==t.live&&r>=o._nbUpdate&&d3.timer(function(){return o.timerExpired(n,r)},5e3)}catch(t){console.log(t)}},function(t){console.log(t)})},e.prototype.isRequestPending=function(){return this.requestsPending>0},e.prototype.update=function(t){this._update(t,++this._nbUpdate)},e.prototype._update=function(t,e){var n=this.getRequestUrl(),i=this.getPostData();if(Array.isArray(n))for(var r=0;r<n.length;r++)this._requestOneUrl(n[r],i,r,t,e);else this._requestOneUrl(n,i,0,t,e)},e.prototype.timerExpired=function(t,e){return 1==this.isOn&&this._update(!0,e),!0},e.prototype.request=function(t,e,n){var i=this;if(this.incrementRequests(1),n>=this.currentRequest.length)for(var r=0;n-this.currentRequest.length+1;r++)this.currentRequest.push(null);this.currentRequest[n]&&"abort"in this.currentRequest[n]&&this.currentRequest[n].abort();var s,a=new o.Url(t),u=function(){return i.incrementRequests(-1)};return(s=e?a.request_post(JSON.stringify(e),"json",{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}):a.request_get("json",{Accept:"application/json"})).then(u,u),this.currentRequest[n]=s},e.prototype.setOn=function(){this.isOn=!0},e.prototype.setOff=function(){this.isOn=!1},e}(r.Evented);e.GRequestProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(192),o=n(4),s=function(t){function e(){var e=t.call(this)||this;return e.hosts=[],e}return i.__extends(e,t),e.prototype.updateHosts=function(t){for(var e=this.hosts.slice(),n=this.hosts.length,i=0,o=0,s=t.hosts;o<s.length;o++){var a=s[o],u=this.findHost(a.name);u||(i++,u=new r.Host(a.name),e.push(u)),u._update(a)}this.hosts=e,(i>0||n>e.length)&&this.event({hostsChanged:!0})},e.prototype.findHost=function(t){for(var e=0,n=this.hosts;e<n.length;e++){var i=n[e];if(i.getRawName()==t)return i}return null},e.prototype.getHosts=function(){return this.hosts},e.prototype.event=function(t){this.emit("changed",t)},e}(o.Evented);e.SessionHostList=s;var a=function(){function t(t,e){this.source=t,this.agentTypes=e}return t.prototype.getHosts=function(){var t=this;return this.source.getHosts().filter(function(e){return e.hasAgentType(t.agentTypes)})},t.prototype.on=function(t,e){return this.source.on(t,e)},t}();e.FilteredHostList=a;var u=function(t){function e(e){var n=t.call(this)||this;return n.sessionSet=e,e.on("modified",function(){return n.sessionsChanged(!0)}),e.on("selectionChanged",function(){return n.sessionsChanged(!0)}),n.sessionsChanged(!1),n}return i.__extends(e,t),e.prototype.sessionsChanged=function(t){var e=this;this.sessionListeners&&this.sessionListeners.forEach(function(t){return t.remove()}),this.sessionListeners=[];for(var n=0,i=this.sessionSet.listIncludingPrimary();n<i.length;n++){var r=i[n];this.sessionListeners.push(r.ownHostsList.on("changed",function(t){t.hostsChanged&&e.hostsChanged(!0)}))}this.hostsChanged(t)},e.prototype.hostsChanged=function(t){this.hosts=function(t){if(0==t.sessions.length)return t.primarySession.ownHostsList.getHosts();for(var e={},n=0,i=t.listIncludingPrimary();n<i.length;n++)for(var r=0,o=i[n].ownHostsList.getHosts();r<o.length;r++){var s=o[r],a=s.getRawName();e[a]||(e[a]=s)}var u=[];for(var l in e)u.push(e[l]);return u}(this.sessionSet),t&&this.emit("changed",{hostsChanged:!0})},e.prototype.getHosts=function(){return this.hosts},e}(o.Evented);e.SessionSetHostList=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.keyProvider=t}return t.prototype.isEnabled=function(t){return null==this.enabled||-1!=this.enabled.indexOf(t)},t.prototype.isAllEnabled=function(){return null==this.enabled},t.prototype.getEnabledItems=function(t){return null==this.enabled?t:this.enabled},t.prototype.getOneEnabled=function(){return this.enabled&&1==this.enabled.length?this.enabled[0]:null},t.prototype.setEnabledAll=function(){return null!=this.enabled&&(this.enabled=null,!0)},t.prototype.setEnabled=function(t,e,n){if(e&&null!=this.enabled){if(-1==this.enabled.indexOf(t))return this.enabled.length==n.length-1?this.enabled=null:this.enabled.push(t),!0}else{if(null==this.enabled)return this.enabled=n.filter(function(e){return e!=t}),!0;var i=this.enabled.indexOf(t);if(-1!=i)return this.enabled.splice(i,1),!0}return!1},t.prototype.loadSettings=function(t,e){if(null==t)this.enabled=null;else{this.enabled=[];for(var n=0,i=e;n<i.length;n++){var r=i[n];-1!=t.indexOf(this.keyProvider(r))&&this.enabled.push(r)}}},t.prototype.saveSettings=function(){return null==this.enabled?null:this.enabled.map(this.keyProvider)},t}();e.EnabledList=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this;return n.items=new Array,n}return i.__extends(e,t),e.prototype.getItems=function(){return this.items},e.prototype.addItem=function(t){this.items.push(t),this.layout&&this.layout.addItem(t)},e.prototype.removeItem=function(t){var e=this.items.indexOf(t);return e>-1&&(this.items.splice(e,1),this.layout&&this.layout.removeItem(t)),e},e.prototype.removeAll=function(){for(var t=0;t<this.items.length;t++)this.removeItem(this.items[t])},e.prototype.setLayout=function(t){null!=this.layout&&this.layout.unlayout(),this.layout=t,this.layout.setComposite(this),this.update()},e.prototype.getLayout=function(){return this.layout},e.prototype.update=function(){this.layout&&this.layout.layout()},e}(n(111).LayoutedWidget);e.Composite=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(16),o=function(t){function e(e){var n=t.call(this,e)||this;return n.ratio=-1,n.maxHeight=r.Widget.MAX_H_RESOLUTION,n}return i.__extends(e,t),e.prototype.hasContents=function(){return!!this.contents},e.prototype.getContents=function(){return this.contents?this.contents:this.getContainer()},e.prototype.setContents=function(t){this.contents=t},e.prototype.getLayoutData=function(){return this.layout_data},e.prototype.setLayoutData=function(t){this.layout_data=t},e.prototype.setRatio=function(t){this.ratio=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.getMaxHeight=function(){return this.maxHeight},e.prototype.getRatio=function(){return this.ratio},e.prototype.notifyResize=function(){this.resizeContents()},e.prototype.resizeContents=function(){},e}(r.Widget);e.LayoutedWidget=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(35),s=n(205);function a(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(o.isEqualWildcards(r,t))return!0}return!1}var u=function(t){function e(e,n){var i=t.call(this)||this;i.units=[],i.unitFormats=n,i.wildcardOptions=[];for(var r=0,o=e;r<o.length;r++){var s=o[r];i._addWildcardOptions(s)}return i}return i.__extends(e,t),e.prototype._setQueries=function(t){this.queries=t||[];for(var e=0;e<this.queries.length;e++)this.queries[e]._setOwner(this,e);this._processWildcards()},e.prototype.getQueries=function(){return this.queries},e.prototype.setInstances=function(t){null!=t&&(t=function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}(t),0==Object.keys(t).length&&(t=null)),this.instances=t,this._processWildcards()},e.prototype._addUnit=function(t){for(var e=0;e<this.units.length;e++)if(t.same(this.units[e]))return e;var n=this.units.length;return this.units.push(t),this.unitFormats&&t.setFormat(this.unitFormats[t.id]),n},e.prototype._removeUnit=function(t){this.units.splice(t,1);for(var e=0,n=this.queries;e<n.length;e++){n[e]._decreaseUnitIndex(t)}},e.prototype.getUnit=function(t){for(var e=0,n=this.units;e<n.length;e++){var i=n[e];if(t==i.id)return i}return null},e.prototype.getUnits=function(){return this.units},e.prototype.count=function(){return this.queries.length},e.prototype.isEmpty=function(){return 0==this.queries.length},e.prototype._updateUnits=function(t,e){for(var n=0,i=this.units;n<i.length;n++)for(var r=i[n],o=0;o<r.counterIndices.length;o++)r.counterIndices[o]>=e&&(r.counterIndices[o]+=t)},e.prototype._insert=function(t,e){return t>this.queries.length&&(t=this.queries.length),e._setOwner(this,t),t==this.queries.length?this.queries.push(e):(this._updateUnits(1,t),this.queries.splice(t,0,e)),e},e.prototype._unitChanged=function(t,e){if(null!=e){var n=this.units[e];n.removeCounterIndex(t.index),0==n.counterIndices.length&&this._removeUnit(e)}var i=this._addUnit(this.computeUnit(t)),r=this.units[i];this.assignUnit(t,r,i),r.addCounterIndex(t.index)},e.prototype._remove=function(t){var e=this.queries[t];e.unit().removeCounterIndex(t),0==e.unit().counterIndices.length&&this._removeUnit(e.unitIndex()),this._updateUnits(-1,t),this.queries.splice(t,1),void 0!==this.rawWildcards&&0!=this.queries.length||this._processWildcards(),e._setOwner(null,0)},e.prototype.add=function(t){var e=this._insert(this.queries.length,t);return this.emit("counterQueryAdded",e),this._counterQuerySetChanged(),e},e.prototype.insertAfter=function(t,e){var n=this.queries.indexOf(t),i=this._insert(n+1,e);return this.emit("counterQueryAdded",i),this._counterQuerySetChanged(),i},e.prototype.replace=function(t,e){var n=this.queries.indexOf(t);this._remove(n);var i=this._insert(n,e);return this.emit("counterQueryModified",i),this._counterQuerySetChanged(),i},e.prototype.remove=function(t){if(t){var e=this.queries.indexOf(t);this._remove(e),this.emit("counterQueryRemoved",t),this._counterQuerySetChanged()}},e.prototype.move=function(t,e){var n=this.queries.indexOf(e);if(-1==n)throw"Query not found";var i=e;return n+t>=0&&n+t<this.queries.length&&(this._remove(n),i=this._insert(n+t,i)),this.emit("counterQueryMove",{counterQuery:i,direction:t}),this._counterQuerySetChanged(),i},e.prototype.isAllCumulated=function(){for(var t=3,e=0,n=this.queries;e<n.length;e++){var i=n[e];if(!i.isSpecialComponent()&&(i.isCumulated()?3==t?t=1:0==t&&(t=2):3==t?t=0:1==t&&(t=2),2==t))break}return t},e.prototype.getWildcards=function(t,e){var n=this.wildcardOptions;return e||(n=n.filter(function(t){return!t.isContainer})),t||(n=n.filter(function(t){return void 0===t.instance})),n.map(function(t){return t.getPath()})},e.prototype.getUrlParameter=function(){return this.isEmpty()?"":this.queries.map(function(t){return"counter="+o.encodeCounterPathForUri(t.path())}).join("&")},e.prototype._counterQuerySetChanged=function(){var t=this._processWildcards();this.emit("counterQuerySetChanged",{}),t&&(this.emit("wildcardOptionsChanged",{}),this._notifyFiltersUpdated())},e.prototype.setWildcardOptions=function(t){for(var e=this.wildcardOptions.length-1;e>=0;e--)this._removeWildcardOptions(e);for(e=0;e<t.length;e++)this._addWildcardOptions(t[e]);this._processWildcards()},e.prototype._addWildcardOptions=function(t){var e=this;this.wildcardOptions.push(t),t.__cqh=t.on("filtersChanged",function(){return e._notifyFiltersUpdated()})},e.prototype._removeWildcardOptions=function(t){this.wildcardOptions[t].__cqh.remove(),this.wildcardOptions.splice(t,1)},e.prototype._notifyFiltersUpdated=function(){this.emit("wildcardFiltersUpdated",{})},e.prototype._processWildcards=function(){var t=function(t){if(0!=t.length){for(var e=t[0].wildcards(),n=1;n<t.length;n++)if(!o.isEqualWildcards(e,t[n].wildcards()))return null;return e}}(this.queries);if(this.rawWildcards=t,null==t||void 0===t)return 0!=this.wildcardOptions.length&&(this.wildcardOptions=[],!0);for(var e=[],n=0;n<t.length;n++){"ELEMENT"==(f=t[n])||"PR_REQUIREMENT"==f||"PR_SUPP_REQUIREMENT"==f||"PR_TARGET"==f||"RIT_TIMED_SECTION"==f?e.push(t.slice(0,n+1)):e.push([t[n]])}var i=!1;for(n=this.wildcardOptions.length-1;n>=0;n--)a(this.wildcardOptions[n].wildcards,e)||(this._removeWildcardOptions(n),i=!0);for(var r=0,u=e;r<u.length;r++){var l=u[r];this.getWildcardOptions(l)||(this._addWildcardOptions(new s.WildcardOptions(l)),i=!0)}for(var c=0,h=this.wildcardOptions;c<h.length;c++){(v=h[c]).reset()}for(var d=0,p=this.wildcardOptions;d<p.length;d++){if((v=p[d]).getParentSegment())this.getWildcardOptions(v.getParentSegment()).isContainer=!0}for(var f in this.instances)for(var g=0,m=this.wildcardOptions;g<m.length;g++){var v;f==(v=m[g]).getLastSegment()&&(v.instance=this.instances[f])}return i},e.prototype.isCrossWildcard=function(){return 2==this.wildcardOptions.length&&this.wildcardOptions.every(function(t){return 1==t.wildcards.length})},e.prototype.getWildcardOptions=function(t){for(var e=0,n=this.wildcardOptions;e<n.length;e++){var i=n[e];if(o.isEqualWildcards(i.wildcards,t))return i}return null},e.prototype.getQueryPostData=function(){for(var t=[],e=0,n=this.wildcardOptions;e<n.length;e++){var i=n[e].toJson();i&&t.push(i)}if(0==t.length&&!this.instances)return null;var r={};return this.instances&&(r.instances=this.instances),t.length>0&&(r.wildcardOptions=t),r},e.prototype.saveToView=function(t){var e=$(t).find("counterQueries");e.length>0?$(e).children().remove():(e=$($.parseXML("<counterQueries/>").documentElement),$(e).appendTo(t));for(var n=0,i=this.queries;n<i.length;n++){i[n].save().appendTo($(e))}var r=$(t).find("wildcardOptions");r.length>0?$(r).children().remove():(r=$($.parseXML("<wildcardOptions/>").documentElement),$(r).appendTo(t));for(var o=0,s=this.wildcardOptions;o<s.length;o++){s[o].saveToView($(r))}},e}(r.Evented);e.CounterQuerySet=u;var l=function(t){function e(e,n,i){var r=t.call(this,n,i)||this;return t.prototype._setQueries.call(r,e),r}return i.__extends(e,t),e.prototype.hasComponents=function(){return!1},e.prototype.computeUnit=function(t){return t.computeUnit()},e.prototype.assignUnit=function(t,e,n){t._setUnit(e,n)},e}(u);e.FlatCounterQuerySet=l;var c=function(t){function e(e,n,i,r,o){var s=t.call(this,r,o)||this;return s.components=e,t.prototype._setQueries.call(s,n),s}return i.__extends(e,t),e.prototype.hasComponents=function(){return!0},e.prototype.getComponents=function(){return this.components},e.prototype.computeUnit=function(t){return t.computeUnit(this.components)},e.prototype.assignUnit=function(t,e,n){t._setUnit(e,n,this.components)},e.prototype.getQueryPostData=function(){var e=t.prototype.getQueryPostData.call(this)||{};return e.components=this.components,e},e.prototype.saveToView=function(e){$(e).attr("components",this.components.join(",")),t.prototype.saveToView.call(this,e)},e}(u);e.CounterAndComponentsSet=c,e.loadCounterQuerySet=function(t,e){var n=[];t.find("wildcardOptions").each(function(t){$(this).children("WildcardOptions").each(function(t){n.push(s.WildcardOptions.loadFromView($(this)))})});var i=t.attr("components");if(null!=i){var r=[],a=i?i.split(","):null;return t.children("counterQueries").each(function(t){$(this).children("QueryInfo").each(function(t){r.push(o.SimpleCounterQuery.load($(this)))})}),new c(a,r,t,n,e)}var u=[];return t.children("counterQueries").each(function(t){$(this).children("QueryInfo").each(function(t){var e=o.CounterComponentQuery.load($(this));e&&e.expand(u)})}),new l(u,n,e)}},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),$(document).click(function(t){i&&!$.data(t.originalEvent,"popupMenu")&&i.closePopupMenu()});var r=function(){function t(){this.menuIsVisible=!1,this.keyupListener()}return t.prototype.keyupListener=function(){var t=this;window.onkeyup=function(e){27===e.keyCode&&t.closePopupMenu()}},t.prototype.openPopupMenu=function(t){var e;(t&&(e=t,$.data(e,"popupMenu",!0)),this.menuIsVisible)||(this.menuIsVisible=!0,$("#context-menu").addClass("context-menu--active"),i=this)},t.prototype.closePopupMenu=function(){this.menuIsVisible&&(this.menuIsVisible=!1,$("#context-menu").removeClass("context-menu--active"),i=void 0)},t.prototype.addAction=function(t,e){var n=$("<li>").appendTo($(t)).attr("class","context-menu__item");$("<a>").appendTo(n).attr("class","context-menu__link").attr("href","javascript: void(0);").text(e.name).click(function(){e.run()})},t.prototype.positionMenu=function(t,e){$("#context-menu").css({left:t+"px",top:e+"px"})},t.prototype.setActions=function(t){this.actions=t;for(var e=$(".context-menu__items").empty(),n=0;n<this.actions.length;n++)this.addAction(e,this.actions[n])},t}();e.PopupMenu=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(112),o=n(64),s=n(32),a=n(135),u=n(2).Properties.APPMSG;var l=function(t){function e(n,i,r,o,s){var u=t.call(this,n,i,r,o,s)||this;return u.counterQuerySet=null,u.instances=s,u.serieOptions=a.SeriesOptionsModel.create(o),u.unitFormats=e.loadUnitFormats(o),u}return i.__extends(e,t),e.prototype.setupBusy=function(t){var e=this;this.setBusy(t.isRequestPending()),t.on("requestsPending",function(){return e.setBusy(t.isRequestPending())})},e.prototype.computeEffectiveTitle=function(t){var e=this.getCounterQuerySet().getQueries();return t.replace(/\{counter\.([a-z\-]+)\:(\d+)\}/g,function(t,n,i){return i>0&&i<=e.length?e[i-1].property(n):t})},e.prototype.counterQueryAdded=function(t){},e.prototype.counterQueryRemoved=function(t){},e.prototype.unloadCounterQuerySet=function(){if(null!=this.counterQuerySet){for(var t=0,e=this.counterQuerySet.getQueries();t<e.length;t++){var n=e[t];this.removeSearchEntry(n.path())}this.counterQuerySet=null}},e.prototype.createCounterQuerySet=function(){this.unloadCounterQuerySet(),this.counterQuerySet=r.loadCounterQuerySet($(this.getModel()),this.unitFormats),this.counterQuerySet.setInstances(this.instances);for(var t=0,e=this.counterQuerySet.getQueries();t<e.length;t++){var n=e[t];this.addSearchEntry(n.path(),n.label(),u.SearchCategory_Counters)}},e.prototype.getCounterQuerySet=function(){return this.counterQuerySet||this.createCounterQuerySet(),this.counterQuerySet},e.prototype.counterQuerySetChanged=function(){if(this.serieOptions){var t=this.createQueryFactory();try{t.getSeriesOptions(this.serieOptions)}catch(e){this.serieOptions=t.getDefaultOptions()}finally{t.dispose()}}this.refreshContents()},e.prototype.setInstances=function(t){this.instances=t,this.unloadCounterQuerySet(),this.isRendered()&&this.update()},e.prototype.getInstances=function(){return this.instances},e.prototype.update=function(){t.prototype.update.call(this),this.createCounterQuerySet(),this.counterQuerySetChanged(),this.emit("counterQuerySetChanged",this)},e.prototype.getSeriesOptions=function(){return this.serieOptions},e.prototype.createOptions=function(e,n){var i=this;t.prototype.createOptions.call(this,e,n),this.serieOptions||(this.serieOptions=this.getQueryFactory()?this.getQueryFactory().getDefaultOptions():new a.SeriesOptionsModel);for(var r=function(t,r){e.addOption({label:r,type:"SELECT",id:t,values:function(){return(t=i.getQueryFactory()?i.getQueryFactory().getAcceptableDimensions(n,s.LabelKind.PLURAL):[]).length<i.getSeries().ids.length&&t.splice(0,0,{value:null,label:u.DimNotAssigned}),t;var t},value:function(){return i.serieOptions.getDimension(t)},change:function(n,r){i.setSerieDimension(t,n,r),e.update()}})},o=this.getSeries(),l=0;l<o.ids.length;l++)r(o.ids[l],o.labels[l])},e.prototype.createUnitOptions=function(t){for(var e=this,n=function(n){t.addOption({label:n.getLabel(),type:"SELECT",id:n.id,values:function(t){var e=[],n=t.getFormats(),i=t.getDefaultFormat();for(var r in n)e.push({value:r===i?null:r,label:n[r]});return e}(n),value:function(){return e.unitFormats?e.unitFormats[n.id]:void 0},change:function(t,i){return e.setUnitFormat(n.id,t,i)}})},i=0,r=this.getCounterQuerySet().getUnits();i<r.length;i++){n(r[i])}},e.prototype.setSerieDimension=function(t,e,n){e&&(this.serieOptions.setDimension(t,e),n&&this.serieOptions.save(this.getModel()),this.refreshContents())},e.prototype.setUnitFormat=function(t,n,i){if(!this.unitFormats){if(!n)return;this.unitFormats={}}n?this.unitFormats[t]=n:delete this.unitFormats[t],i&&e.saveUnitFormats(this.getModel(),this.unitFormats),this.update()},e.loadUnitFormats=function(t){var e=$(t).children("units");if(0==e.length)return null;var n={};return $(e[0]).children().each(function(){var t=$(this)[0].tagName,e=$(this).text();n[t]=e}),n},e.saveUnitFormats=function(t,e){var n=a.getOrCreateChild(t,"units");if(n.children().remove(),e)for(var i in e)a.getOrCreateChild(n,i).text(e[i]);0==n.length&&n.remove()},e.prototype.getCumulatedDefault=function(){return!0},e}(o.View);e.QueryView=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.oldPositions=t}return t.compare=function(e,n){return new t(function(t,e){for(var n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=t.indexOf(e[r]);return i}(e,n))},t.prototype.getOldPosition=function(t){return this.oldPositions[t]},t.prototype.hasChanges=function(){for(var t=this.oldPositions.length,e=0;e<t;e++)if(this.oldPositions[e]!=e)return!0;return!1},t.prototype.hasAddedElements=function(){for(var t=this.oldPositions.length,e=0;e<t;e++)if(-1==this.oldPositions[e])return!0;return!1},t.prototype.apply=function(t,e){for(var n=this.oldPositions.length,i=new Array(n),r=0;r<n;r++){var o=this.oldPositions[r];i[r]=-1==o?e:t[o]}return i},t.prototype.applyDeep=function(t,e,n){if(0==e)return this.apply(t,n);for(var i=0;i<t.length;i++){var r=t[i];void 0!==r&&(t[i]=this.applyDeep(r,e-1,n))}return t},t}();e.Reordering=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(65),o=n(117),s=n(3),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.sessions=new o.SessionsDimension(n),r.bounds=i,r}return i.__extends(e,t),e.prototype._computeUrl=function(t){var e=t+"/qlast?"+this.counterQuerySet.getUrlParameter();return this.bounds&&(e+="&cumulativeFrom="+this.bounds[0],void 0!==this.bounds[1]&&(e+="&index="+this.bounds[1])),e+=s.hostsQuery(this.session.getAgentsManager())},e.prototype.getRequestUrl=function(){var t=[];t.push(this._computeUrl(this.getSessionFullPath()));for(var e=0,n=this.session.getSelectedSessions();e<n.length;e++){var i=n[e];t.push(this._computeUrl(i.getBaseRequestUrl()))}return t},e}(r.GTabularQueryProvider);e.GCompareLastQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(31),s=n(2).Properties.APPMSG,a=function(t){function e(e){var n=t.call(this)||this;return n.sessions=e,n}return i.__extends(e,t),e.prototype.name=function(){return s.DimSessions},e.prototype.size=function(){return this.sessions.length},e.prototype.items=function(){return this.sessions},e.prototype.key=function(){return function(t){return t.sessionPath}},e.prototype.label=function(t,e){return(new o.SessionLabelProvider).getText(t)},e}(r.Dimension);e.SessionsDimension=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(68),o=n(68),s=function(t){function e(e){var n=t.call(this)||this;return n.queriesCount=e,n}return i.__extends(e,t),e.prototype.setData=function(e,n){t.prototype._setData.call(this,e,n);var i=void 0!==e.index?e.values:[];this.points=this.extractPoints(i,e.index,this.interval,this._timeDomain)},e.prototype.addData=function(e,n){var i=t.prototype._addData.call(this,e,n),r=void 0!==e.index?e.values:[],o=this.extractPoints(r,e.index,this.interval,i);this.concatPoints(this.points,o)},e}(r.Data);e.GLinesSingleData=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.processLocalData=function(t,e){var n=this.createData();return n.setData(t,e),n},e.prototype.processData=function(t){var e=this._data.isEmpty();return this._data.setData(t,this.getDataStartTime()),{domainChanged:!0,xDomainChanged:!0,dataChanged:!0,dimensionsChanged:[],majorChange:e}},e.prototype.processIncrementalData=function(t,e,n){return t.addData(e,n),{domainChanged:!0,xDomainChanged:!0,dataChanged:!0,dimensionsChanged:[]}},e.prototype.getActions=function(t){return this.getCounterActions(t[this.countersDimIndex])},e}(o.GLinesQueryProvider);e.GLinesAbstractSingleQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.original=t}return t.prototype.on=function(t,e){return this.original.on("changed",function(t){t.variableDomainChanged||e(t)})},t.prototype.dataValue=function(t){return this.original.dataValue(t)},t.prototype.dataText=function(t,e){return this.original.dataText(t,e)},t.prototype.dataDomain=function(t,e){var n=this.original.units[t];return this.original._data.domain(n,e)},t.prototype.unitCount=function(){return this.original.unitCount()},t.prototype.unitLabel=function(t){return this.original.unitLabel(t)},t.prototype.unitScale=function(t,e){return this.original.unitScale(t,e)},t.prototype.unitDomain=function(t){var e=this.original.units[t];return this.original._data.domain(e)},t.prototype.xLabel=function(){return this.original.xLabel()},t.prototype.xDomain=function(){return this.original.fullDomain()},t.prototype.xScale=function(t){return this.original.xScale(t)},t.prototype.dimensionsCount=function(){return this.original.dimensionsCount()},t.prototype.dimension=function(t){return this.original.dimension(t)},t.prototype.variableUnit=function(t){return this.original.variableUnit(t)},t.prototype.dataUnit=function(t){return this.original.dataUnit(t)},t.prototype.dataUnits=function(t){return this.original.dataUnits(t)},t.prototype.data=function(t){return this.original._data.values(t)},t.prototype.getActions=function(t){return this.original.getActions(t)},t}();e.GFixedLinesProvider=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(13),o=n(68),s=n(3),a=function(t){function e(e){var n=t.call(this)||this;return n.queriesCount=e,n}return i.__extends(e,t),e.prototype.setData=function(e,n,i,r){t.prototype._setData.call(this,e,i),this.points=this.extractPoints(n,e.values,this.interval,this._timeDomain,r.items())},e.prototype.addData=function(e,n,i,r){for(var o=t.prototype._addData.call(this,e,i),s=this.extractPoints(n,e.values,this.interval,o,r.items()),a=0;a<this.points.length;a++){var u=this.points[a],l=s[a];u?l&&this.concatPoints(u,l):this.points[a]=l}for(var c=a;c<s.length;c++)this.points[c]=s[c]},e.prototype.addInstance=function(){this.points&&this.points.push([])},e.prototype.removeInstance=function(t){this.points&&this.points.splice(t,1)},e}(o.Data);function u(t){var e=t.groups?t.groups[0].instances:[];return s.flattenContentInstances(e)}e.GLinesWildcardData=a;var l=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.instances=new r.InstancesDimension,o}return i.__extends(e,t),e.prototype.processData=function(t){if(void 0===t)throw"Empty response received from server";var e=this._data.isEmpty(),n=u(t),i=this.updateInstances(n);return this._data.setData(t,n,this.getDataStartTime(),this.instances),i&&this.updateLocalData(),{dimensionsChanged:[i],domainChanged:!0,xDomainChanged:!0,dataChanged:!0,majorChange:e}},e.prototype.processIncrementalData=function(t,e,n){var i=u(e),r=this.updateInstances(i);return t.addData(e,i,n,this.instances),{dimensionsChanged:[r],domainChanged:!0,xDomainChanged:!0,dataChanged:!0}},e.prototype.updateInstances=function(t){var e=this;return this.instances.feedValues(t,{instanceRemoved:function(t){e._data.removeInstance(t),e.localData&&e.localData.removeInstance(t)},instanceAdded:function(t){e._data.addInstance(),e.localData&&e.localData.addInstance()},instanceModified:function(t,e){}})},e.prototype.processLocalData=function(t,e){var n=u(t),i=this.createData();return i.setData(t,n,e,this.instances),i},e.prototype.getActions=function(t){return this.getCounterActions(0,this.instances.items()[t[this.instancesDimIndex]])},e}(o.GLinesQueryProvider);e.GLinesAbstractWildcardQueryProvider=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(60),s=n(66),a=n(119),u=n(117),l=n(3),c=function(t){function e(e){var n=t.call(this)||this;return n.sessionCount=e,n._timeDomain=l.sameElementArray(e,[0,0]),n._mutable=new Array(e),n._interval=new Array(e),n}return i.__extends(e,t),e.prototype.highestTime=function(){for(var t=this._timeDomain[0][1],e=1;e<this.sessionCount;e++){var n=this._timeDomain[e][1]-1;n>t&&(t=n)}return t},e.prototype.interval=function(t){return this._interval[t]},e.prototype.firstMutableTime=function(t){return this._timeDomain[t][1]-this._mutable[t]},e.prototype.dataPoints=function(t){var e=this._timeDomain[t];return(e[1]-e[0])/this._interval[t]},e.prototype.isEmpty=function(){for(var t=0,e=this._interval;t<e.length;t++){if(e[t])return!1}return!0},e.prototype.checkResponse=function(t){if(void 0===t)throw"Empty response received from server";if(void 0===t.interval||void 0===t.size)throw"Unexpected response from server"},e.prototype._setData=function(t,e,n){this.checkResponse(t);var i=t.interval/1e3,r=[e,e+t.size*i];return this._interval[n]=i,this._timeDomain[n]=r,this._mutable[n]=void 0!==t.mutable?t.mutable*i:0,r},e.prototype._addData=function(t,e,n){this.checkResponse(t);var i=t.interval/1e3,r=[e,e+t.size*i];if(this._interval[n]!=i)throw"Interval mismatch";return this._timeDomain[n][1]=r[1],this._mutable[n]=void 0!==t.mutable?t.mutable*i:0,r},e}(r.Evented);e.Data=c;var h=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.points=200,o.scaleOnZoomedData=1==i.scaleOnZoomedData,o.focusOnSelectedTimeRange=!1!==i.focusOnSelectedTimeRange,i.absoluteTime&&(o.xScale=o.timeScale),o.sessions=new u.SessionsDimension(n),o._data=r,o}return i.__extends(e,t),e.prototype.getFocusRange=function(){return this.focusOnSelectedTimeRange?this.session.getFocusRange():this.session.getRunRange()},e.prototype.getFocusRangeInSamples=function(t){return t.toInclusiveSamples(this.getFocusRange())},e.prototype.getDataStartTime=function(t){var e=this.sessions.items()[t],n=this.getFocusRangeInSamples(e);return void 0!==n[0]?n[0]*e.getSampleInterval()/1e3:0},e.prototype.fullDomain=function(){var t=this.getFocusRange().map(function(t){return t/1e3});return t[1]||(t[1]=this._data.highestTime()),t},e.prototype.getOneRequestUrl=function(t,e,n){var i=t.getBaseRequestUrl()+"/qcontent?"+this.counterQuerySet.getUrlParameter();return i+=n?"&interval="+n:"&points="+this.points,e||(e=this.getFocusRangeInSamples(t)),void 0!==e[0]&&(i+="&from="+e[0]),void 0!==e[1]&&(i+="&to="+e[1]),i},e.prototype.getRequestUrl=function(t){var e=[];e.push(this.getOneRequestUrl(this.session,t));for(var n=0,i=this.session.getSelectedSessions();n<i.length;n++){var r=i[n];e.push(this.getOneRequestUrl(r,t))}return e},e.prototype.addData=function(t,e,n,i){var r=this.processIncrementalData(t,e,n,i);r&&this.changed(r)},e.prototype.timerExpired=function(t,e){var n=this;if(1==this.isOn){var i,r=void 0,o=this.sessions.items()[t];if(this._data.dataPoints(t)<2*this.points+10){i=this._data.firstMutableTime(t);var s=o.getSampleInterval(),a=Math.floor(1e3*i/s),u=o.toInclusiveSamples(this.getFocusRange())[1];r=this.getOneRequestUrl(o,[a,u],1e3*this._data.interval(t))}else r=this.getOneRequestUrl(o);this.request(r,void 0,t).then(function(r){r.size>0&&(i?n.addData(n._data,r,i,t):n.setSessionData(r,!0,t)),1==r.live&&e>=n._nbUpdate&&d3.timer(function(){return n.timerExpired(t,e)},5e3)},function(t){console.log(t)})}return!0},e.prototype.setXDomain=function(t){var e=this.fullDomain();if(t&&t[0]==e[0]&&t[1]==e[1]&&(t=null),this.requestedTimeDomain!=t){this.requestedTimeDomain=t;var n={dimensionsChanged:[],xDomainChanged:!0,variableDomainChanged:!0};this.localData&&(this.unsetLocalData(),n.dataChanged=!0,n.domainChanged=!0),this.changed(n),this.updateLocalData()}},e.prototype.getXDomain=function(){return this.requestedTimeDomain},e.prototype._updateOneLocalData=function(t,e,n){var i=this,r=t.getSampleInterval(),o=[];o[0]=Math.floor(1e3*n[0]/r),o[1]=Math.floor(1e3*n[1]/r);var s=this.getOneRequestUrl(t,o);this.request(s,void 0,e).then(function(t){i.setLocalData(t,o[0]*r/1e3,e),i.changed({dimensionsChanged:[],dataChanged:!0,domainChanged:!0,xDomainChanged:!0,variableDomainChanged:!0})})},e.prototype.updateLocalData=function(){if(this.requestedTimeDomain){this._updateOneLocalData(this.session,0,this.requestedTimeDomain);for(var t=this.session.getSelectedSessions(),e=0;e<t.length;e++)this._updateOneLocalData(t[e],e+1,this.requestedTimeDomain)}},e.prototype.setLocalData=function(t,e,n){this.localData||(this.localData=this.createData()),this.processLocalData(this.localData,t,e,n)},e.prototype.unsetLocalData=function(){this.localData=void 0},e.prototype.data=function(t){return this.localData?this.localData.values(t):this._data.values(t)},e.prototype.dataValue=function(t){return t},e.prototype.unitDomain=function(t){var e=this.units[t];return this.localData&&this.scaleOnZoomedData?this.localData.domain(e):this._data.domain(e)},e.prototype.xDomain=function(){return this.requestedTimeDomain?this.requestedTimeDomain:this.fullDomain()},e.prototype.xLabel=function(){return o.CounterUnit.SECONDS.label},e.prototype.xScale=function(t){return l.valueScale(o.CounterUnit.SECONDS.scaleFactor(t),t)},e.prototype.timeScale=function(t){return l.timeScale(this.session.getStartTime(),t)},e.prototype.dataDomain=function(t,e){var n=this.units[t];return this.localData&&this.scaleOnZoomedData?this.localData.domain(n,e):this._data.domain(n,e)},e.prototype.getFixedProvider=function(){return new a.GFixedLinesProvider(this)},e}(s.GMatrixQueryProvider);e.GLinesCompareQueryProvider=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(25),s=n(41),a=n(69),u=n(234),l=n(128),c=n(235),h=n(236),d=n(113),p=n(237),f=n(7),g=n(26),m=n(2).Properties.APPMSG;e.BarSeries={ids:["primary","secondary","stack"],labels:[m.PrimaryBarSerie,m.SecondaryBarSerie,m.StackBarSerie]};var v=function(){return function(){this.tickStyle="tick",this.orientation="vertical",this.seriesLabels="fixed"}}();e.GBarsOptions=v;var y=function(){return function(t){this.gbars=t}}(),_=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.renderContents=function(t,e,n){return this.gbars.seriesAxis.renderContents(t,e,n)&&(this.gbars.computeMargin(),n=this.gbars.margin.netHeight(n)),this.gbars.valuesAxis.setSize(e,n,!1),this.gbars.valuesAxis.renderContents(t),this.gbars.valuesAxis.renderSize[1]>n&&(this.gbars.size[1]+=this.gbars.valuesAxis.renderSize[1]-n,n=this.gbars.valuesAxis.renderSize[1]),this.gbars.seriesAxis.setHeight(n),this.gbars.barsContent.renderContents(t,e,n,0),this.gbars.size},e.prototype.resize=function(t,e,n,i){return this.gbars.seriesAxis.setWidth(t)?this.gbars.marginChanged(n,i):(this.gbars.valuesAxis.setSize(t,e,i),this.gbars.valuesAxis.renderSize[1]>e&&(this.gbars.size[1]+=this.gbars.valuesAxis.renderSize[1]-e,e=this.gbars.valuesAxis.renderSize[1]),this.gbars.seriesAxis.setHeight(e),this.gbars.barsContent.setSize(t,e,0,i),this.gbars.svg.attr("viewBox","0 0 "+Math.abs(this.gbars.size[0])+" "+Math.abs(this.gbars.size[1])).style("height",this.gbars.size[1]+"px")),this.gbars.size},e}(y),b=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.renderContents=function(t,e,n){this.gbars.seriesAxis.renderContents(t,e,n)&&(e=this.gbars.seriesAxis.computeMargin().netWidth(e));var i=this.gbars.seriesAxis.computeMargin();return this.gbars.seriesAxis.setWidth(i.left),this.gbars.valuesAxis.startPosition=i.left,this.gbars.valuesAxis.setSize(e,n,!1),this.gbars.valuesAxis.renderContents(t),this.gbars.valuesAxis.renderSize[0]>e&&(this.gbars.size[0]+=this.gbars.valuesAxis.renderSize[0]-e,e=this.gbars.valuesAxis.renderSize[0]),this.gbars.barsContent.renderContents(t,e,n,i.left),this.gbars.size},e.prototype.resize=function(t,e,n,i){if(this.gbars.seriesAxis.setHeight(e))this.gbars.marginChanged(n,i);else{var r=this.gbars.seriesAxis.computeMargin();e=this.gbars.seriesAxis.renderSize[1],this.gbars.seriesAxis.setWidth(r.left),this.gbars.valuesAxis.startPosition=r.left,this.gbars.valuesAxis.setSize(t,e,i),this.gbars.valuesAxis.renderSize[0]>t&&(this.gbars.size[0]+=this.gbars.valuesAxis.renderSize[0]-t,t=this.gbars.valuesAxis.renderSize[0]),this.gbars.size[1]=e+this.gbars.margin.bottom,this.gbars.barsContent.setSize(t,e,r.left,i),this.gbars.svg.attr("viewBox","0 0 "+Math.abs(this.gbars.size[0])+" "+Math.abs(this.gbars.size[1])).style("height",this.gbars.size[1]+"px")}return this.gbars.size},e}(y),C=function(t){function e(e,n){var i=t.call(this)||this;void 0===n.scaleOnSelection&&(n.scaleOnSelection=!0);var r=n.dimensions;return r.validate(e.dimensionsCount()),e=o.swap(e,r.series),i.multiLegend=new a.TabularMultiLegend(e,n.dimensions,function(t){return null!=t.series[1]?null!=t.series[2]?[null,s.GOrnamentKind.COLOR_SHADEABLE,s.GOrnamentKind.SHADE]:[null,s.GOrnamentKind.COLOR,null]:null!=t.series[2]?[null,null,s.GOrnamentKind.COLOR]:(t.series[0],[null,null,null])}(n.dimensions),n.scaleOnSelection),i.provider=i.multiLegend.getProvider(),i.options=n,i}return i.__extends(e,t),e.prototype.renderLegend=function(t){this.multiLegend.renderContents(t)},e.prototype.mouseToIndices=function(t,e){var n=d3.mouse(this.svg.node()),i=n[0]-this.margin.left,r=n[1]-this.margin.top;if(r<0||r>(e?this.barsContent.getHeight():this.size[1]))return null;var o=this.seriesAxis.resolve("vertical"==this.options.orientation?i:r);return o&&(o[2]=this.barsContent.tertiaryIndex("vertical"==this.options.orientation?r:i,o[0],o[1])),o},e.prototype.handleMouseOverGraph=function(){var t=this.mouseToIndices(d3.event,!1);if(t){this.multiLegend.highlightIndex(t);var e=!1;if(-1!=t[2]){e="hover"!=this.options.valueDetailsMode||!this.barsContent.showValue(t);var n=this.provider.dataUnit(t);this.valuesAxis.highlightAxes([n])}else this.barsContent.hideValue();this.showTooltip(t,e)}else this.handleMouseOutGraph()},e.prototype.handleMouseOutGraph=function(){this.barsContent.hideValue(),this.tooltip&&this.tooltip.hide(),this.multiLegend.clearHighlight(),this.valuesAxis.highlightAxes([])},e.prototype.handleMouseClickInGraph=function(){var t=d3.event,e=this.mouseToIndices(t,!0);if(e&&-1!=e[2]){var n=this.provider.getActions(e);n&&n.length>0&&(this.popupMenu=new d.PopupMenu,this.popupMenu.setActions(n),this.popupMenu.openPopupMenu(t),this.popupMenu.positionMenu(t.pageX,t.pageY))}else this.popupMenu&&(this.popupMenu.closePopupMenu(),this.popupMenu=null)},e.prototype.computeMargin=function(){this.margin=new g.Margin(20,10,10,10).add(this.valuesAxis.computeMargin()).add(this.seriesAxis.computeMargin())},e.prototype.resize=function(t,e,n,i){if(this.drawer){this.size=[t,e],this.computeMargin();var r=this.margin.netWidth(t),o=this.margin.netHeight(e);this.size=this.drawer.resize(r,o,n,i)}return this.size},e.prototype.renderContents=function(t,e,n){var i=this;this.size=[e,n];var r=t.append("div").attr("class","barchart graph");this.svg=r.append("svg").attr("viewBox","0 0 "+Math.abs(e)+" "+Math.abs(n)).style("height",n+"px");var s,a=this.multiLegend.getExternalLegend(0),d="vertical"===this.options.orientation;a&&a.windower&&d&&(s=new h.Slider(a.windower)),this.seriesAxis=d?new u.HorizontalSeriesAxis(this.provider,s):new u.VerticalSeriesAxis(this.provider),this.seriesAxis.setLabelsDisplayMode(this.options.seriesLabels),this.valuesAxis=d?new l.VerticalValuesAxis(o.consolidateDimension(this.provider,2),l.tickStyle(this.options.tickStyle),!1):new l.HorizontalValuesAxis(o.consolidateDimension(this.provider,2),l.tickStyle(this.options.tickStyle),!1),this.barsContent=new c.BarsContent(this.provider,this.multiLegend.getOrnamentMatrix(),this.seriesAxis,this.valuesAxis,"always"==this.options.valueDetailsMode,"vertical"==this.options.orientation),this.drawer="vertical"===this.options.orientation?new _(this):new b(this),this.computeMargin();var p=this.margin.netWidth(e),f=this.margin.netHeight(n),g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");return this.size=this.drawer.renderContents(g,p,f),this.svg.on("mouseleave",function(){return i.handleMouseOutGraph()}),this.svg.on("mousemove",function(){return i.handleMouseOverGraph()}),this.svg.on("click",function(){return i.handleMouseClickInGraph()}),this.provider.on("changed",function(t){return i.processChange(t)}),a&&a.nameFilter&&a.nameFilter.renderContents(t),this.size},e.prototype.processChange=function(t){var e=this.seriesAxis.processChange(t);this.valuesAxis.processChange(t)&&(e=!0),this.barsContent.processChange(t),e&&this.marginChanged(!0,!t.majorChange)},e.prototype.marginChanged=function(t,e){this.computeMargin(),this.resize(this.size[0],this.size[1],t,e),t&&this.emit("resizeNeeded",this.size)},e.prototype.showTooltip=function(t,e){void 0==this.tooltip?this.tooltip=new p.Tooltip(this.svg,this.size[1]):this.tooltip.setHeight(this.size[1]),this.tooltip.hide();var n=this.provider.dimension(0),i=n.label(n.items()[t[0]],t[0]);if(e){var r=this.provider.data(t),o=this.provider.dataText(r,t);""==i&&(i=o),i=f.bind("{0} ({1})",[i,o])}""!=i&&this.tooltip.show(i)},e}(r.Evented);e.GBars=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t){return t<0?"...":""+(t+1)}function r(t){return t<0?null:"Page "+(t+1)}var o=function(){function t(t){this.visible=!0,this.provider=t}return t.prototype.processChange=function(t){(t.pageCountChanged||t.pageChanged)&&this.updatePager()},t.prototype.renderContents=function(t,e){var n=this;this.visiblityListener=e,this.ul=t.append("ul").classed("pager",!0),this.updatePager(),this.provider.on("changed",function(t){return n.processChange(t)})},t.prototype.updatePager=function(){var t=this,e=this.provider.pageCount();if(this.setVisible(e>1),e>1){$(this.ul.node()).show();var n=this.provider.page(),o=this.ul,s=function(t,e,n){if(t<=n)return d3.range(0,t);var i=n-4,r=Math.floor(e-i/2+1);return r<=2?d3.range(0,n-2).concat([-1,t-1]):r+i>=t-2?[0,-1].concat(d3.range(t-n+2,t)):[0,-1].concat(d3.range(r,r+i)).concat([-2,t-1])}(this.provider.pageCount(),n,9);o.selectAll("li").remove(),o.selectAll("li").data(s).enter().append("li").append("a").classed("selected",function(t){return t==n}).classed("break",function(t){return t<0}).classed("btn",function(t){return t>=0&&t!=n}).attr("role",function(t){return t<0||t==n?null:"button"}).attr("alt",r).attr("href",function(t){return t<0||t==n?null:"#"}).text(i).on("click",function(e){d3.event.preventDefault(),e>=0&&t.provider.setPage(e)})}},t.prototype.setVisible=function(t){if(this.visible!=t){var e=$(this.ul.node());t?e.show():e.hide(),this.visible=t,this.visiblityListener&&this.visiblityListener(t)}},t.prototype.isVisible=function(){return this.visible},t}();e.Pager=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=function(){function t(t,e){this.visible=!0,this.provider=t,this.minItems=e}return t.prototype.processChange=function(t){t.filterChanged&&this.updateCount()},t.prototype.renderContents=function(t,e){var n=this;this.visiblityListener=e;var i=this;this.div=t.append("div").classed("name-filter-wrapper",!0),this.div.append("a").classed("btn",!0).attr("href","#").attr("title","Toggle Filter").attr("role","button").on("click",function(){return n.toggleFilter()}).append("img").attr("src","images/filter-legend.png");var r=this.div.append("div").classed("name-filter",!0).style("display","none");r.append("input").attr("placeholder","Filter elements").attr("size",30).on("input",function(){i.provider.setFilter(this.value)}).on("keypress",function(){27==d3.event.keyCode&&n.toggleFilter()}),r.append("span"),this.updateCount(),this.provider.on("changed",function(t){return n.processChange(t)})},t.prototype.toggleFilter=function(){d3.event.preventDefault();var t=this.div.select(".name-filter"),e=$(t.node());e.toggle(),e.is(":visible")?t.select("input").node().focus():(this.provider.setFilter(""),t.select("input").node().value="")},t.prototype.updateCount=function(){var t=this.provider.size();this.div.select(".name-filter").select("span").text(i.bind(this.provider.filter()?"{0} elements matched.":"{0} elements.",t));var e=this.provider.source().size();this.setVisible(e>this.minItems)},t.prototype.setVisible=function(t){if(this.visible!=t){var e=$(this.div.node());t?e.show():e.hide(),this.visible=t,this.visiblityListener&&this.visiblityListener(t)}},t.prototype.isVisible=function(){return this.visible},t}();e.NameFilter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(126),s=n(34),a=n(115);var u=function(t){function e(e){var n=t.call(this)||this;return n.provider=e,n}return i.__extends(e,t),e.prototype.setOwner=function(t){var e=this;return!this.owner&&(this.owner=t,"itemsChanged"in this.provider&&this.provider.setOwner(t)&&(this.previous=this.provider,this.previous.setSelectionChangedHandler(function(){e.sourceItemsChanged(),e.selectionChangedHandler()})),!0)},e.prototype.getOwner=function(){return this.owner},e.prototype.setSelectionChangedHandler=function(t){this.selectionChangedHandler=t},e.prototype.itemsChanged=function(){this.previous&&this.previous.itemsChanged(),this.sourceItemsChanged()},e.prototype.source=function(){return this.provider},e.prototype.name=function(){return this.provider.name()},e.prototype.key=function(){return this.provider.key()},e.prototype.sourceIndex=function(t){var e=this.localSourceIndex(t);return this.previous?this.previous.sourceIndex(e):e},e.prototype.sourceIndices=function(t){var e=this.localSourceIndices(t);return this.previous?this.previous.sourceIndices(e):e},e.prototype.label=function(t,e){return this.provider.label(t,this.sourceIndex(e))},e.prototype.ornament=function(t){var e=this;return s.isColorProvider(t)?{color:function(n){return t.color(e.sourceIndex(n))}}:s.isStrokeProvider(t)?{stroke:function(n){return t.stroke(e.sourceIndex(n))}}:s.isShadeProvider(t)?{shade:function(n,i){return t.shade(n,e.sourceIndex(i))}}:null},e}(r.Evented);e.FilterableDimensionProvider=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n._filter=new o.ItemFilter(n.provider.size()),n}return i.__extends(e,t),e.prototype.size=function(){return this._filter.size()},e.prototype.items=function(){return this._filter.apply(this.provider.items())},e.prototype.key=function(){var t=this.provider.key();return t?function(e){return t(e.object)}:function(t){return t.index.toString()}},e.prototype.label=function(t,e){return this.provider.label(t.object,t.index)},e.prototype.localSourceIndex=function(t){return this._filter.index(t)},e.prototype.localSourceIndices=function(t){return this._filter.unfilteredIndices(t)},e}(u),c=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.isItemSelected=function(t){return this._filter.contains(t)},e.prototype.isAllItemsSelected=function(){return this._filter.isFull()},e.prototype.selectItem=function(t,e){e?this._filter.add(t):this._filter.remove(t),this.emit("changed",{selectionChanged:!0}),this.selectionChangedHandler()},e.prototype.selectItems=function(t){this._filter.setSelected(t),this.emit("changed",{selectionChanged:!0}),this.selectionChangedHandler()},e.prototype.sourceItemsChanged=function(){this._filter=new o.ItemFilter(this.provider.size()),this.emit("changed",{sourceItemsChanged:!0,selectionChanged:!0})},e}(l);e.FilterableElementDimensionProvider=c;var h=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.exclude=function(t,e){return!t.some(function(t){return t.test(e)})},e.prototype.update=function(){if(this._filter=new o.ItemFilter(this.provider.size()),this._pattern)for(var t=this._pattern.split(" ").filter(function(t){return 0!=t.length}).map(function(t){return new RegExp(t.trim().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"i")}),e=this.provider.items(),n=0;n<e.length;n++)this.exclude(t,this.provider.label(e[n],n))&&this._filter.remove(n);this.emit("changed",{filterChanged:!0})},e.prototype.filter=function(){return this._pattern},e.prototype.setFilter=function(t){this._pattern=t,this.update(),this.selectionChangedHandler()},e.prototype.sourceItemsChanged=function(){this.update()},e}(l);e.NameFilterDimensionProvider=h;var d=function(t){function e(e,n){var i=t.call(this,e)||this;return i._page=0,i._fullPages=1,i._remainder=0,i.pageSize=n,i.update(!1),i}return i.__extends(e,t),e.prototype.update=function(t){var e=this.pageCount();this._fullPages=this.provider.size()/this.pageSize|0,this._remainder=this.provider.size()%this.pageSize;var n=this.pageCount(),i=this._page>=n;i&&(this._page=n-1),t&&(i||e!=n)&&this.emit("changed",{pageChanged:i,pageCountChanged:e!=n})},e.prototype.size=function(){return this._page==this._fullPages?this._remainder:this.pageSize},e.prototype.items=function(){var t=this._page*this.pageSize,e=this.provider.items(),n=Math.min(t+this.pageSize,e.length);return e.slice(t,n)},e.prototype.localSourceIndex=function(t){return this._page*this.pageSize+t},e.prototype.localSourceIndices=function(t){if(t||1!=this.pageCount()){var e=this._page*this.pageSize;if(!t){var n=this._page==this._fullPages?e+this._remainder:e+this.pageSize;return d3.range(e,n)}return t.map(function(t){return t+e})}},e.prototype.pageCount=function(){return Math.max(1,this._fullPages+(this._remainder?1:0))},e.prototype.page=function(){return this._page},e.prototype.setPage=function(t){if(t<0||t>=this.pageCount())throw"page out of range";this._page=t,this.emit("changed",{pageChanged:!0}),this.selectionChangedHandler()},e.prototype.sourceItemsChanged=function(){this.update(!0)},e}(u);e.PagingDimensionProvider=d;var p,f=function(t){function e(e,n){var i=t.call(this,e)||this;return i.sourceSize=0,i.start=0,i._windowSize=n,i.update(!1),i}return i.__extends(e,t),e.prototype.update=function(t){var e=this.sourceSize;this.sourceSize=this.provider.size();var n=this.highestStartIndex(),i=!1;this.start>n&&(this.start=n,i=!0),t&&(e!=this.sourceSize||i)&&this.emit("changed",{startIndexChanged:i,highestStartIndexChanged:e!=this.sourceSize})},e.prototype.size=function(){return Math.min(this.sourceSize,this._windowSize)},e.prototype.items=function(){var t=this.provider.items(),e=Math.min(this.start+this._windowSize,t.length);return t.slice(this.start,e)},e.prototype.localSourceIndex=function(t){return t+this.start},e.prototype.localSourceIndices=function(t){var e=this;if(!t){if(this.sourceSize<=this._windowSize)return;return d3.range(this.start,this.start+this._windowSize)}return t.map(function(t){return t+e.start})},e.prototype.startIndex=function(){return this.start},e.prototype.lastIndex=function(){return Math.min(this.start+this._windowSize,this.sourceSize)},e.prototype.windowSize=function(){return this._windowSize},e.prototype.highestStartIndex=function(){return Math.max(this.sourceSize-this._windowSize,0)},e.prototype.setStartIndex=function(t){if(t<0||t>this.highestStartIndex())throw"page out of range";t!=this.start&&(this.start=t,this.emit("changed",{startIndexChanged:!0}),this.selectionChangedHandler(!0))},e.prototype.setWindowSize=function(t){if(t<1)throw"windowSize out of range";if(t==this._windowSize)return!1;var e=this.highestStartIndex();this._windowSize=t;var n=this.highestStartIndex(),i=!1;return this.start>n&&(this.start=n,i=!0),!(e==n&&!i)&&(this.emit("changed",{startIndexChanged:i,highestStartIndexChanged:e!=n}),this.selectionChangedHandler(!0),!0)},e.prototype.sourceItemsChanged=function(){this.update(!0)},e}(u);e.WindowingDimensionProvider=f,function(t){t[t.ASCENT=0]="ASCENT",t[t.DESCENT=1]="DESCENT"}(p=e.SortMethod||(e.SortMethod={}));var g=function(t){function e(e,n){var i=t.call(this,e)||this;return i.sortMethodLabel=p.ASCENT,i.sortMethodValue=p.ASCENT,i.dimIndex=n,i.update(),i}return i.__extends(e,t),e.prototype.update=function(){var t=this,e=function(t,e,n){var i=t.localeCompare(e);return n==p.ASCENT?i:-i};if(this.sortIndexes&&0!=this.sortIndexes.length){var n=this.provider.label,i=this.provider.items().map(function(e,i){for(var r=[],o=0;o<t.getOwner().dimensionsCount();o++)o==t.dimIndex?r[o]=t.previous?t.previous.sourceIndex(i):i:t.sortIndexes[o]?r[o]=t.sortIndexes[o]:r[o]=0;return{value:t.getOwner().getSource().data(r),index:i,label:n(e,i)}});i.sort(function(n,i){return n.value===i.value?e(n.label,i.label,t.sortMethodLabel):(isNaN(n.value)?0:n.value)<(isNaN(i.value)?0:i.value)?t.sortMethodValue==p.ASCENT?-1:1:t.sortMethodValue==p.ASCENT?1:-1}),this.reordering=new a.Reordering(i.map(function(t){return t.index}))}else{var r=this.provider.label,o=this.provider.items().map(function(t,e){return{value:r(t,e),index:e}});o.sort(function(n,i){return e(n.value,i.value,t.sortMethodLabel)}),this.reordering=new a.Reordering(o.map(function(t){return t.index}))}},e.prototype.setSortingValues=function(t,e){this.sortMethodValue=e,this.sortIndexes=t,this.update(),this.selectionChangedHandler(!1)},e.prototype.setSortingLabels=function(t){this.sortMethodLabel=t,this.sortIndexes=null,this.update(),this.selectionChangedHandler(!1)},e.prototype.size=function(){return this.provider.size()},e.prototype.items=function(){return this.reordering.apply(this.provider.items())},e.prototype.localSourceIndex=function(t){return this.reordering.getOldPosition(t)},e.prototype.localSourceIndices=function(t){var e=this;if(void 0!==t)return t.map(function(t){return e.reordering.getOldPosition(t)})},e.prototype.sourceItemsChanged=function(){this.update()},e}(u);e.SortingDimensionProvider=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(t){this.originalSize=t,this.map=void 0}return t.prototype.isFull=function(){return void 0===this.map},t.prototype.isEmpty=function(){return this.map&&0==this.map.length},t.prototype.remove=function(t){if(this.map){for(e=this.map.length,i=0;i<e;i++)if(this.map[i]==t){this.map.splice(i,1);break}}else{var e=this.originalSize-1;this.map=new Array(e);for(var n=0,i=0;i<e;i++)i==t&&n++,this.map[i]=n++}},t.prototype.add=function(t){var e=this.map.length;if(e==this.originalSize-1)this.map=void 0;else{for(var n=0;n<e;n++)if(this.map[n]>t)return void this.map.splice(n,0,t);this.map.push(t)}},t.prototype.addAll=function(){this.map=void 0},t.prototype.removeAll=function(){this.map=[]},t.prototype.setSelected=function(t){this.map=t},t.prototype.updateSelected=function(t){if(void 0===this.map){if(void 0===t||t.length==this.originalSize)return!1}else if(void 0!==t&&i.arrayEquals(this.map,t))return!1;return this.setSelected(t),!0},t.prototype.contains=function(t){return!this.map||-1!=this.map.indexOf(t)},t.prototype.filteredIndex=function(t){return this.map?this.map.indexOf(t):t},t.prototype.filteredIndices=function(t){var e=this;if(void 0!==t)return this.map?t.map(function(t){return e.map.indexOf(t)}).filter(function(t){return-1!=t}):t},t.prototype.index=function(t){return this.map?this.map[t]:t},t.prototype.apply=function(t){if(this.map){for(var e=this.map.length,n=new Array(e),i=0;i<e;i++){var r=this.map[i];n[i]={index:r,object:t[r]}}return n}for(e=this.originalSize,n=new Array(e),i=0;i<e;i++)n[i]={index:i,object:t[i]};return n},t.prototype.applyOne=function(t,e){var n=this.map?this.map[t]:t;return{index:n,object:e(n)}},t.prototype.size=function(){return this.map?this.map.length:this.originalSize},t.prototype.unfilteredIndices=function(t){var e=this;return void 0===t?this.map:void 0===this.map?t:t.map(function(t){return e.map[t]})},t}();e.ItemFilter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(126),s=function(t){function e(e,n,i){var r=t.call(this)||this;r.provider=e,r.scaleOnSelection=i,r.unitFilter=new o.ItemFilter(e.unitCount()),e.on("changed",function(t){return r.changed(t)}),r.dimensions=n,r.dimensions.length=e.dimensionsCount();for(var s=function(t){n[t]&&(n[t].setOwner(a),n[t].setSelectionChangedHandler(function(e){return r.selectionChanged(t,e)}))},a=this,u=0;u<n.length;u++)s(u);return r}return i.__extends(e,t),e.prototype.getSource=function(){return this.provider},e.prototype.changed=function(t){t.unitsChanged&&(this.unitFilter=new o.ItemFilter(this.provider.unitCount()));for(var e=0;e<this.dimensions.length;e++){var n=this.dimensions[e];n&&t.dimensionsChanged[e]&&n.itemsChanged()}this.emit("changed",t)},e.prototype.selectionChanged=function(t,e){var n=this.provider.variableUnit(t);n&&(n=this.updateUnitFilter());var i=[];i[t]=!0,this.emit("changed",{domainChanged:this.scaleOnSelection,dimensionsChanged:i,unitsChanged:n,majorChange:e})},e.prototype.updateUnitFilter=function(){var t=this,e=this.dimensions.map(function(e,n){return e&&t.provider.variableUnit(n)?e.sourceIndices():void 0});if(e.every(function(t){return void 0===t}))return!this.unitFilter.isFull()&&(this.unitFilter.addAll(),!0);var n=this.provider.dataUnits(e);return this.unitFilter.updateSelected(n)},e.prototype.dataValue=function(t){return this.provider.dataValue(t)},e.prototype.unitCount=function(){return this.unitFilter.size()},e.prototype.unitLabel=function(t){return this.provider.unitLabel(this.originalUnit(t))},e.prototype.unitDomain=function(t){return t=this.originalUnit(t),this.scaleOnSelection?this.provider.dataDomain(t,this.selectedIndices()):this.provider.unitDomain(t)},e.prototype.unitScale=function(t,e){return this.provider.unitScale(this.originalUnit(t),e)},e.prototype.dimensionsCount=function(){return this.dimensions.length},e.prototype.dimension=function(t){var e=this.dimensions[t];return e||this.provider.dimension(t)},e.prototype.variableUnit=function(t){return this.provider.variableUnit(t)},e.prototype.legendDimension=function(t){return this.dimensions[t]},e.prototype.dataUnit=function(t){return this.unitFilter.filteredIndex(this.provider.dataUnit(this.originalIndex(t)))},e.prototype.dataUnits=function(t){return this.unitFilter.filteredIndices(this.provider.dataUnits(this.originalIndices(t)))},e.prototype.dataText=function(t,e){return this.provider.dataText(t,this.originalIndex(e))},e.prototype.dataDomain=function(t,e){return this.scaleOnSelection&&(e=this.originalIndices(e)),this.provider.dataDomain(this.originalUnit(t),e)},e.prototype.getActions=function(t){return this.provider.getActions(this.originalIndex(t))},e.prototype.selectedIndices=function(){for(var t=[],e=0;e<this.dimensions.length;e++){var n=this.dimensions[e];t[e]=n?n.sourceIndices():void 0}return t},e.prototype.originalIndex=function(t){for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e[n]=i?i.sourceIndex(t[n]):t[n]}return e},e.prototype.originalIndices=function(t){for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e[n]=i?i.sourceIndices(t[n]):void 0}return e},e.prototype.originalUnit=function(t){return this.unitFilter.index(t)},e.prototype.filteredOrnament=function(t){for(var e=new Array(this.dimensions.length),n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e[n]=i?i.ornament(t.ornament(n)):t.ornament(n)}return{ornament:function(t){return e[t]}}},e}(r.Evented);e.FilterableMatrixProvider=s;var a=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i.__extends(e,t),e.prototype.data=function(t){return this.provider.data(this.originalIndex(t))},e.prototype.dataConsolidatedDomain=function(t,e,n){return this.scaleOnSelection&&(e=this.originalIndices(e)),this.provider.dataConsolidatedDomain(this.originalUnit(t),e,n)},e}(s);e.FilterableTabularProvider=a;var u=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i.__extends(e,t),e.prototype.xLabel=function(){return this.provider.xLabel()},e.prototype.xDomain=function(){return this.provider.xDomain()},e.prototype.xScale=function(t){return this.provider.xScale(t)},e.prototype.data=function(t){return this.provider.data(this.originalIndex(t))},e}(s);e.FilterableLinesProvider=u;var l=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return i.__extends(e,t),e.prototype.setXDomain=function(t){this.provider.setXDomain(t)},e.prototype.getXDomain=function(){return this.provider.getXDomain()},e.prototype.getFixedProvider=function(){return this.provider.getFixedProvider()},e}(u);e.FilterableVariableLinesProvider=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(26),o=n(129),s=n(3);function a(t,e,n){return t.empty()?t:e?t.transition(n):function(t,e){return t.node()["__transition_"+e+"__"]?t.transition("name").duration(0):t}(t,n)}e.tickStyle=function(t){switch(t){case"cue":return 1;default:return 0}};var u=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,o)||this;s.style=i,s.tickStyle=r;var a=s.provider.unitCount();return s.unitIndices=a>2?[]:d3.range(a),s}return i.__extends(e,t),e.prototype.createVisualScales=function(){for(var t=this.unitIndices.length,e=[],n=this.computeRange(),i=0;i<t;i++){var r=this.unitIndices[i],o=this.provider.unitScale(r,this.provider.unitDomain(r));o.scale.range(n),e[i]=o}return e},e.prototype.createAxes=function(){for(var t=this.unitIndices.length,e=[],n=0;n<t;n++)e[n]=this.createAxis(n).scale(this.visualScales[n].scale),this.formatTicks(e[n],n);return e},e.prototype.renderContents=function(t){if(!this.renderSize)throw"Illegal usage: setSize must be called before renderContents";this.parent=t,this.renderAxes(this.parent,!1)},e.prototype.renderAxes=function(t,e){t.selectAll(".axis.values."+this.style).remove(),this.visualScales=this.createVisualScales(),this.axes=this.createAxes();var n=t.selectAll(".axis.values."+this.style).data(this.unitIndices),i=n.enter().insert("g",":first-child").attr("class","values axis "+this.style);e&&i.attr("opacity",0),this.decorateAxes(i),this.domAxes=n,this.applyAxes(!1),e&&i.transition("fade").duration(100).attr("opacity",1)},e.prototype.applyAxes=function(t){var e=this.axes,n=this;a(this.domAxes,t,"scale").each(function(t,i){var r=d3.select(this),o=e[i];r.call(o).classed("cues",n.useCues(o))})},e.prototype.decorateAxes=function(t){var e=this;t.append("text").attr("class","axis-label").text(function(t,n){return e.unitLabel(n)}).call(function(t){return e.decorateAxisLabels(t)})},e.prototype.unitLabel=function(t){return this.visualScales[t].unit},e.prototype.setSize=function(e,n,i){var r=this;if(t.prototype.setSize.call(this,e,n,i),this.domAxes){var o=this.computeRange();this.visualScales.forEach(function(t){return t.scale.range(o)}),this.axes.forEach(function(t,e){return r.formatTicks(t,e)}),this.applySize(e,n,i)}},e.prototype.domainChanged=function(e){var n=this;t.prototype.domainChanged.call(this,e),this.visualScales=this.createVisualScales(),this.domAxes.select(".axis-label").text(function(t,e){return n.visualScales[e].unit}),this.axes.forEach(function(t,e){var i=n.visualScales[e];t.scale(i.scale),t.tickFormat(i.tickFormat)}),this.applyAxes(!e)},e.prototype.unitsChanged=function(e){t.prototype.unitsChanged.call(this,e);var n=this.provider.unitCount();return this.setDisplayedUnits(n>2?[]:d3.range(n),e)},e.prototype.highlightableAxesCount=function(){var t=this.provider.unitCount();return t<=2?t:1},e.prototype.highlightAxes=function(t){var e=this.provider.unitCount();e<=1||(2==e?this.parent.selectAll(".axis.values."+this.style).transition("fade").duration(100).attr("opacity",0==t.length?1:function(e,n){return-1!=t.indexOf(e)?1:.18}):this.setDisplayedUnits(t.slice(0,1)))},e.prototype.setDisplayedUnits=function(t,e){if(!e&&s.arrayEquals(t,this.unitIndices))return!1;var n=this.unitIndices.length>1,i=t.length>1;return this.unitIndices=t,this.renderAxes(this.parent,!0),i!=n},e.prototype.getValueText=function(t,e){var n=this.unitIndices.indexOf(e);if(-1==n)return"?";var i=this.visualScales[n].scale;return i.tickFormat(this.axes[n].ticks())(i.invert(this.scales[e](t)))},e.prototype.formatTicks=function(t,e){var n=this.visualScales[e];t.tickFormat(null!==t.tickValues()?n.detailFormat:n.tickFormat)},e.prototype.highlightValues=function(t,e){var n=this,i=this.unitIndices.indexOf(t);if(-1!=i){this.formatTicks(this.axes[i].tickValues(e.map(function(e){return n.visualScales[i].scale.invert(n.scales[t](e))})),i),this.applyAxes(!1)}},e.prototype.dishighlightValues=function(){var t=this;this.axes.forEach(function(e,n){return t.formatTicks(e.tickValues(null),n)}),this.applyAxes(!1)},e.prototype.useCues=function(t){return 1==this.tickStyle||null!==t.tickValues()},e}(o.VirtualValuesAxis);e.ValuesAxis=u;var l=function(t){function e(e,n,i){return t.call(this,e,!0,"horizontal",n,i)||this}return i.__extends(e,t),e.prototype.computeMargin=function(){var t=this.unitIndices.length>1?40:0;return new r.Margin(t,10,40,0)},e.prototype.formatTicks=function(e,n){t.prototype.formatTicks.call(this,e,n),null===e.tickValues()&&e.ticks(this.renderSize[0]/70),e.tickSize(this.useCues(e)?-this.renderSize[1]:3,0)},e.prototype.createAxis=function(t){return d3.svg.axis().orient(t%2?"top":"bottom")},e.prototype.renderAxes=function(e,n){var i=this;t.prototype.renderAxes.call(this,e,n),this.domAxes.attr("transform",function(t,e){return"translate("+i.startPosition+","+(e%2==0?i.renderSize[1]:0)+")"})},e.prototype.decorateAxisLabels=function(t){t.attr("transform","translate("+this.renderSize[0]+",0)").attr("y",0).attr("dy",function(t,e){return e%2==0?"-.5em":"1em"}).style("text-anchor","end")},e.prototype.applySize=function(t,e,n){this.applyAxes(n),this.domAxes.filter(function(t,e){return e%2==0}).attr("transform","translate("+this.startPosition+","+e+")"),this.domAxes.select(".axis-label").attr("transform","translate("+t+",0)")},e}(u);e.HorizontalValuesAxis=l;var c=function(t){function e(e,n,i){return t.call(this,e,!1,"vertical",n,i)||this}return i.__extends(e,t),e.prototype.computeMargin=function(){var t=this.unitIndices.length>1?40:0;return new r.Margin(0,t,0,40)},e.prototype.formatTicks=function(e,n){t.prototype.formatTicks.call(this,e,n),null===e.tickValues()&&e.ticks(this.renderSize[1]/36),e.tickSize(this.useCues(e)?-this.renderSize[0]:3,0)},e.prototype.createAxis=function(t){return d3.svg.axis().orient(t%2?"right":"left")},e.prototype.renderAxes=function(e,n){t.prototype.renderAxes.call(this,e,n),this.domAxes.filter(function(t,e){return e%2!=0}).attr("transform","translate("+this.renderSize[0]+","+this.startPosition+")"),this.checkSize()},e.prototype.checkSize=function(){var t=0;return this.domAxes.select("text").each(function(e,n){t=Math.max(t,s.textLength(this))}),!(t+8>this.renderSize[1])||(this.setSize(this.renderSize[0],t+8,!1),!1)},e.prototype.decorateAxes=function(e){t.prototype.decorateAxes.call(this,e),this.applyZeroLines(e.append("line"))},e.prototype.applyZeroLines=function(t){var e=this,n=function(t,n){return e.scales[n](0)};t.attr("y1",n).attr("x1",function(t,n){return n%2?-e.renderSize[0]:null}).attr("x2",function(t,n){return n%2?null:e.renderSize[0]}).attr("y2",n)},e.prototype.decorateAxisLabels=function(t){t.attr("transform","rotate(-90)").attr("y",0).attr("dy",function(t,e){return e%2?"-.35em":"1em"}).style("text-anchor","end")},e.prototype.applySize=function(t,e,n){this.checkSize()&&(this.applyAxes(n),this.applyZeroLines(a(this.domAxes.select("line"),!1,"scale")),this.domAxes.filter(function(t,e){return e%2!=0}).attr("transform","translate("+t+","+this.startPosition+")"))},e.prototype.domainChanged=function(e){t.prototype.domainChanged.call(this,e),this.applyZeroLines(a(this.domAxes.select("line"),!e,"scale"))},e}(u);e.VerticalValuesAxis=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),r=function(){function t(t,e,n){var i=this;this.startPosition=0,this.provider=t,this.scales=this.createScales(),n&&this.provider.on("changed",function(t){return i.processChange(t)}),this.computeRange=e?this.horizontalRange:this.verticalRange}return t.prototype.computeMargin=function(){return new i.Margin(0,0,0,0)},t.prototype.horizontalRange=function(){return[0,this.renderSize[0]]},t.prototype.verticalRange=function(){return[this.renderSize[1],0]},t.prototype.createScale=function(){return d3.scale.linear()},t.prototype.createScales=function(){for(var t=this.provider.unitCount(),e=new Array(t),n=0;n<t;n++)e[n]=this.createScale().domain(this.provider.unitDomain(n));return e},t.prototype.updateRange=function(){for(var t=this.computeRange(),e=this.scales.length,n=0;n<e;n++)this.scales[n].range(t)},t.prototype.setSize=function(t,e,n){this.renderSize=[t,e],this.updateRange()},t.prototype.processChange=function(t){var e=!1;return t.unitsChanged?this.unitsChanged(t)&&(e=!0):t.domainChanged&&this.domainChanged(t.majorChange),e},t.prototype.domainChanged=function(t){for(var e=this.scales.length,n=0;n<e;n++)this.scales[n].domain(this.provider.unitDomain(n))},t.prototype.unitsChanged=function(t){return this.scales=this.createScales(),this.renderSize&&this.updateRange(),!1},t}();e.VirtualValuesAxis=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),r=n(69),o=n(25),s=n(2).Properties.APPMSG;e.PieSeries={ids:["donut","arc"],labels:[s.Donut,s.Arc]};var a=function(){return function(){this.donut=!1}}();function u(t){return t.startAngle+(t.endAngle-t.startAngle)/2}e.GPieOptions=a;var l=function(){function t(t,e){this.options=e;var n=e.dimensions;n.validate(t.dimensionsCount()),t=o.swap(t,n.series),this.multiLegend=new r.TabularMultiLegend(t,e.dimensions,[null,i.GOrnamentKind.COLOR],!1),this.colorProvider=this.multiLegend.getOrnamentMatrix().ornament(1),this.options=e,this.provider=this.multiLegend.getProvider()}return t.prototype.renderLegend=function(t){this.multiLegend.renderContents(t)},t.prototype.renderContents=function(t,e,n){var i=this;this.size=[e,n],this.radius=Math.min(e,n)/2-30;var r=t.append("div").classed("piechart",!0);return this.svg=r.append("svg").attr("viewBox","0 0 "+Math.abs(e)+" "+Math.abs(n)).style("height",n+"px"),this.group=this.svg.append("g").attr("transform","translate("+e/2+","+n/2+")"),this.slices_group=this.group.append("g").classed("slices",!0),this.labels_group=this.group.append("g").classed("labels",!0),this.group.append("g").classed("lines",!0),this.secondLabel=this.svg.append("text").attr("transform","translate("+e/2+",0)").attr("dy","+1em").attr("text-anchor","middle"),this.processRings(this.slices_group),this.displayData(),this.provider.on("changed",function(t){return i.processChange(t)}),this.size},t.prototype.processChange=function(t){var e=t.dimensionsChanged[0],n=t.dimensionsChanged[1],i=t.dataChanged;e&&this.processRings(this.slices_group),n?this.displayData():i&&this.dataChanged()},t.prototype.processRings=function(t){var e=this.provider.dimension(0).size();this.pies=new Array(e);for(var n=0;n<e;n++)this.pies[n]=d3.layout.pie().sort(null);var i=this.radius/(2*e),r=Math.floor((this.radius-i)/e);r-=4,this.arcs=new Array(e),this.outerArcs=new Array(e);for(n=0;n<e;n++)if(e>1){var o=this.radius-n*r;this.arcs[n]=d3.svg.arc().innerRadius(o-r+4).outerRadius(o),this.outerArcs[n]=d3.svg.arc().innerRadius(o-r+4).outerRadius(o)}else this.arcs[n]=d3.svg.arc().outerRadius(.8*this.radius).innerRadius(0==this.options.donut?0:.4*this.radius),this.outerArcs[n]=d3.svg.arc().outerRadius(.9*this.radius).innerRadius(.9*this.radius)},t.prototype.resize=function(t,e){this.size=[t,e],this.radius=Math.min(t,e)/2-30;var n=this.provider.dimension(0).size(),i=this.radius/(2*n),r=Math.floor((this.radius-i)/n);r-=4;for(var o=0;o<n;o++){if(n>1){var s=this.radius-o*r;this.arcs[o].innerRadius(s-r+4),this.arcs[o].outerRadius(s),this.outerArcs[o].innerRadius(s-r+4),this.outerArcs[o].outerRadius(s)}else this.arcs[o].outerRadius(.8*this.radius),this.arcs[o].innerRadius(0==this.options.donut?0:.4*this.radius),this.outerArcs[o].outerRadius(.9*this.radius),this.outerArcs[o].innerRadius(.9*this.radius);this.svg.attr("viewBox","0 0 "+Math.abs(t)+" "+Math.abs(e)).style("height",e+"px"),this.group.attr("transform","translate("+t/2+","+e/2+")"),this.secondLabel.attr("transform","translate("+t/2+",0)")}return this.displayData(),this.size},t.prototype.dataChanged=function(){this.displayData()},t.prototype.displayData=function(){var t=this.provider,e=this.provider.dimension(1),n=e.items(),i=this.arcs,r=this.outerArcs,o=function(o){for(var s=0,a=new Array(e.size()),u=0;u<e.size();u++)a[u]={index:[o,u],item:n[u],value:t.data([o,u]),arc:i[o],labelArc:r[o]},s+=void 0===a[u].value?0:a[u].value;if(0==s)for(u=0;u<e.size();u++)a[u].value=.001;return a},s=e.key(),a=void 0;s&&null!=s&&(a=function(t){return s(t.data.item)});var l=this.provider.dimension(0).items(),c=this.group.select(".slices").selectAll(".slices g").data(l);c.enter().append("g").attr("class","ring"),c.exit().remove();var h=this.group.select(".labels").selectAll(".labels g").data(l);h.enter().append("g").attr("class","label"),h.exit().remove();var d=this;c.each(function(t,e){var n=d3.select(this);d.pies[e].sort(null).value(function(t,e){return d.provider.dataValue(t.value)});var i=d.pies[e](o(e)),r=n.selectAll("path.slice").data(i,a);r.enter().insert("path").style("fill",function(t,e){return d.colorProvider.color(e).toString()}).attr("class","slice"),r.transition().duration(500).attrTween("d",function(t){this._current=this._current||t;var e=this._current.data,n=t.data;this._current.data="",t.data="";var i=d3.interpolateObject(this._current,t);return this._current.data=e,t.data=n,this._current=i(0),function(e){return t.data.arc(i(e))}}),r.exit().remove(),r.on("mouseover",function(t,e){d.multiLegend.highlightIndex([-1,e]),d.refreshDetailedLabel(t)}),r.on("mouseout",function(t,e){d.multiLegend.clearHighlight(),d.clearDetailedLabel(t)});var s=d.multiLegend.getLegendProvider(1);s&&r.on("click",function(t,e){s.selectItem(s.sourceIndex(e),!1)})}),h.each(function(t,e){var n=d3.select(this),i=d.pies[e](o(e)),r=n.selectAll("text.text-value").data(i,a);if(r.enter().insert("text").attr("dy",".35em").attr("class","text-value"),r.text(function(t){return d.provider.dataText(t.data.value,t.data.index)}),1==d.provider.dimension(0).size()){var s=d.radius;r.transition().duration(500).attrTween("transform",function(t){this._current=this._current||t;var e=this._current.data,n=t.data;this._current.data="",t.data="";var i=d3.interpolateObject(this._current,t);return this._current.data=e,t.data=n,this._current=i(0),function(e){var n=i(e),r=t.data.labelArc.centroid(n);return r[0]=s*(u(n)<Math.PI?1:-1),"translate("+r+")"}}).styleTween("text-anchor",function(t){this._current=this._current||t;var e=this._current.data,n=t.data;this._current.data="",t.data=null;var i=d3.interpolateObject(this._current,t);return this._current.data=e,t.data=n,this._current=i(0),function(t){return u(i(t))<Math.PI?"start":"end"}})}else r.attr("transform",function(t){return"translate("+t.data.labelArc.centroid(t)+")"}).attr("dy",".35em");if(r.exit().remove(),1==d.provider.dimension(0).size()){var l=d.group.select(".lines").selectAll("polyline").data(i,a);l.enter().append("polyline"),l.transition().duration(500).attrTween("points",function(t){this._current=this._current||t;var e=this._current.data,n=t.data;this._current.data="",t.data="";var i=d3.interpolateObject(this._current,t);return this._current.data=e,t.data=n,this._current=i(0),function(e){var n=i(e),r=t.data.labelArc.centroid(n);return r[0]=.95*s*(u(n)<Math.PI?1:-1),[t.data.arc.centroid(n),t.data.labelArc.centroid(n),r]}}),l.exit().remove()}})},t.prototype.refreshDetailedLabel=function(t){var e=this.provider.dimension(0),n=e.label(e.items()[t.data.index[0]],t.data.primaryIndex);this.secondLabel.text(n);var i=this.labels_group.selectAll(".label").filter(function(e,n){return t.data.primaryIndex==n}).selectAll(".text-value").filter(function(e,n){return t.data.secondaryIndex==n}),r=this.provider.dataText(t.data.value,t.data.index),o=Math.round(100*(t.endAngle-t.startAngle)/6.28);i.text(r+" ("+o+"%)")},t.prototype.clearDetailedLabel=function(t){var e=this.labels_group.selectAll(".label").filter(function(e,n){return t.data.primaryIndex==n}).selectAll(".text-value").filter(function(e,n){return t.data.secondaryIndex==n}),n=this.provider.dataText(t.data.value,t.data.index);e.text(n),this.secondLabel.text("")},t}();e.GPie=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(123),o=n(124),s=n(3),a=n(25),u=n(125),l=n(127),c=n(34),h=n(2).Properties.APPMSG,d=n(238),p=n(14);e.TableSeries={ids:["row","column","rowGroup"],labels:[h.Row,h.Column,h.RowGroup]};var f=function(){return function(){this.minibars=!0}}();e.GTableOptions=f;var g=function(){function t(t,e){this.smethodLabels=u.SortMethod.ASCENT,this.smethodValues=u.SortMethod.ASCENT,this.scolumn=-1,this.sortColumn=null,this.options=e,void 0===e.minibars&&(e.minibars=!0);var n=e.dimensions;if(n.usePaging()||n.useSorting()||n.useFilter()){n.usePaging()&&(this.pager=[]),n.useFilter()&&(this.nameFilter=[]);for(var i=[],s=0;s<n.paging.length;s++){var a=t.dimension(s);n.sortings[s]&&(a=i[s]=this.sorter=new u.SortingDimensionProvider(a,s)),n.filters[s]&&(a=i[s]=new u.NameFilterDimensionProvider(a),this.nameFilter[s]=new o.NameFilter(a,n.filters[s])),n.paging[s]&&(a=i[s]=new u.PagingDimensionProvider(a,n.paging[s]),this.pager[s]=new r.Pager(a))}t=new l.FilterableTabularProvider(t,i,!1)}this.provider=t,this.colorProvider=c.toColorProvider(t,1)}return t.create=function(t,e){var n=t.dimensionsCount(),i=e.dimensions;return i.validate(n),null==i.series[1]&&i.move(2,1),null==i.series[2]&&i.cut(2),t=a.swap(t,i.series),2==i.size()?new v(t,e):new m(t,e)},t.prototype.rowProvider=function(){return this.provider.dimension(0)},t.prototype.columnProvider=function(){return this.provider.dimension(1)},t.prototype.computeScales=function(t){for(var e=this.provider,n=e.unitCount(),i=new Array(n),r=0;r<n;r++)null!=e.unitLabel(r)&&(i[r]=d3.scale.linear().range([0,t]).domain(e.unitDomain(r)));return i},t.prototype.barFunctions=function(t){var e=this.computeScales(t),n=this.provider,i=this.colorProvider;function r(t){var i=n.data(t),r=n.dataValue(i);if(null==r)return 0;var o=n.dataUnit(t),s=e[o](r);return 0==s&&(s=1),s}return{barWidth:r,barFill:function(t){return i.color(t[1]).toString()},textAttrs:function(e,o){var a,u,l=3,c=n.data(o),h=n.dataValue(c),d=s.textLength(e.node());if(null!=h?d>(u=r(o))-3?(l+=u,a=!0):a=!1:(u=0,a=!0),e.attr("x",l),e.classed("outside",a),a)e.style("fill",null);else{var p=i.color(o[1]);e.style("fill",s.textColor(p))}return 0==a||d<=t-u},valueDisplay:function(t){var e=n.data(t);return n.dataText(e,t)},numeric:function(t){var e=n.dataUnit(t);return null!=n.unitLabel(e)}}},t.prototype.updateValueBar=function(t,e,n,i,r){var o=this.barFunctions(i);t.each(function(t,s){var a=d3.select(this),u=[e,s,n],l=o.numeric(u),c=a.select("svg");if(l&&r){if(c.empty()){a.text("");var h=a.append("svg").classed("mini-bar",!0).attr("width",i).attr("height",18);h.append("rect").classed("background",!0).attr("width",i).attr("height",18),h.append("rect").classed("bar",!0).attr("y",1).attr("height",16),h.append("text").attr("y",9).attr("dy",".35em")}a.select("svg .bar").attr("width",o.barWidth(u)).style("fill",o.barFill(u));var d=a.select("svg text");d.text(o.valueDisplay(u)),0==o.textAttrs(d,u)&&(c.remove(),a.text(o.valueDisplay(u)))}else{a.html(null);var p=o.valueDisplay(u);"string"==typeof p?a.text(p):(a.text(""),p(a))}})},t.prototype.needsBannerHeader=function(){return!!this.nameFilter},t.prototype.needsBannerFooter=function(){return!!this.pager},t.prototype.renderBannerHeader=function(t,e){if(this.nameFilter)for(var n=0;n<this.provider.dimensionsCount();n++){var i=this.nameFilter[n];i&&i.renderContents(t,e)}},t.prototype.renderBannerFooter=function(t,e){if(this.pager)for(var n=0;n<this.provider.dimensionsCount();n++){var i=this.pager[n];i&&i.renderContents(t,e)}},t.prototype.isBannerHeaderVisible=function(){for(var t=0;t<this.provider.dimensionsCount();t++){var e=this.nameFilter?this.nameFilter[t]:null;if(e&&e.isVisible())return!0}return!1},t.prototype.isBannerFooterVisible=function(){for(var t=0;t<this.provider.dimensionsCount();t++){var e=this.pager?this.pager[t]:null;if(e&&e.isVisible())return!0}return!1},t.prototype.getSortIndicator=function(t){return(t==u.SortMethod.ASCENT?"fa fa-sort-desc":"fa fa-sort-up")+" sortIndicator"},t.prototype.removeSortIndicator=function(t){t.selectAll("a").selectAll("i").remove()},t.prototype.configureColumnLabel=function(t,e,n){var i=this;if(this.options.dimensions.useSorting()&&3!=this.options.dimensions.size()){t.selectAll("a").remove();var r=t.append("a").attr("href","javascript: void(0)").on("click",function(e,r){i.sortTable(t,n)}).text(function(){return-1!=n?i.columnProvider().label(e,n):""});-1==n&&r.html("&nbsp"),r.append("i").attr("aria-hidden","true").attr("class",function(){return n==i.scolumn?i.getSortIndicator(-1==i.scolumn?i.smethodLabels:i.smethodValues):-1==n?"fa fa-sort sortIndicator":""})}else t.selectAll("a").remove(),-1==n?t.html("&nbsp;"):t.text(this.columnProvider().label(e,n))},t.prototype.renderContents=function(t,e,n){var i=this;this.table=t.append("table").attr("class","data-table");var r=this.table.append("colgroup");r.append("col").classed("first-col",!0);var o=this.table.append("thead").append("tr"),s=o.append("td");this.configureColumnLabel(s,null,-1);var a=/chrome/.test(navigator.userAgent.toLowerCase());(p.PREFS.fixedColumn||a)&&(this.tableviewer=new d.TableWrapper(t.node()),this.tableviewer.setFixedNFirstColumns(1)),this.processColumns(r,o,!1);var u=this.processRows(!1,!1,o);this.processData(!1,u),this.provider.on("changed",function(t){return i.processChange(t,r,o)})},t.prototype.processChange=function(t,e,n){var i=t.dimensionsChanged[1],r=t.dimensionsChanged[2],o=t.dimensionsChanged[0],s=t.dataChanged||t.domainChanged&&this.options.minibars||i;if(i&&this.processColumns(this.table.select("colgroup"),n,!0),r||o){var a=this.processRows(r,o,n);s||this.processData(!1,a)}s&&this.processData(!0,this.rows)},t.prototype.sortTable=function(t,e){null!=this.sorter&&(this.scolumn!=e?this.smethodValues=u.SortMethod.ASCENT:this.smethodValues=this.smethodValues==u.SortMethod.ASCENT?u.SortMethod.DESCENT:u.SortMethod.ASCENT,null!=this.sortColumn&&this.removeSortIndicator(this.sortColumn),this.scolumn=e,this.sortColumn=-1!=e?t:null,-1==this.scolumn?(this.smethodLabels=this.smethodLabels==u.SortMethod.ASCENT?u.SortMethod.DESCENT:u.SortMethod.ASCENT,this.sorter.setSortingLabels(this.smethodLabels)):this.sorter.setSortingValues([void 0,e],this.smethodValues))},t.prototype.processColumns=function(t,e,n){var i=this.columnProvider(),r=t.selectAll(".counter").data(i.items(),i.key());n&&r.exit().remove(),r.enter().append("col").classed("counter",!0),n&&r.order(),r.classed("odd",function(t,e){return e%2!=0}).classed("even",function(t,e){return e%2==0});var o=e.selectAll("th").data(i.items(),i.key());n&&o.exit().remove();var s=this;o.enter().append("th").attr("scope","col"),n&&o.order(),o.each(function(t,e){s.configureColumnLabel(d3.select(this),t,e)})},t.prototype.processRows=function(t,e,n){var i=this.processGroups(t),r=this.rowProvider();this.rows=i.selectAll("tr:not(.group-title)").data(r.items(),r.key()),(t||e)&&this.rows.exit().remove();var o=this.rows.enter().append("tr");if(o.append("th").classed("instance-name",!0),e&&this.rows.order(),this.rows.select("th").text(function(t,e){return r.label(t,e)}),this.rows.classed("odd",function(t,e){return e%2!=0}).classed("even",function(t,e){return e%2==0}),this.configureColumnLabel(n.select("td"),null,-1),this.options.dimensions.useSorting()&&-1!=this.scolumn){var s=this;n.selectAll("th").data(this.columnProvider().items(),this.columnProvider().key()).each(function(t,e){s.configureColumnLabel(d3.select(this),t,e)})}return o},t.prototype.getDataColumnWidth=function(){var t=this.table.select("thead tr th");return $(t.node()).width()},t.prototype.processData=function(t,e){var n=this.getDataColumnWidth(),i=this.columnProvider(),r=this;e.each(function(e,o,s){var a=d3.select(this).selectAll("td").data(i.items());t&&a.exit().remove(),a.enter().append("td"),a.call(function(t){return r.updateValueBar(t,o,s,n,r.options.minibars)})}),this.tableviewer&&(this.tableviewer.setTable(this.table.node()),this.activateSortTableViewer())},t.prototype.activateSortTableViewer=function(){var t=this;d3.select(this.tableviewer.getFixedColumnHeaderTable().find("thead tr td a")[0]).on("click",function(e,n){d3.select(t.tableviewer.getContainer()).selectAll("thead tr th a i.sortIndicator").remove(),t.sortTable(d3.select(this.parentNode),-1)}),d3.select(this.tableviewer.getHeaderTable()[0]).selectAll("thead tr th a").on("click",function(e,n){t.sortTable(d3.select(this.parentNode),n)})},t.prototype.on=function(t,e){return{remove:function(){}}},t.prototype.resizeTable=function(t){this.tableviewer&&(this.tableviewer.setTable(this.table.node()),this.activateSortTableViewer())},t}();e.GTable=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.groupDimension=function(){return this.provider.dimension(2)},e.prototype.processGroups=function(t){var e=this.groupDimension(),n=this.table.selectAll("tbody").data(e.items(),e.key());t&&n.exit().remove(),n.enter().append("tbody").append("tr").classed("group-title",!0).append("th"),t&&n.order(),n.select("tr.group-title > th").text(function(t,n){return e.label(t,n)});var i=this.columnProvider();return n.select("tr.group-title > th").attr("colspan",i.size()+1),n},e.prototype.processColumns=function(e,n,i){t.prototype.processColumns.call(this,e,n,i);var r=this.columnProvider();this.table.selectAll("tbody").select("tr.group-title > th").attr("colspan",r.size()+1)},e}(g),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.processGroups=function(t){var e=this.table.selectAll("tbody").data([0]);return t||e.enter().append("tbody"),e},e}(g)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),r=n(69),o=n(128),s=n(133),a=n(239),u=n(240),l=n(241),c=n(242),h=n(25),d=n(134),p=n(2).Properties.APPMSG,f=n(26);e.LineSeries={ids:["primary","secondary"],labels:[p.PrimaryLineSerie,p.SecondaryLineSerie]};var g=function(){return function(){this.lineSmoothing=!0,this.scaleOnSelection=!0,this.tickStyle=["tick","tick"],this.detailMode=["off","projection"]}}();e.GLinesOptions=g;var m=function(){function t(e,n,o){void 0===n.scaleOnSelection&&(n.scaleOnSelection=!0),void 0===n.lineSmoothing&&(n.lineSmoothing=!0);var s=n.dimensions;s.validate(e.dimensionsCount()),e=h.swapLine(e,s.series),this.multiLegend=new r.LinesMultiLegend(e,n.dimensions,[i.GOrnamentKind.COLOR,i.GOrnamentKind.STROKE],n.scaleOnSelection),this.provider=this.multiLegend.getProvider(),this.intervalsProvider=o,this.options=n,this.instanceNumber=++t.instancesCount}return t.prototype.renderLegend=function(t){this.multiLegend.renderContents(t)},t.prototype.setLineSmoothing=function(t){this.options.lineSmoothing=t,this.linesContent.setLineSmoothing(t)},t.prototype.isInGraph=function(t,e){return!(t<0||t>this.graphSize[0])&&!(e<(this.intervalsContent?-20:0)||e>this.graphSize[1])},t.prototype.highlightLegend=function(t){this.multiLegend.highlightIndices(function(e){return function(t,e){switch(e){case 0:return function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i&&i.length&&e.push(n)}return e}(t);case 1:return function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i)for(var r=0;r<i.length;r++)i[r]&&-1==e.indexOf(r)&&e.push(r)}return e}(t);default:throw e}}(t,e)})},t.prototype.handleMouseOverGraph=function(){var t=d3.mouse(this.svg.node()),e=t[0]-this.margin.left,n=t[1]-(this.margin.top+(this.intervalsContent?20:0));if(this.isInGraph(e,n)){var i=this.linesContent.findCloseLines(e,n);if(this.linesContent.showPoints(i),this.projections&&this.projections.showProjections(i,e,n),this.highlightLegend(i),this.intervalsContent){var r=this.intervalsContent.resolvePosition(e);this.intervalsContent.showIntervalName(r)}}else this.multiLegend.clearHighlight()},t.prototype.handleMouseOutGraph=function(){this.linesContent.clearPoints(),this.projections&&this.projections.clearProjections(),this.multiLegend.clearHighlight(),this.intervalsContent&&this.intervalsContent.showIntervalName(-1)},t.prototype.computeMargin=function(){this.margin=new f.Margin(10,10,10,10).add(this.yAxis.computeMargin()).add(this.xAxis.computeMargin()),this.timeLine&&(this.margin=this.margin.add(this.timeLine.computeMargin()))},t.prototype.createProjections=function(t){var e=this.options.detailMode;"projection"!=e[0]&&"projection"!=e[1]||(this.projections=new u.Projections(this.provider,t,"projection"==e[0]?this.xAxis:null,"projection"==e[1]?this.yAxis:null))},t.prototype.renderContents=function(t,e,n){var i=this,r=t.append("div").attr("class","linechart graph");this.svg=r.append("svg").attr("viewBox","0 0 "+Math.abs(e)+" "+Math.abs(n)).attr("style","height:"+n+"px"),this.svg.attr("style","height:"+n+"px"),this.clipName="lineclip"+this.instanceNumber;var u=new d.LineToXProvider(this.provider),p=this.options.tickStyle;this.xAxis=new o.HorizontalValuesAxis(u,o.tickStyle(p[0]),!0),this.yAxis=new o.VerticalValuesAxis(this.provider,o.tickStyle(p[1]),!1),this.provider.on("changed",function(t){return i.processChange(t)});var f=this.multiLegend.getOrnamentMatrix();this.linesContent=new s.LinesContent(this.provider,f,this.xAxis,this.yAxis,this.clipName+"-in",this.options.lineSmoothing),this.createProjections(f);var g=this.provider;this.options.timeLine&&("full"==this.options.timeLine||"small"==this.options.timeLine)&&h.isVariableProvider(g)&&(this.timeLine=new a.TimeLine(g,f,"full"==this.options.timeLine),this.brush=new l.Brush(g,this.xAxis)),this.intervalsProvider&&(this.intervalsContent=new c.IntervalsContent(this.intervalsProvider,u,0,this.xAxis,this.clipName+"-out")),this.computeMargin();var m=this.margin.netWidth(e),v=this.margin.netHeight(n),y=this.intervalsContent?20:0,_=v-y,b=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.outClipRect=b.append("defs").append("clipPath").attr("id",this.clipName+"-out").append("rect").attr("width",m).attr("height",v),this.xAxis.setSize(m,_),this.yAxis.setSize(m,_),this.intervalsContent&&this.intervalsContent.renderContents(b,m,v);var C=y>0?b.append("g").attr("transform","translate(0,"+y+")"):b;if(this.graphSize=[m,_],this.inClipRect=C.append("defs").append("clipPath").attr("id",this.clipName+"-in").append("rect").attr("y",-y).attr("width",m).attr("height",v),this.xAxis.renderContents(C),this.yAxis.renderContents(C),this.yAxis.renderSize[1]>_&&(n+=this.yAxis.renderSize[1]-_,v+=this.yAxis.renderSize[1]-_,_=this.yAxis.renderSize[1],this.xAxis.setSize(m,_),this.inClipRect.attr("height",v),this.outClipRect.attr("height",v),this.svg.attr("viewBox","0 0 "+Math.abs(e)+" "+Math.abs(n)).attr("style","height:"+n+"px"),this.intervalsContent&&this.intervalsContent.setSize(m,v)),this.linesContent.renderContents(C,m,_,!1),this.timeLine){var x=this.timeLine.computeMargin().bottom;this.timeLineContainer=this.svg.append("g").attr("transform","translate("+this.margin.left+","+(n-x-10)+")"),this.timeLine.renderContents(this.timeLineContainer,m,x),this.brush.renderContents(b,m,v)}return this.svg.on("mouseleave",function(){return i.handleMouseOutGraph()}),this.svg.on("mousemove",function(){return i.handleMouseOverGraph()}),this.size=[e,n]},t.prototype.processChange=function(t){var e=this.yAxis.processChange(t);this.linesContent.processChange(t),e&&(this.computeMargin(),this.resize(this.size[0],this.size[1],!0))},t.prototype.resize=function(t,e,n){var i=this.margin.netWidth(t),r=this.margin.netHeight(e),o=this.intervalsContent?r-20:r;if(this.xAxis.setSize(i,o),this.yAxis.setSize(i,o),this.yAxis.renderSize[1]>o&&(e+=this.yAxis.renderSize[1]-o,r+=this.yAxis.renderSize[1]-o,o=this.yAxis.renderSize[1],this.xAxis.setSize(i,o)),this.outClipRect.attr("width",i).attr("height",r),this.inClipRect.attr("width",i).attr("height",r),this.intervalsContent&&this.intervalsContent.setSize(i,r),this.linesContent.setSize(i,o,n),this.timeLine){var s=this.timeLine.computeMargin().bottom;this.timeLineContainer.attr("transform","translate("+this.margin.left+","+(e-s-10)+")"),this.timeLine.setSize(i,s),this.brush.setSize(i,r)}return this.svg.attr("viewBox","0 0 "+Math.abs(t)+" "+Math.abs(e)).attr("style","height:"+e+"px"),this.svg.attr("style","height:"+e+"px"),this.size=[t,e]},t.prototype.on=function(t,e){return{remove:function(){}}},t.instancesCount=0,t}();e.GLines=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);function r(t,e,n){var i=n.x-t,r=n.y-e;return i*i+r*r}function o(t,e,n,i){var r,o,s=t-n.x,a=e-n.y,u=i.x-n.x,l=i.y-n.y,c=u*u+l*l,h=-1;0!=c&&(h=(s*u+a*l)/c),h<0?(r=n.x,o=n.y):h>1?(r=i.x,o=i.y):(r=n.x+h*u,o=n.y+h*l);var d=t-r,p=e-o;return d*d+p*p}function s(t,e,n){return!(t.x<e[0])&&(!(t.x>e[1])&&(!(t.y<n[1])&&!(t.y>n[0])))}function a(t,e,n,i,a,u){if(0==t.length)return-1;var l=i*i;if(1==t.length){var c=t[0];return(g=r(e,n,c))>l?-1:s(c,a,u)?0:-1}for(var h=t.length-1,d=-1,p=l,f=0;f<h;f++)if(!(e-t[f+1].x>i)){if(t[f].x-e>i)break;var g;(g=o(e,n,t[f],t[f+1]))<=p&&(p=g,d=f)}if(-1==d)return-1;var m=t[d],v=t[d+1],y=s(m,a,u)?r(e,n,m):Number.MAX_VALUE,_=s(v,a,u)?r(e,n,v):Number.MAX_VALUE;return y<_?d:_<y?d+1:y==Number.MAX_VALUE?-1:d}function u(t,e,n){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]={x:e(t[r].x),y:n(t[r].y)};return i}var l=function(){function t(t,e,n,i,r,o){this.provider=t,this.xAxis=n,this.yAxis=i,this.clipName=r,this.lineSmoothing=o,this.lineGens=this.createLineGenerators(),this.colorProvider=e.ornament(0),this.strokeProvider=e.ornament(1)}return t.prototype.renderContents=function(t,e,n,i){var r=this;this.height=n,this.parent=t,this.parent.selectAll(".counter").remove(),this.createCounterGroups(),i&&this.provider.on("changed",function(t){return r.processChange(t)})},t.prototype.setLineSmoothing=function(t){this.lineSmoothing=t;this.processChange({dimensionsChanged:[],unitsChanged:!0,xDomainChanged:!0})},t.prototype.processChange=function(t){var e=t.dimensionsChanged[1],n=t.dimensionsChanged[0];if(t.unitsChanged&&(this.lineGens=this.createLineGenerators()),e||n){var i=this;this.updateGroups(e).each(function(t,e){var n=d3.select(this);i.updateCounters(n,e)})}(t.xDomainChanged||t.domainChanged||t.dataChanged)&&this.updateData(!t.majorChange)},t.prototype.setSize=function(t,e,n){this.height=e,this.updateData(n)},t.prototype.createCounterGroups=function(){var t=this.provider.dimension(1),e=this;this.parent.selectAll(".group").data(t.items(),t.key()).enter().append("g").classed("group",!0).style("stroke-dasharray",function(t,n){return e.strokeProvider.stroke(n)}).each(function(t,n){var i=d3.select(this);e.createCounters(i,n),e.showLonelyPoints(i,n)})},t.prototype.createCounters=function(t,e){var n=this,i=this.provider.dimension(0);t.selectAll(".counter").data(i.items(),i.key()).enter().append("g").call(function(t){return n.setupCounter(t)}).append("path").call(function(t){return n.setupLinePath(t,e,!0,!1)})},t.prototype.setupCounter=function(t){var e=this;t.classed("counter",!0).style("stroke",function(t,n){return e.colorProvider.color(n).toString()}).style("fill",function(t,n){return e.colorProvider.color(n).toString()}).append("circle").attr("r",3).style("display","none"),t.append("circle").classed("lonelyPoint",!0).attr("r",3).style("display","none")},t.prototype.createLineGenerators=function(){var t;t=this.lineSmoothing?function(t,e,n){return d3.svg.line().interpolate("cardinal").tension(.85).x(function(e){return t(e.x)}).y(function(t){return e(n.dataValue(t.y))})}:function(t,e,n){return d3.svg.line().x(function(e){return t(e.x)}).y(function(t){return e(n.dataValue(t.y))})};for(var e=new Array(this.provider.unitCount()),n=this.xAxis.scales[0],i=this.yAxis.scales,r=0;r<this.provider.unitCount();r++)e[r]=t(n,i[r],this.provider);return e},t.prototype.updateData=function(t){var e=this.provider.dimension(0),n=this.provider.dimension(1),i=this;this.parent.selectAll(".group").data(n.items(),n.key()).each(function(n,r){var o=d3.select(this);o.selectAll(".counter").data(e.items(),e.key()).select("path").call(function(e){return i.setupLinePath(e,r,!1,t)}),i.showLonelyPoints(o,r)})},t.prototype.setupLinePath=function(t,e,n,i){var r,o=this;this.strokeProvider.stroke(e);i?r=t.transition():(n&&(t.classed("line",!0),this.clipName&&t.attr("clip-path","url(#"+this.clipName+")")),r=t),r.attr("d",function(t,n){var i=[n,e],r=o.provider.dataUnit(i);return o.lineGens[r](o.provider.data(i))})},t.prototype.updateGroups=function(t){var e=this.provider.dimension(1),n=this.parent.selectAll(".group").data(e.items(),e.key());if(t){n.exit().remove();var i=n.enter().append("g").classed("group",!0);n.order();var r=this;i.each(function(t,e){var n=d3.select(this);r.createCounters(n,e)}),n.style("stroke-dasharray",function(t,e){return r.strokeProvider.stroke(e)})}return n},t.prototype.updateCounters=function(t,e){var n=this,i=this.provider.dimension(0),r=(this.provider.dimension(1),t.selectAll(".counter").data(i.items(),i.key()));r.exit().remove(),r.enter().append("g").call(function(t){return n.setupCounter(t)}).append("path").call(function(t){return n.setupLinePath(t,e,!0,!1)}),r.order(),r.style("stroke",function(t,e){return n.colorProvider.color(e).toString()}),r.style("fill",function(t,e){return n.colorProvider.color(e).toString()})},t.prototype.findCloseLines=function(t,e){for(var n=this.provider.dimension(0),r=this.provider.dimension(1),o=n.size(),s=r.size(),l=i.sameElementArrayF(o,Array),c=this.xAxis.scales[0],h=0;h<o;h++)for(var d=0;d<s;d++){var p=[h,d],f=this.yAxis.scales[this.provider.dataUnit(p)],g=u(this.provider.data(p),c,f),m=a(g,t,e,15,c.range(),f.range());-1!=m&&(l[h][d]={x:g[m].x,y:g[m].y,index:m})}return l},t.prototype.showLonelyPoints=function(t,e){var n=this.provider,i=this.xAxis.scales,r=this.yAxis.scales;this.parent.selectAll(".counter").select(".lonelyPoint").each(function(t,o){var s=d3.select(this),a=[o,e],u=n.data(a);1==u.length?s.style("display",null).attr("cx",i[0](u[0].x)).attr("cy",r[n.dataUnit(a)](u[0].y)):s.style("display","none")})},t.prototype.showPoints=function(t){this.parent.selectAll(".group").selectAll(".counter").select("circle").attr("cx",function(e,n,i){var r=t[n][i];return r?r.x:null}).attr("cy",function(e,n,i){var r=t[n][i];return r?r.y:null}).style("display",function(e,n,i){return t[n][i]?null:"none"})},t.prototype.clearPoints=function(){this.parent.selectAll(".group").selectAll(".counter").select("circle").style("display","none")},t}();e.LinesContent=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.provider=t}return t.prototype.on=function(t,e){var n=this;return this.provider.on("changed",function(t){return n.forwardEvent(t,e)})},t.prototype.forwardEvent=function(t,e){t.xDomainChanged&&e({domainChanged:!0,majorChange:t.majorChange})},t.prototype.unitCount=function(){return 1},t.prototype.unitLabel=function(t){return this.provider.xLabel()},t.prototype.unitDomain=function(t){return this.provider.xDomain()},t.prototype.unitScale=function(t,e){return this.provider.xScale(e)},t.prototype.dataValue=function(t){return this.provider.dataValue(t)},t}();e.LineToXProvider=i},function(t,e,n){"use strict";function i(t,e){var n=$(t).children(e);if(0==n.length){var i=$.parseXML("<"+e+"/>").documentElement;n=$(i).appendTo($(t))}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getOrCreateChild=i;var r=function(){function t(t){this.series=[],this.legends=[],this.paging=[],this.filters=[],this.sortings=[],this.ids=t.ids;var e=this.ids.length;this.series=new Array(e),this.legends=new Array(e),this.paging=new Array(e),this.filters=new Array(e),this.sortings=new Array(e)}return t.prototype.getIds=function(){return this.ids},t.prototype.getLabels=function(){return this.labels},t.prototype.validate=function(t){if(t>this.ids.length)throw"Unsupported dimensions count "+t+" (max "+this.ids.length+")";for(var e=0;e<t;e++){for(var n=0,i=0;i<this.series.length;i++)this.series[i]==e&&n++;if(0==n)throw"Dimension "+e+" is not assigned to a serie.";if(n>1)throw"Dimension "+e+" is assigned to several series."}return null},t.prototype.size=function(){return this.ids.length},t.prototype.cut=function(t){this.ids=this.ids.slice(0,t),this.series.length=t,this.legends.length=t,this.paging.length=t,this.filters.length=t,this.sortings.length=t},t.prototype.move=function(t,e){this.series[e]=this.series[t],this.legends[e]=this.legends[t],this.paging[e]=this.paging[t],this.filters[e]=this.filters[t],this.sortings[e]=this.sortings[t],this.series[t]=null,this.legends[t]=null,this.paging[t]=null,this.filters[t]=null,this.sortings[t]=null},t.prototype.useLegend=function(){return this.legends.some(function(t){return t})},t.prototype.legendCount=function(){var t=0;return this.legends.forEach(function(e){e&&t++}),t},t.prototype.usePaging=function(){return this.paging.some(function(t){return null!=t&&t>0})},t.prototype.useFilter=function(){return this.filters.some(function(t){return null!=t&&t>0})},t.prototype.useSorting=function(){return this.sortings.some(function(t){return t})},t.prototype.allLegendsOn=function(t){for(var e=0;e<this.legends.length;e++)this.legends[e]=t},t.prototype.allPaging=function(t){for(var e=0;e<this.paging.length;e++)this.paging[e]=t},t.prototype.applyOptions=function(t,e,n){for(var i=0,r=e;i<r.length;i++){var o=r[i],s=0;for(var a in t.series)t.series[a].dim==o&&s++;if(0==s)throw"Dimension "+o+" is not assigned to a serie.";if(s>1)throw"Dimension "+o+" is assigned to several series."}for(var u in t.series){var l=this.ids.indexOf(u);if(-1==l)throw"Serie "+u+" not defined";var c=t.series[u];if(c.dim){var h=e.indexOf(c.dim);if(-1!=h)this.series[l]=h,null!=c.legend&&(this.legends[l]=c.legend),null!=c.paging&&(this.paging[l]=c.paging),null!=c.filter&&(this.filters[l]=c.filter),null!=c.sorting&&(this.sortings[l]=c.sorting);else{if(-1==n.indexOf(c.dim))throw"Dimension "+c.dim+" not defined";this.series[l]=null,this.legends[l]=!1,this.paging[l]=null,this.filters[l]=null,this.sortings[l]=!1}}}},t}();function o(t){return null===t?null:t?"true":"false"}e.SeriesOptions=r;var s=function(){function t(){this.series={}}return t.prototype.getDimension=function(t){var e=this.series[t];return e?e.dim:null},t.prototype.getSerie=function(t){for(var e in this.series)if(this.series[e].dim==t)return e;return null},t.prototype.setDimension=function(t,e){var n=e?this.series[this.getSerie(e)]:null,i=this.series[t];for(var r in this.series)this.series[r].dim==e&&(i?this.series[r]=i:delete this.series[r]);e?this.series[t]=n||{dim:e,legend:null,paging:null,filter:null,sorting:null}:delete this.series[t]},t.prototype.save=function(t){var e=i(t,"series");for(var n in e.children().remove(),this.series){var r=this.series[n];i(e,n).attr("dim",r.dim).attr("legend",o(r.legend)).attr("paging",r.paging).attr("filter",r.filter).attr("sorting",o(r.sorting))}},t.create=function(e){var n=$(e).children("series");if(0==n.length)return null;var i=new t;return $(n[0]).children().each(function(){var t=$(this).attr("legend"),e=$(this).attr("paging"),n=$(this).attr("filter"),r=$(this).attr("sorting");i.series[this.nodeName]={dim:$(this).attr("dim"),legend:void 0!==t?"true"==t:null,sorting:void 0!==r?"true"==r:null,paging:void 0!==e?+e:null,filter:void 0!==n?+n:null}}),i},t}();e.SeriesOptionsModel=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(63),o=n(132),s=n(42),a=n(32),u=n(244),l=n(2).Properties.APPMSG,c=n(9),h=n(12),d=function(t){function e(n,i,r,o,s){var a=t.call(this,n,i,r,o,s)||this;return a.setClassName("linechart-view"),a.setRatio(e.DEFAULT_LINECHART_RATIO),a.scaleOnZoomedData=!("false"===$(a.getModel()).attr("scaleOnZoomedData")),a.timeMode=$(a.getModel()).attr("timeMode")||"relative",a.showTimeRanges=!("false"===$(a.getModel()).attr("showTimeRanges")),a.focusOnSelectedTimeRange=!("false"===$(a.getModel()).attr("focusOnSelectedTimeRange")),a.lineSmoothing="true"===$(a.getModel()).attr("lineSmoothing"),a.timelineVisibility=$(a.getModel()).attr("timelineVisibility"),a.scalePer=$(o).attr("scalePer"),a}return i.__extends(e,t),e.prototype.getSeries=function(){return o.LineSeries},e.prototype.getQueryFactory=function(){return this.provider},e.prototype.createQueryFactory=function(){return new a.LineQueryFactory(this.getCounterQuerySet(),this.getSession(),this.computeProviderOptions())},e.prototype.createChartAndProviders=function(){var t=this;try{this.provider=this.createQueryFactory(),this.provider.scalePer(this.scalePer),this.options=this.computeGLinesOptions(this.provider),this.timeRangesProvider=this.computeTimeRangeProvider(),this.lineChart=new o.GLines(this.provider.getViewProvider(),this.options,this.timeRangesProvider),this.provider.getViewProvider().on("changed",function(e){e.xDomainChanged&&t.xDomainChanged()}),this.setupBusy(this.provider.getQueryProvider())}catch(t){this.lineChart=new s.GError(t)}},e.prototype.computeTimeRangeProvider=function(){return this.isShowTimeRanges()?new u.GTimeRangesProvider(this.focusOnSelectedTimeRange):null},e.prototype.computeGLinesOptions=function(t){return{dimensions:t.getSeriesOptions(this.getSeriesOptions()),timeLine:this.getTimeLineVisibility(),scaleOnSelection:this.isScaleOnSelection(),lineSmoothing:this.isLineSmoothing(),tickStyle:["tick","tick"],detailMode:["projection","projection"]}},e.prototype.computeProviderOptions=function(){return{scaleOnZoomedData:this.scaleOnZoomedData,absoluteTime:"absolute"==this.timeMode,focusOnSelectedTimeRange:this.focusOnSelectedTimeRange}},e.prototype.createContents=function(e,n,i){var r=this;this.createChartAndProviders(),this.timeRangesProvider&&this.timeRangesProvider.setSession(this.getSession()),this.sessionListeners=[this.getSession().sessionSet.on("selectionChanged",function(){return r.refreshContents()}),this.getSession().getAgentsManager().on("changed",function(t){t.compareChanged&&r.refreshContents()})],this.focusOnSelectedTimeRange&&this.sessionListeners.push(this.getSession().on("selectedTimeRangesChanged",function(){return r.refreshContents()})),t.prototype.createContents.call(this,e,n,i)},e.prototype.clearContents=function(){t.prototype.clearContents.call(this);for(var e=0;e<this.sessionListeners.length;e++)this.sessionListeners[e].remove();this.sessionListeners=void 0,this.provider&&(this.provider.dispose(),this.timeRangesProvider&&(this.timeRangesProvider.dispose(),this.timeRangesProvider=null),this.provider=null),this.lineChart=null},e.prototype.createLegend=function(t){this.lineChart.renderLegend(d3.select(t))},e.prototype.createChart=function(t,e,n){var i=this.lineChart.renderContents(d3.select(t),e,n);$(t).find(".linechart");$(t).find(".linechart").height(i[1]),this.timeRangeAddButton=$("<button>").addClass("timerange-add").addClass("ui-button").append('<div class="ui-icon"></div>').css({position:"relative",top:20-n+"px",right:"15px"}).hide().appendTo($(t)).click(function(){var t=$(this).data("timerange");h.App.INSTANCE.getTimeRangeSelector().openTimeRangeDialog(function(){h.App.INSTANCE.getTimeRangeSelector().getTimeRangeDialog().add({name:l.NewTimeRange,start:1e3*t[0],end:1e3*t[1]})})})},e.prototype.chartResized=function(t,e,n){if(this.lineChart){var i=this.lineChart.resize(e,n);$(t).find(".linechart").height(i[1])}this.timeRangeAddButton&&$(this.timeRangeAddButton).css({position:"relative",top:20-n+"px",right:"15px"})},e.prototype.createOptions=function(e,n){var i=this;t.prototype.createOptions.call(this,e,n),e.addOption({label:l.ScaleOnZoomedData_label,type:"BOOLEAN",id:"scaleOnZoomedData",value:function(){return i.isScaleOnZoomedData()},change:function(t,e){return i.setScaleOnZoomedData(t,e)}}),e.addOption({label:l.ShowTimeRanges_label,type:"BOOLEAN",id:"showtimerange",value:function(){return i.isShowTimeRanges()},change:function(t,e){return i.setShowTimeRanges(t,e)}}),e.addOption({label:l.TimeMode_label,type:"SELECT",id:"timemode",values:function(){return[{value:"relative",label:l.TimeMode_relative},{value:"absolute",label:l.TimeMode_absolute}]},value:function(){return i.getTimeMode()},change:function(t,e){return i.setTimeMode(t,e)}}),e.addOption({label:l.LineSmoothing_label,type:"BOOLEAN",id:"lineSmoothing",value:function(){return i.isLineSmoothing()},change:function(t,e){return i.setLineSmoothing(t,e)}}),e.addOption({label:l.TimelineVisibility_label,type:"SELECT",id:"timelineVisibility",values:function(){return[{value:"none",label:l.TimeLineVisibility_none},{value:"small",label:l.TimeLineVisibility_small},{value:"full",label:l.TimeLineVisibility_full}]},value:function(){return i.getTimeLineVisibility()},change:function(t,e){return i.setTimelineVisibility(t,e)}}),e.addOption({label:l.ScalePer,type:"SELECT",id:"scalePer",values:function(){return[{value:null,label:l.PerUnit}].concat(i.provider?i.provider.getAcceptableDimensions(n,a.LabelKind.SINGULAR):[])},value:function(){return i.getScalePer()},change:function(t,e){return i.setScalePer(t,e)}})},e.prototype.getTimeLineVisibility=function(){var t=this.timelineVisibility;if(void 0==t){var e=this.getCounterQuerySet().getWildcards();return t=null!=e&&e.length>0?"full":"small"}return t},e.prototype.setTimelineVisibility=function(t,e){e&&$(this.getModel()).attr("timelineVisibility",t),this.timelineVisibility=t,this.refreshContents()},e.prototype.setShowTimeRanges=function(t,e){e&&$(this.getModel()).attr("showTimeRanges",t.toString()),this.showTimeRanges=t,this.refreshContents()},e.prototype.isShowTimeRanges=function(){return this.showTimeRanges},e.prototype.setLineSmoothing=function(t,e){e&&$(this.getModel()).attr("lineSmoothing",t.toString()),this.lineSmoothing=t,this.lineChart instanceof o.GLines&&this.lineChart.setLineSmoothing(t)},e.prototype.isLineSmoothing=function(){return this.lineSmoothing},e.prototype.setScaleOnZoomedData=function(t,e){e&&$(this.getModel()).attr("scaleOnZoomedData",t.toString()),this.scaleOnZoomedData=t,this.refreshContents()},e.prototype.isScaleOnZoomedData=function(){return this.scaleOnZoomedData},e.prototype.setTimeMode=function(t,e){e&&$(this.getModel()).attr("timeMode",t),this.timeMode=t,this.refreshContents()},e.prototype.getTimeMode=function(){return this.timeMode},e.prototype.getScalePer=function(){return this.scalePer},e.prototype.setScalePer=function(t,e){e&&$(this.getModel()).attr("scalePer",t),this.scalePer=t,this.refreshContents()},e.prototype.xDomainChanged=function(){c.OFFLINE.isActivated()||(this.provider&&this.provider.getQueryProvider&&null!=this.provider.getQueryProvider().getXDomain()?($(this.timeRangeAddButton).attr("title",l.CreateTimeRange),$(this.timeRangeAddButton).show(),this.timeRangeAddButton.data("timerange",this.provider.getQueryProvider().getXDomain())):($(this.timeRangeAddButton).attr("title",""),$(this.timeRangeAddButton).hide(),this.timeRangeAddButton.data("timerange",null)))},e.prototype.getCumulatedDefault=function(){return!1},e.DEFAULT_LINECHART_RATIO=1.9,e}(r.ChartView);e.LineChartView=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(189),o=n(39),s=function(t){function e(e){var n=t.call(this,e)||this;return $(e).addClass("listview"),n.modelModifierProvider=null,n.editMode=!1,$(n.getContents()).width("100%"),n}return i.__extends(e,t),e.prototype.setModelModifierProvider=function(t){this.modelModifierProvider=t},e.prototype.getModelModifierProvider=function(){return this.modelModifierProvider},e.prototype.getSelection=function(){return $(this.selected_item).data("item")},e.prototype.setSelection=function(t){var e=this.getSelection();if(t){null!=this.selected_item&&$(this.selected_item).removeClass("ui-selected");var n=this;if($(this.getContents()).find("a").each(function(e){$(this).data("item")===t&&($(this).addClass("ui-selected"),n.selected_item=this)}),e){var i=this.findViewItem(e);i&&this.hideEditToolbar(i,e)}var r=this.findViewItem(t);r&&this.showEditToolbar(r,t),this.getSelection()!=e&&this.emit("selectionChanged",this.getSelection())}},e.prototype.setEditMode=function(t){var e=this;if(this.editMode=t,t){this.getViewItems().each(function(t){e.addEditToolbar(this,$(this).data("item"))});var n=this.getSelection();this.showEditToolbar(this.findViewItem(n),n)}else this.getViewItems().each(function(t){e.removeEditToolbar($(this),$(this).data("item"))})},e.prototype.addEditToolbar=function(t,e){var n=this;if(this.editMode){var i=document.createElement("ul");$(i).addClass("toolbar listitem-toolbar clearfix");var r=new o.Menu(i);r.on("clicked",function(t){if(n.modelModifierProvider){n.getSelection();"remove_listitem"==t?n.modelModifierProvider.remove(e,function(t){n.update(),n.setSelection(t),n.scrollToItem(t)}):"add_listitem"==t?n.modelModifierProvider.insertAfter(e,function(t){n.update(),n.setSelection(t),n.scrollToItem(t)}):"moveup_listitem"==t?n.modelModifierProvider.moveUp(e,function(t){n.update(),n.setSelection(t),n.scrollToItem(t)}):"movedown_listitem"==t?n.modelModifierProvider.moveDown(e,function(t){n.update(),n.setSelection(t),n.scrollToItem(t)}):"duplicate_listitem"==t&&n.modelModifierProvider.duplicate(e,function(t){n.update(),n.setSelection(t),n.scrollToItem(t)})}}),this.modelModifierProvider.isEnabled(this.modelModifierProvider.insertAfter)&&r.appendItem("add_listitem","fa fa-plus",this.modelModifierProvider.getLabel?this.modelModifierProvider.getLabel(this.modelModifierProvider.insertAfter):void 0),this.modelModifierProvider.isEnabled(this.modelModifierProvider.duplicate)&&r.appendItem("duplicate_listitem","fa fa-clone",this.modelModifierProvider.getLabel?this.modelModifierProvider.getLabel(this.modelModifierProvider.duplicate):void 0),this.modelModifierProvider.isEnabled(this.modelModifierProvider.remove)&&r.appendItem("remove_listitem","fa fa-trash",this.modelModifierProvider.getLabel?this.modelModifierProvider.getLabel(this.modelModifierProvider.remove):void 0),this.modelModifierProvider.isEnabled(this.modelModifierProvider.moveUp)&&r.appendItem("moveup_listitem","fa fa-caret-up",this.modelModifierProvider.getLabel?this.modelModifierProvider.getLabel(this.modelModifierProvider.moveUp):void 0),this.modelModifierProvider.isEnabled(this.modelModifierProvider.moveDown)&&r.appendItem("movedown_listitem","fa fa-caret-down",this.modelModifierProvider.getLabel?this.modelModifierProvider.getLabel(this.modelModifierProvider.moveDown):void 0),$(i).prependTo($(t)),this.hideEditToolbar(t,e)}},e.prototype.removeEditToolbar=function(t,e){$(t).find(".listitem-toolbar").remove()},e.prototype.fillItem=function(t,e,n){var i=this;$(t).hover(function(){i.showEditToolbar(t,e)},function(){i.hideEditToolbar(t,e)}),this.editMode&&this.addEditToolbar(t,e),this.fillItemContents(t,e,n)},e.prototype.showEditToolbar=function(t,e){$(t).find(".listitem-toolbar").css("visibility","visible")},e.prototype.hideEditToolbar=function(t,e){e!=this.getSelection()&&$(t).find(".listitem-toolbar").css("visibility","hidden")},e.prototype.fillItemContents=function(t,e,n){if(this.getLabelProvider()){var i=this.getLabelProvider().getIcon?this.getLabelProvider().getIcon(e):void 0;if(i){var r=document.createElement("img");$(r).attr("href",i).appendTo($(t))}var o=this.getLabelProvider().getText?this.getLabelProvider().getText(e):void 0;o&&$("<div>").addClass("label").appendTo($(t)).text(o);var s=this.getLabelProvider().getCssClass?this.getLabelProvider().getCssClass(e):void 0;s&&$(t).addClass(s)}},e.prototype.update=function(){this.oldSelection=this.getSelection(),t.prototype.update.call(this)},e.prototype.updateContents=function(t){this.selected_item=null;var e=this;this.getContentProvider().getElements(this.getInput(),function(n){$(n).each(function(n){var i=document.createElement("a");$(i).attr("href","javascript: void(0);").data("item",this).addClass("listview-item").addClass("btn").click(function(t){t.preventDefault(),e.setSelection($(i).data("item"))}).on("dragstart",function(t){t.preventDefault()}),$(i).appendTo($(t)),e.getLabelProvider()&&e.fillItem(i,this,n),e.oldSelection==this&&(e.selected_item=i,$(i).addClass("ui-selected"))});var i=$(t).height();0!=i&&(i+$(t).position().top<$(e.getContainer()).height()&&$(t).css("top",0))})},e.prototype.getViewItems=function(){return $(this.getContents()).find("a.listview-item")},e.prototype.findViewItem=function(t){if(!t)return null;var e=null;return $(this.getContents()).children("a").each(function(n){$(this).data("item")!==t||(e=this)}),e},e.prototype.findViewItemIndex=function(t){var e=null;return $(this.getContents()).children("a").each(function(n){$(this).data("item")!==t||(e={item:this,index:n})}),e},e.prototype.updateItem=function(t){var e=this.findViewItemIndex(t);e&&($(e.item).children().remove(),this.fillItem(e.item,t,e.index))},e.prototype.scrollToItem=function(t){var e=this;$(this.getContents()).find("a").each(function(n){if($(this).data("item")===t){var i=$(this).position().top,r=$(this).outerHeight(),o=$(e.getContents()).position().top,s=$(e.getContainer()).height(),a=Math.abs(o)-i,u=0;a>0?u=a:Math.abs(a)+r>s&&(u=-(Math.abs(a)+r-s)),$(e.getContents()).css("top",o+u),e.updateVScrollBarDragPosition()}})},e}(r.Scrollview);e.Listview=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(190),o=n(31),s=n(198),a=n(43),u=n(37),l=n(58),c=n(2).Properties.APPMSG,h=function(t){function e(n,i){var s=t.call(this,n)||this;s.filter_tab=[c.COMPLETE,c.COMPLETED_WITH_ERROR,c.STOPPED_MANUALLY,c.INIT,c.PERFORMING_DATA_TRANSFERT,c.RUNNING],s.toolbar=$("<div>").addClass("toolbar").prependTo($(s.getContainer())),s.filter_button=$("<a>").attr("title",c.Filter_button).attr("href","javascript:void(0)").addClass("button").appendTo(s.toolbar).click(function(){s.toggleMenu()}).append($("<i>")).addClass("fa fa-filter").attr("aria-hidden","true");var h=new r.SessionContentProvider(i);s.statusMap={},s.addSortColumn(e.COL_TIME,function(t,e){return"Session"===t.type&&"Session"===e.type?t.date-e.date:"Container"==t.type&&"Session"===e.type?-1:"Session"==t.type&&"Container"===e.type?1:0}),s.addSortColumn(e.COL_NAME,function(t,e){return"Container"==t.type&&"Session"===e.type?-1:"Session"==t.type&&"Container"===e.type?1:"Session"===t.type&&"Session"===e.type?t.label==e.label?e.date-t.date:t.label.localeCompare(e.label):0}),s.addSortColumn(e.COL_STATUS,function(t,e){if("Container"==t.type&&"Session"===e.type)return-1;if("Session"===t.type&&"Container"===e.type)return 1;if("Session"===t.type&&"Session"===e.type){var n=s.statusMap[t.name],i=s.statusMap[e.name];if(n)return n.localeCompare(i)}return 0});var d=s;return s.addSelectionListener({selectChanged:function(t){t&&("Session"==t.type?d.emit("selected",t):"Container"==t.type&&(d.selection=t,d.setInput(t)))}}),s.setContentProvider(h),s.setLabelProvider({label:new o.SessionLabelProvider(!0),getText:function(t,n,i){if(n==e.COL_NAME)return this.label.getText(t);if("Session"===t.type){if(n==e.COL_TIME)return new a.DateFormat(t.date).toDateString();if(n==e.COL_COMMENTS){var r=new u.Session(t.path+"/"+t.name,!0);return r.setOn(),r.modelAvailable().then(function(){i(r.getUserComment())}),""}if(n==e.COL_STATUS){var o=new u.Session(t.path+"/"+t.name,!0),s=new l.GStatusQueryProvider;return s.on("changed",function(e){e.itemsChanged&&(d.statusMap[t.name]=s.getActiveStatus(),i(s.getActiveStatus()))}),s.setSession(o),""}}return""},getCssClass:function(t,n,i){return n==e.COL_NAME?"session_table_runname":n==e.COL_TIME?"session_table_starttime":n==e.COL_COMMENTS?"session_table_comment":n==e.COL_STATUS?"session_table_status":""},getIcon:function(t,n,i){return"Session"===t.type&&n==e.COL_NAME?"images/session16x16.png":"Container"===t.type&&n==e.COL_NAME?"images/folder16x16.png":null}}),s}return i.__extends(e,t),e.prototype.toggleMenu=function(){if(this.filter_menu)return this.filter_menu.remove(),void(this.filter_menu=void 0);for(var t=$("<ul>"),e=0;e<this.filter_tab.length;e++){var n=$("<li>").text(this.filter_tab[e]).appendTo(t);this.filter_value==this.filter_tab[e]&&n.css("font-weight","bold")}t.css("position","absolute"),t.css("z-index","100");var i=this;this.filter_menu=t.menu({select:function(t,e){e.item&&(i.toggleFilter(e.item.text()),i.toggleMenu())}}),this.filter_menu.appendTo($("body")),this.filter_menu.position({my:"left top",at:"left bottom",of:$(this.filter_button),collision:"fit"})},e.prototype.toggleFilter=function(t){var e=this;if(this.getFilter()&&this.filter_value==t)return this.setFilter(null),void(this.filter_value=null);this.filter_value=t,this.setFilter(function(n){return""==n.path||e.statusMap[n.name]==t})},e.prototype.update=function(){t.prototype.update.call(this)},e.prototype.getSelection=function(){return this.selection},e.COL_NAME=0,e.COL_TIME=1,e.COL_STATUS=2,e.COL_COMMENTS=3,e}(s.TableBuilder);e.SessionSelector=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(74),o=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.fromString=function(t){return t?l[t]:null},t}();e.CounterType=o;var s=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o._defaultComponent=i,o._components=r,o}return i.__extends(e,t),e.prototype.defaultComponent=function(){return this._defaultComponent},e.prototype.component=function(t){return this._components[t]},e.prototype.components=function(){return Object.keys(this._components)},e}(o),a=/^Percentile\/([0-9]+)$/,u=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return i.__extends(e,t),e.prototype.component=function(e){var n=a.exec(e);if(n){var i=+n[1];if(i>0&&i<=100)return r.ComponentType.VALUE_PERCENTILE}return t.prototype.component.call(this,e)},e.prototype.components=function(){for(var e=t.prototype.components.call(this),n=1;n<=100;n++)e.push("Percentile/"+n);return e},e}(s),l=function(){function t(){}return t.COUNT_BASIC=new s("COUNT_BASIC",!0,"Count",{Count:r.ComponentType.COUNT,Rate:r.ComponentType.RATE}),t.COUNT_RATE_RANGE=new s("COUNT_RATE_RANGE",!0,"Count",{Count:r.ComponentType.COUNT,Rate:r.ComponentType.RATE,MinRate:r.ComponentType.RATE_MIN,MaxRate:r.ComponentType.RATE_MAX}),t.INCREMENT_BASIC=new s("INCREMENT_BASIC",!0,"Increment",{Increment:r.ComponentType.INCREMENT,Rate:r.ComponentType.INCREMENT_RATE}),t.INCREMENT_EXTENT=new s("INCREMENT_EXTENT",!0,"Increment",{Increment:r.ComponentType.INCREMENT,Rate:r.ComponentType.INCREMENT_RATE,LExt:r.ComponentType.INCREMENT_LEXT,RExt:r.ComponentType.INCREMENT_REXT}),t.VALUE_BASIC=new s("VALUE_BASIC",!1,"",{"":r.ComponentType.VALUE_MEAN}),t.VALUE_AVERAGE=new s("VALUE_AVERAGE",!1,"Mean",{Mean:r.ComponentType.VALUE_MEAN,Sum:r.ComponentType.VALUE_SUM,Weight:r.ComponentType.VALUE_WEIGHT}),t.VALUE_STDDEV=new s("VALUE_STDDEV",!1,"Mean",{Mean:r.ComponentType.VALUE_MEAN,StdDev:r.ComponentType.VALUE_STDDEV,Sum:r.ComponentType.VALUE_SUM,Weight:r.ComponentType.VALUE_WEIGHT,M2:r.ComponentType.VALUE_M2}),t.VALUE_RANGE=new s("VALUE_RANGE",!1,"Mean",{Mean:r.ComponentType.VALUE_MEAN,StdDev:r.ComponentType.VALUE_STDDEV,Min:r.ComponentType.VALUE_MIN,Max:r.ComponentType.VALUE_MAX,Sum:r.ComponentType.VALUE_SUM,Weight:r.ComponentType.VALUE_WEIGHT,M2:r.ComponentType.VALUE_M2}),t.VALUE_DISTRIBUTION=new u("VALUE_DISTRIBUTION",!1,"Mean",{Mean:r.ComponentType.VALUE_MEAN,StdDev:r.ComponentType.VALUE_STDDEV,Min:r.ComponentType.VALUE_MIN,Max:r.ComponentType.VALUE_MAX,Sum:r.ComponentType.VALUE_SUM,Weight:r.ComponentType.VALUE_WEIGHT,M2:r.ComponentType.VALUE_M2}),t.VALUE_MIN=new s("VALUE_MIN",!1,"",{"":r.ComponentType.VALUE_MIN}),t.VALUE_MAX=new s("VALUE_MAX",!1,"",{"":r.ComponentType.VALUE_MAX}),t.TEXT_UPDATABLE=new s("TEXT_UPDATABLE",!1,"",{"":r.ComponentType.TEXT}),t.TEXT_CONCATENABLE=new s("TEXT_CONCATENABLE",!1,"",{"":r.ComponentType.TEXT}),t.PERCENT_BASIC=new s("PERCENT_BASIC",!1,"Percent",{Ratio:r.ComponentType.RATIO,Percent:r.ComponentType.PERCENT}),t.PERCENT=new s("PERCENT",!1,"Percent",{Ratio:r.ComponentType.RATIO,Percent:r.ComponentType.PERCENT,Numerator:r.ComponentType.PERCENT_NUMERATOR,Denominator:r.ComponentType.PERCENT_DENOMINATOR}),t.PERCENT_RANGE=new s("PERCENT_RANGE",!1,"Percent",{Ratio:r.ComponentType.RATIO,Percent:r.ComponentType.PERCENT,Numerator:r.ComponentType.PERCENT_NUMERATOR,Denominator:r.ComponentType.PERCENT_DENOMINATOR,MinPercent:r.ComponentType.PERCENT_MIN,MaxPercent:r.ComponentType.PERCENT_MAX}),t.SPERCENT_BASIC=new s("SPERCENT_BASIC",!1,"Percent",{Ratio:r.ComponentType.SRATIO,Percent:r.ComponentType.SPERCENT}),t.SPERCENT=new s("SPERCENT",!1,"Percent",{Ratio:r.ComponentType.SRATIO,Percent:r.ComponentType.SPERCENT,Numerator:r.ComponentType.SPERCENT_NUMERATOR,Denominator:r.ComponentType.SPERCENT_DENOMINATOR}),t.SPERCENT_RANGE=new s("SPERCENT_RANGE",!1,"Percent",{Ratio:r.ComponentType.SRATIO,Percent:r.ComponentType.SPERCENT,Numerator:r.ComponentType.SPERCENT_NUMERATOR,Denominator:r.ComponentType.SPERCENT_DENOMINATOR,MinPercent:r.ComponentType.SPERCENT_MIN,MaxPercent:r.ComponentType.SPERCENT_MAX}),t.REQUIREMENT_VERDICT=new s("REQUIREMENT_VERDICT",!1,"Status",{Status:r.ComponentType.REQVERDICT_STATUS,PassCount:r.ComponentType.REQVERDICT_COUNT,FailCount:r.ComponentType.REQVERDICT_COUNT,PassPercent:r.ComponentType.REQVERDICT_PERCENT,FailPercent:r.ComponentType.REQVERDICT_PERCENT,TotalCount:r.ComponentType.REQVERDICT_COUNT}),t.REQUIREMENT_EVAL=new s("REQUIREMENT_EVAL",!1,"Status",{Status:r.ComponentType.REQVERDICT_STATUS,Requirement:r.ComponentType.REQEVAL_REQUIREMENT,Margin:r.ComponentType.REQEVAL_MARGIN,Observed:r.ComponentType.REQEVAL_VALUE,PassCount:r.ComponentType.REQVERDICT_COUNT,FailCount:r.ComponentType.REQVERDICT_COUNT,PassPercent:r.ComponentType.REQVERDICT_PERCENT,FailPercent:r.ComponentType.REQVERDICT_PERCENT,TotalCount:r.ComponentType.REQVERDICT_COUNT}),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(35),o=n(2).Properties.APPMSG,s=n(7),a=function(){function t(){this.showMatch=!0,this.contains=!0,this.caseSensitive=!1,this.name=""}return t.prototype.getLabel=function(){return this.showMatch?this.contains?this.caseSensitive?s.bind(o.InstanceNameFilter_include_contains_caseSensitive,this.name):s.bind(o.InstanceNameFilter_include_contains_caseUnsensitive,this.name):this.caseSensitive?s.bind(o.InstanceNameFilter_include_equals_caseSensitive,this.name):s.bind(o.InstanceNameFilter_include_equals_caseUnsensitive,this.name):this.contains?this.caseSensitive?s.bind(o.InstanceNameFilter_exclude_contains_caseSensitive,this.name):s.bind(o.InstanceNameFilter_exclude_contains_caseUnsensitive,this.name):this.caseSensitive?s.bind(o.InstanceNameFilter_exclude_equals_caseSensitive,this.name):s.bind(o.InstanceNameFilter_exclude_equals_caseUnsensitive,this.name)},t.prototype.isValid=function(){return!0},t.prototype.saveToView=function(t){var e=$($.parseXML("<NameFilter/>").documentElement);e.appendTo($(t));var n=$($.parseXML("<names/>").documentElement);n.appendTo(e);for(var i=0,r=this.name.split("||");i<r.length;i++){var o=r[i];$($.parseXML("<item>"+o+"</item>").documentElement).appendTo(n)}this.showMatch&&$(e).attr("showMatch","true"),this.contains&&$(e).attr("contains","true"),this.caseSensitive&&$(e).attr("caseSensitive","true")},t.prototype.toJson=function(){return{__type:"NameFilter",showMatch:this.showMatch,contains:this.contains,caseSensitive:this.caseSensitive,names:this.name.split("||")}},t.loadFromView=function(e){var n,i=new t;return i.showMatch="true"==$(e).attr("showMatch"),i.contains="true"==$(e).attr("contains"),i.caseSensitive="true"==$(e).attr("caseSensitive"),$(e).children("names").children("item").each(function(){var t=$(this).text();n?n+="||"+t:n=t}),i.name=n,i},t.exactMatch=function(e){var n=new t;return n.caseSensitive=!0,n.contains=!1,n.name=e,n},t}();e.InstanceNameFilter=a;var u=function(){function t(t){this.counterQuery=t}return t.prototype.isValid=function(){return null!=this.counterQuery},t}();e.InstanceQueryFilter=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.showHighest=!0,n.count=10,n}return i.__extends(e,t),e.prototype.getLabel=function(){if(this.counterQuery){var t=this.counterQuery.label();return this.showHighest?s.bind(o.InstanceCountFilter_showHighest_withCounter,[this.count,t]):s.bind(o.InstanceCountFilter_showLowest_withCounter,[this.count,t])}return this.showHighest?s.bind(o.InstanceCountFilter_showHighest_noCounter,this.count):s.bind(o.InstanceCountFilter_showLowest_noCounter,this.count)},e.prototype.saveToView=function(t){var e=$($.parseXML("<CountFilterInfo/>").documentElement);this.counterQuery.saveTo(e).attr("count",this.count).appendTo($(t)),this.showHighest&&e.attr("showHighest","true")},e.prototype.toJson=function(){return{__type:"CountFilter",showHighest:this.showHighest,count:this.count,path:this.counterQuery.path()}},e.loadFromView=function(t){var n=$(t),i=r.CounterComponentQuery.load(n);if(!i)return null;var o=new e(i);return o.showHighest="true"==$(t).attr("showHighest"),o.count=+$(t).attr("count"),o},e}(u);e.InstanceCountFilter=l;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.showAbove=!1,n.thresholdValue=1e3,n}return i.__extends(e,t),e.prototype.getLabel=function(){if(this.counterQuery){var t=this.counterQuery.label();return this.showAbove?s.bind(o.InstanceValueFilter_showAbove_withCounter,[this.thresholdValue,t]):s.bind(o.InstanceValueFilter_showBelow_withCounter,[this.thresholdValue,t])}return this.showAbove?s.bind(o.InstanceValueFilter_showAbove_noCounter,this.thresholdValue):s.bind(o.InstanceValueFilter_showBelow_noCounter,this.thresholdValue)},e.prototype.saveToView=function(t){var e=$($.parseXML("<ValueFilterInfo/>").documentElement);this.counterQuery.saveTo(e).attr("thresholdValue",this.thresholdValue).appendTo($(t)),this.showAbove&&$(e).attr("showAbove","true")},e.prototype.toJson=function(){return{__type:"ValueFilter",showAbove:this.showAbove,thresholdValue:this.thresholdValue,path:this.counterQuery.path()}},e.loadFromView=function(t){var n=$(t),i=r.CounterComponentQuery.load(n);if(!i)return null;var o=new e(i);return o.showAbove="true"==$(t).attr("showAbove"),o.thresholdValue=+$(t).attr("thresholdValue"),o},e}(u);e.InstanceValueFilter=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(207),r=n(243),o=n(136),s=n(245),a=n(246),u=n(248),l=n(12),c=function(){function t(){}return t.prototype.create=function(t,e,n,c,h){var d=null;if("BarChart"==c.nodeName)d=new r.BarChartView(t,e,n,c,h);else if("PieChart"==c.nodeName)d=new i.PieChartView(t,e,n,c,h);else if("LineChart"==c.nodeName)d=new o.LineChartView(t,e,n,c,h);else if("Table"==c.nodeName)d=new s.TableView(t,e,n,c,h);else if("Text"==c.nodeName)d=new u.TextView(t,e,n,c,h);else{if("RunStatus"!=c.nodeName)return l.App.INSTANCE.showErrorMessage("Error : unknown view's node name in the report model = "+c.nodeName),null;d=new a.RunStatusView(t,e,n,c,h)}return d},t}();e.ViewsFactory=c},function(t,e,n){n(75),n(146),n(264),n(265),n(266),n(267),t.exports=n(268)},function(t,e,n){(function(e,i){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,s=void 0,a=void 0,u=function(t,e){g[o]=t,g[o+1]=e,2===(o+=2)&&(a?a(m):C())};var l="undefined"!=typeof window?window:void 0,c=l||{},h=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(m,1)}}var g=new Array(1e3);function m(){for(var t=0;t<o;t+=2){(0,g[t])(g[t+1]),g[t]=void 0,g[t+1]=void 0}o=0}var v,y,_,b,C=void 0;function x(t,e){var n=arguments,i=this,r=new this.constructor(T);void 0===r[S]&&V(r);var o,s=i._state;return s?(o=n[s-1],u(function(){return H(s,r,o,i._result)})):O(i,r,t,e),r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(T);return k(e,t),e}d?C=function(){return e.nextTick(m)}:h?(y=0,_=new h(m),b=document.createTextNode(""),_.observe(b,{characterData:!0}),C=function(){b.data=y=++y%2}):p?((v=new MessageChannel).port1.onmessage=m,C=function(){return v.port2.postMessage(0)}):C=void 0===l?function(){try{var t=n(145);return s=t.runOnLoop||t.runOnContext,function(){s(m)}}catch(t){return f()}}():f();var S=Math.random().toString(36).substring(16);function T(){}var M=void 0,E=1,P=2,D=new F;function A(t){try{return t.then}catch(t){return D.error=t,D}}function I(e,n,i){n.constructor===e.constructor&&i===x&&n.constructor.resolve===w?function(t,e){e._state===E?R(t,e._result):e._state===P?L(t,e._result):O(e,void 0,function(e){return k(t,e)},function(e){return L(t,e)})}(e,n):i===D?L(e,D.error):void 0===i?R(e,n):t(i)?function(t,e,n){u(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?k(t,n):R(t,n))},function(e){i||(i=!0,L(t,e))},t._label);!i&&r&&(i=!0,L(t,r))},t)}(e,n,i):R(e,n)}function k(t,e){var n;t===e?L(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=e)||"object"==typeof n&&null!==n?I(t,e,A(e)):R(t,e)}function $(t){t._onerror&&t._onerror(t._result),N(t)}function R(t,e){t._state===M&&(t._result=e,t._state=E,0!==t._subscribers.length&&u(N,t))}function L(t,e){t._state===M&&(t._state=P,t._result=e,u($,t))}function O(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+E]=n,r[o+P]=i,0===o&&t._state&&u(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?H(n,i,r,o):r(o);t._subscribers.length=0}}function F(){this.error=null}var z=new F;function H(e,n,i,r){var o=t(i),s=void 0,a=void 0,u=void 0,l=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return z.error=t,z}}(i,r))===z?(l=!0,a=s.error,s=null):u=!0,n===s)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,u=!0;n._state!==M||(o&&u?k(n,s):l?L(n,a):e===E?R(n,s):e===P&&L(n,s))}var U=0;function V(t){t[S]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}function j(t,e){this._instanceConstructor=t,this.promise=new t(T),this.promise[S]||V(this.promise),r(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&R(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}function B(t){this[S]=U++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(t,e){try{e(function(e){k(t,e)},function(e){L(t,e)})}catch(e){L(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function q(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=B}return j.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===M&&n<t;n++)this._eachEntry(e[n],n)},j.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===w){var r=A(t);if(r===x&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===B){var o=new n(T);I(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},j.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===M&&(this._remaining--,t===P?L(i,n):this._result[e]=n),0===this._remaining&&R(i,this._result)},j.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(E,e,t)},function(t){return n._settledAt(P,e,t)})},B.all=function(t){return new j(this,t).promise},B.race=function(t){var e=this;return r(t)?new e(function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=w,B.reject=function(t){var e=new this(T);return L(e,t),e},B._setScheduler=function(t){a=t},B._setAsap=function(t){u=t},B._asap=u,B.prototype={constructor:B,then:x,catch:function(t){return this.then(null,t)}},q(),B.polyfill=q,B.Promise=B,B},t.exports=r()}).call(e,n(144),n(76))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(77);n(181),n(182);var r=n(2),o=n(9),s=n(36),a=n(14),u=i.Deferred();i(u.resolve),i.when(o.load(),u).then(function(){n(183),i.when(r.load("APPMSG"),r.load("SHAREMSG"),s.load(),a.load()).then(function(){(new(n(12).App)).start()})})},function(t,e,n){var i;void 0===(i=function(){return function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(46)],void 0===(r=function(t){return t.toString}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(150)],void 0===(r=function(t,e){t.find=e,t.expr=e.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=e.uniqueSort,t.text=e.getText,t.isXMLDoc=e.isXML,t.contains=e.contains}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;!function(r){var o,s,a,u,l,c,h,d,p,f,g,m,v,y,_,b,C,x,w,S="sizzle"+1*new Date,T=r.document,M=0,E=0,P=lt(),D=lt(),A=lt(),I=function(t,e){return t===e&&(g=!0),0},k=1<<31,$={}.hasOwnProperty,R=[],L=R.pop,O=R.push,N=R.push,F=R.slice,z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+U+"*("+V+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+U+"*\\]",B=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",q=new RegExp(U+"+","g"),W=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),G=new RegExp("^"+U+"*,"+U+"*"),Q=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),X=new RegExp("="+U+"*([^\\]'\"]*?)"+U+"*\\]","g"),Y=new RegExp(B),K=new RegExp("^"+V+"$"),Z={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,et=/^[^{]+\{\s*\[native \w/,nt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,rt=/'|\\/g,ot=new RegExp("\\\\([\\da-f]{1,6}"+U+"?|("+U+")|.)","ig"),st=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},at=function(){m()};try{N.apply(R=F.call(T.childNodes),T.childNodes),R[T.childNodes.length].nodeType}catch(t){N={apply:R.length?function(t,e){O.apply(t,F.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ut(t,e,n,i){var r,o,a,u,l,h,p,f,g=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return n;if(!i&&((e?e.ownerDocument||e:T)!==v&&m(e),e=e||v,_)){if(11!==y&&(h=nt.exec(t)))if(r=h[1]){if(9===y){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(g&&(a=g.getElementById(r))&&w(e,a)&&a.id===r)return n.push(a),n}else{if(h[2])return N.apply(n,e.getElementsByTagName(t)),n;if((r=h[3])&&s.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(r)),n}if(s.qsa&&!A[t+" "]&&(!b||!b.test(t))){if(1!==y)g=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(rt,"\\$&"):e.setAttribute("id",u=S),o=(p=c(t)).length,l=K.test(u)?"#"+u:"[id='"+u+"']";o--;)p[o]=l+" "+_t(p[o]);f=p.join(","),g=it.test(t)&&vt(e.parentNode)||e}if(f)try{return N.apply(n,g.querySelectorAll(f)),n}catch(t){}finally{u===S&&e.removeAttribute("id")}}}return d(t.replace(W,"$1"),e,n,i)}function lt(){var t=[];return function e(n,i){return t.push(n+" ")>a.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ct(t){return t[S]=!0,t}function ht(t){var e=v.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),i=n.length;i--;)a.attrHandle[n[i]]=e}function pt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||k)-(~t.sourceIndex||k);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function gt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return ct(function(e){return e=+e,ct(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(o in s=ut.support={},l=ut.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},m=ut.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:T;return i!==v&&9===i.nodeType&&i.documentElement?(y=(v=i).documentElement,_=!l(v),(n=v.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",at,!1):n.attachEvent&&n.attachEvent("onunload",at)),s.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),s.getElementsByTagName=ht(function(t){return t.appendChild(v.createComment("")),!t.getElementsByTagName("*").length}),s.getElementsByClassName=et.test(v.getElementsByClassName),s.getById=ht(function(t){return y.appendChild(t).id=S,!v.getElementsByName||!v.getElementsByName(S).length}),s.getById?(a.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var n=e.getElementById(t);return n?[n]:[]}},a.filter.ID=function(t){var e=t.replace(ot,st);return function(t){return t.getAttribute("id")===e}}):(delete a.find.ID,a.filter.ID=function(t){var e=t.replace(ot,st);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),a.find.TAG=s.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):s.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},a.find.CLASS=s.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&_)return e.getElementsByClassName(t)},C=[],b=[],(s.qsa=et.test(v.querySelectorAll))&&(ht(function(t){y.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+U+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+U+"*(?:value|"+H+")"),t.querySelectorAll("[id~="+S+"-]").length||b.push("~="),t.querySelectorAll(":checked").length||b.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||b.push(".#.+[+~]")}),ht(function(t){var e=v.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+U+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(s.matchesSelector=et.test(x=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.oMatchesSelector||y.msMatchesSelector))&&ht(function(t){s.disconnectedMatch=x.call(t,"div"),x.call(t,"[s!='']:x"),C.push("!=",B)}),b=b.length&&new RegExp(b.join("|")),C=C.length&&new RegExp(C.join("|")),e=et.test(y.compareDocumentPosition),w=e||et.test(y.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return g=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!s.sortDetached&&e.compareDocumentPosition(t)===n?t===v||t.ownerDocument===T&&w(T,t)?-1:e===v||e.ownerDocument===T&&w(T,e)?1:f?z(f,t)-z(f,e):0:4&n?-1:1)}:function(t,e){if(t===e)return g=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===v?-1:e===v?1:r?-1:o?1:f?z(f,t)-z(f,e):0;if(r===o)return pt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?pt(s[i],a[i]):s[i]===T?-1:a[i]===T?1:0},v):v},ut.matches=function(t,e){return ut(t,null,null,e)},ut.matchesSelector=function(t,e){if((t.ownerDocument||t)!==v&&m(t),e=e.replace(X,"='$1']"),s.matchesSelector&&_&&!A[e+" "]&&(!C||!C.test(e))&&(!b||!b.test(e)))try{var n=x.call(t,e);if(n||s.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return ut(e,v,null,[t]).length>0},ut.contains=function(t,e){return(t.ownerDocument||t)!==v&&m(t),w(t,e)},ut.attr=function(t,e){(t.ownerDocument||t)!==v&&m(t);var n=a.attrHandle[e.toLowerCase()],i=n&&$.call(a.attrHandle,e.toLowerCase())?n(t,e,!_):void 0;return void 0!==i?i:s.attributes||!_?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},ut.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ut.uniqueSort=function(t){var e,n=[],i=0,r=0;if(g=!s.detectDuplicates,f=!s.sortStable&&t.slice(0),t.sort(I),g){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return f=null,t},u=ut.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=u(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=u(e);return n},(a=ut.selectors={cacheLength:50,createPseudo:ct,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ot,st),t[3]=(t[3]||t[4]||t[5]||"").replace(ot,st),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ut.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ut.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=c(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ot,st).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=P[t+" "];return e||(e=new RegExp("(^|"+U+")"+t+"("+U+"|$)"))&&P(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ut.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a,_=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(_=(p=(l=(c=(h=(d=m)[S]||(d[S]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===M&&l[1])&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[M,p,_];break}}else if(y&&(_=p=(l=(c=(h=(d=e)[S]||(d[S]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===M&&l[1]),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((c=(h=d[S]||(d[S]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[M,_]),d!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,i=a.pseudos[t]||a.setFilters[t.toLowerCase()]||ut.error("unsupported pseudo: "+t);return i[S]?i(e):i.length>1?(n=[t,t,"",e],a.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=z(t,o[s])]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:ct(function(t){var e=[],n=[],i=h(t.replace(W,"$1"));return i[S]?ct(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:ct(function(t){return function(e){return ut(t,e).length>0}}),contains:ct(function(t){return t=t.replace(ot,st),function(e){return(e.textContent||e.innerText||u(e)).indexOf(t)>-1}}),lang:ct(function(t){return K.test(t||"")||ut.error("unsupported lang: "+t),t=t.replace(ot,st).toLowerCase(),function(e){var n;do{if(n=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=r.location&&r.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===y},focus:function(t){return t===v.activeElement&&(!v.hasFocus||v.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!a.pseudos.empty(t)},header:function(t){return tt.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:mt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:mt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[o]=ft(o);for(o in{submit:!0,reset:!0})a.pseudos[o]=gt(o);function yt(){}function _t(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=E++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[M,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(u=(l=e[S]||(e[S]={}))[e.uniqueID]||(l[e.uniqueID]={}))[i])&&a[0]===M&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=t(e,n,s))return!0}}}function Ct(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[S]&&(i=wt(i)),r&&!r[S]&&(r=wt(r,o)),ct(function(o,s,a,u){var l,c,h,d=[],p=[],f=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ut(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:xt(g,d,t,a,u),v=n?r||(o?t:f||i)?[]:s:m;if(n&&n(m,v,a,u),i)for(l=xt(v,p),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(v[p[c]]=!(m[p[c]]=h));if(o){if(r||t){if(r){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(m[c]=h);r(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=r?z(o,h):d[c])>-1&&(o[l]=!(s[l]=h))}}else v=xt(v===s?v.splice(f,v.length):v),r?r(null,s,v,u):N.apply(s,v)})}function St(t){for(var e,n,i,r=t.length,o=a.relative[t[0].type],s=o||a.relative[" "],u=o?1:0,l=bt(function(t){return t===e},s,!0),c=bt(function(t){return z(e,t)>-1},s,!0),h=[function(t,n,i){var r=!o&&(i||n!==p)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];u<r;u++)if(n=a.relative[t[u].type])h=[bt(Ct(h),n)];else{if((n=a.filter[t[u].type].apply(null,t[u].matches))[S]){for(i=++u;i<r&&!a.relative[t[i].type];i++);return wt(u>1&&Ct(h),u>1&&_t(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(W,"$1"),n,u<i&&St(t.slice(u,i)),i<r&&St(t=t.slice(i)),i<r&&_t(t))}h.push(n)}return Ct(h)}yt.prototype=a.filters=a.pseudos,a.setFilters=new yt,c=ut.tokenize=function(t,e){var n,i,r,o,s,u,l,c=D[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=a.preFilter;s;){for(o in n&&!(i=G.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(r=[])),n=!1,(i=Q.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(W," ")}),s=s.slice(n.length)),a.filter)!(i=Z[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ut.error(t):D(t,u).slice(0)},h=ut.compile=function(t,e){var n,i=[],r=[],o=A[t+" "];if(!o){for(e||(e=c(t)),n=e.length;n--;)(o=St(e[n]))[S]?i.push(o):r.push(o);(o=A(t,function(t,e){var n=e.length>0,i=t.length>0,r=function(r,o,s,u,l){var c,h,d,f=0,g="0",y=r&&[],b=[],C=p,x=r||i&&a.find.TAG("*",l),w=M+=null==C?1:Math.random()||.1,S=x.length;for(l&&(p=o===v||o||l);g!==S&&null!=(c=x[g]);g++){if(i&&c){for(h=0,o||c.ownerDocument===v||(m(c),s=!_);d=t[h++];)if(d(c,o||v,s)){u.push(c);break}l&&(M=w)}n&&((c=!d&&c)&&f--,r&&y.push(c))}if(f+=g,n&&g!==f){for(h=0;d=e[h++];)d(y,b,o,s);if(r){if(f>0)for(;g--;)y[g]||b[g]||(b[g]=L.call(u));b=xt(b)}N.apply(u,b),l&&!r&&b.length>0&&f+e.length>1&&ut.uniqueSort(u)}return l&&(M=w,p=C),y};return n?ct(r):r}(r,i))).selector=t}return o},d=ut.select=function(t,e,n,i){var r,o,u,l,d,p="function"==typeof t&&t,f=!i&&c(t=p.selector||t);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(u=o[0]).type&&s.getById&&9===e.nodeType&&_&&a.relative[o[1].type]){if(!(e=(a.find.ID(u.matches[0].replace(ot,st),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=Z.needsContext.test(t)?0:o.length;r--&&(u=o[r],!a.relative[l=u.type]);)if((d=a.find[l])&&(i=d(u.matches[0].replace(ot,st),it.test(o[0].type)&&vt(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&_t(o)))return N.apply(n,i),n;break}}return(p||h(t,f))(i,e,!_,n,!e||it.test(t)&&vt(e.parentNode)||e),n},s.sortStable=S.split("").sort(I).join("")===S,s.detectDuplicates=!!g,m(),s.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(v.createElement("div"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),s.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||dt(H,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),void 0===(i=function(){return ut}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){var i,r;i=[n(5),n(19)],void 0===(r=function(t,e){var n,i;return n=t.createDocumentFragment().appendChild(t.createElement("div")),(i=t.createElement("input")).setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),n.appendChild(i),e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){return function(e,n,i){for(var r=[],o=void 0!==i;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&t(e).is(i))break;r.push(e)}return r}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1),n(17),n(11),n(97)],void 0===(r=function(t,e,n,i){var r=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,o=/[A-Z]/g;function s(e,n,s){var a;if(void 0===s&&1===e.nodeType)if(a="data-"+n.replace(o,"-$&").toLowerCase(),"string"==typeof(s=e.getAttribute(a))){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:r.test(s)?t.parseJSON(s):s)}catch(t){}i.set(e,n,s)}else s=void 0;return s}return t.extend({hasData:function(t){return i.hasData(t)||n.hasData(t)},data:function(t,e,n){return i.access(t,e,n)},removeData:function(t,e){i.remove(t,e)},_data:function(t,e,i){return n.access(t,e,i)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(r,a){var u,l,c,h=this[0],d=h&&h.attributes;if(void 0===r){if(this.length&&(c=i.get(h),1===h.nodeType&&!n.get(h,"hasDataAttrs"))){for(u=d.length;u--;)d[u]&&0===(l=d[u].name).indexOf("data-")&&(l=t.camelCase(l.slice(5)),s(h,l,c[l]));n.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof r?this.each(function(){i.set(this,r)}):e(this,function(e){var n,a;if(h&&void 0===e)return void 0!==(n=i.get(h,r)||i.get(h,r.replace(o,"-$&").toLowerCase()))?n:(a=t.camelCase(r),void 0!==(n=i.get(h,a))?n:void 0!==(n=s(h,a,void 0))?n:void 0);a=t.camelCase(r),this.each(function(){var t=i.get(this,a);i.set(this,a,e),r.indexOf("-")>-1&&void 0!==t&&i.set(this,r,e)})},null,a,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){i.remove(this,t)})}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(53),n(54)],void 0===(r=function(t){return t.fn.delay=function(e,n){return e=t.fx&&t.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(t,n){var i=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(i)}})},t.fn.delay}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(27)],void 0===(r=function(t){function e(t,n,i,r,o){return new e.prototype.init(t,n,i,r,o)}t.Tween=e,e.prototype={constructor:e,init:function(e,n,i,r,o,s){this.elem=e,this.prop=i,this.easing=o||t.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=r,this.unit=s||(t.cssNumber[i]?"":"px")},cur:function(){var t=e.propHooks[this.prop];return t&&t.get?t.get(this):e.propHooks._default.get(this)},run:function(n){var i,r=e.propHooks[this.prop];return this.options.duration?this.pos=i=t.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=i=n,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}},e.prototype.init.prototype=e.prototype,e.propHooks={_default:{get:function(e){var n;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(n=t.css(e.elem,e.prop,""))&&"auto"!==n?n:0},set:function(e){t.fx.step[e.prop]?t.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[t.cssProps[e.prop]]&&!t.cssHooks[e.prop]?e.elem[e.prop]=e.now:t.style(e.elem,e.prop,e.now+e.unit)}}},e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},t.fx=e.prototype.init,t.fx.step={}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(158),n(103),n(159),n(160)],void 0===(r=function(t){return t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(17),n(55),n(18),n(6)],void 0===(r=function(t,e,n,i){var r,o=t.expr.attrHandle;t.fn.extend({attr:function(n,i){return e(this,t.attr,n,i,arguments.length>1)},removeAttr:function(e){return this.each(function(){t.removeAttr(this,e)})}}),t.extend({attr:function(e,n,i){var o,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?t.prop(e,n,i):(1===a&&t.isXMLDoc(e)||(n=n.toLowerCase(),s=t.attrHooks[n]||(t.expr.match.bool.test(n)?r:void 0)),void 0!==i?null===i?void t.removeAttr(e,n):s&&"set"in s&&void 0!==(o=s.set(e,i,n))?o:(e.setAttribute(n,i+""),i):s&&"get"in s&&null!==(o=s.get(e,n))?o:null==(o=t.find.attr(e,n))?void 0:o)},attrHooks:{type:{set:function(e,i){if(!n.radioValue&&"radio"===i&&t.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",i),r&&(e.value=r),i}}}},removeAttr:function(e,n){var r,o,s=0,a=n&&n.match(i);if(a&&1===e.nodeType)for(;r=a[s++];)o=t.propFix[r]||r,t.expr.match.bool.test(r)&&(e[o]=!1),e.removeAttribute(r)}}),r={set:function(e,n,i){return!1===n?t.removeAttr(e,i):e.setAttribute(i,i),i}},t.each(t.expr.match.bool.source.match(/\w+/g),function(e,n){var i=o[n]||t.find.attr;o[n]=function(t,e,n){var r,s;return n||(s=o[e],o[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,o[e]=s),r}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(18),n(11),n(8)],void 0===(r=function(t,e,n){var i=/[\t\r\n\f]/g;function r(t){return t.getAttribute&&t.getAttribute("class")||""}t.fn.extend({addClass:function(n){var o,s,a,u,l,c,h,d=0;if(t.isFunction(n))return this.each(function(e){t(this).addClass(n.call(this,e,r(this)))});if("string"==typeof n&&n)for(o=n.match(e)||[];s=this[d++];)if(u=r(s),a=1===s.nodeType&&(" "+u+" ").replace(i," ")){for(c=0;l=o[c++];)a.indexOf(" "+l+" ")<0&&(a+=l+" ");u!==(h=t.trim(a))&&s.setAttribute("class",h)}return this},removeClass:function(n){var o,s,a,u,l,c,h,d=0;if(t.isFunction(n))return this.each(function(e){t(this).removeClass(n.call(this,e,r(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(e)||[];s=this[d++];)if(u=r(s),a=1===s.nodeType&&(" "+u+" ").replace(i," ")){for(c=0;l=o[c++];)for(;a.indexOf(" "+l+" ")>-1;)a=a.replace(" "+l+" "," ");u!==(h=t.trim(a))&&s.setAttribute("class",h)}return this},toggleClass:function(i,o){var s=typeof i;return"boolean"==typeof o&&"string"===s?o?this.addClass(i):this.removeClass(i):t.isFunction(i)?this.each(function(e){t(this).toggleClass(i.call(this,e,r(this),o),o)}):this.each(function(){var o,a,u,l;if("string"===s)for(a=0,u=t(this),l=i.match(e)||[];o=l[a++];)u.hasClass(o)?u.removeClass(o):u.addClass(o);else void 0!==i&&"boolean"!==s||((o=r(this))&&n.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===i?"":n.get(this,"__className__")||""))})},hasClass:function(t){var e,n,o=0;for(e=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+r(n)+" ").replace(i," ").indexOf(e)>-1)return!0;return!1}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(55),n(8)],void 0===(r=function(t,e){var n=/\r/g,i=/[\x20\t\r\n\f]+/g;t.fn.extend({val:function(e){var i,r,o,s=this[0];return arguments.length?(o=t.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,t(this).val()):e)?r="":"number"==typeof r?r+="":t.isArray(r)&&(r=t.map(r,function(t){return null==t?"":t+""})),(i=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,r,"value")||(this.value=r))})):s?(i=t.valHooks[s.type]||t.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&void 0!==(r=i.get(s,"value"))?r:"string"==typeof(r=s.value)?r.replace(n,""):null==r?"":r:void 0}}),t.extend({valHooks:{option:{get:function(e){var n=t.find.attr(e,"value");return null!=n?n:t.trim(t.text(e)).replace(i," ")}},select:{get:function(n){for(var i,r,o=n.options,s=n.selectedIndex,a="select-one"===n.type||s<0,u=a?null:[],l=a?s+1:o.length,c=s<0?l:a?s:0;c<l;c++)if(((r=o[c]).selected||c===s)&&(e.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!t.nodeName(r.parentNode,"optgroup"))){if(i=t(r).val(),a)return i;u.push(i)}return u},set:function(e,n){for(var i,r,o=e.options,s=t.makeArray(n),a=o.length;a--;)((r=o[a]).selected=t.inArray(t.valHooks.option.get(r),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(e,n){if(t.isArray(n))return e.checked=t.inArray(t(e).val(),n)>-1}},e.checkOn||(t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(11),n(162),n(21),n(56)],void 0===(r=function(t,e,n){return n.focusin||t.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){t.event.simulate(i,e.target,t.event.fix(e))};t.event.special[i]={setup:function(){var t=this.ownerDocument||this,o=e.access(t,i);o||t.addEventListener(n,r,!0),e.access(t,i,(o||0)+1)},teardown:function(){var t=this.ownerDocument||this,o=e.access(t,i)-1;o?e.access(t,i,o):(t.removeEventListener(n,r,!0),e.remove(t,i))}}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(19)],void 0===(r=function(t){return t.focusin="onfocusin"in window,t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(22)],void 0===(r=function(t){return t._evalUrl=function(e){return t.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},t._evalUrl}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;void 0===(i=function(){return window.location}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){return t.parseJSON=function(t){return JSON.parse(t+"")},t.parseJSON}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){return t.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new window.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+e),n},t.parseXML}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(8),n(38),n(20)],void 0===(r=function(t){return t.fn.extend({wrapAll:function(e){var n;return t.isFunction(e)?this.each(function(n){t(this).wrapAll(e.call(this,n))}):(this[0]&&(n=t(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(e){return t.isFunction(e)?this.each(function(n){t(this).wrapInner(e.call(this,n))}):this.each(function(){var n=t(this),i=n.contents();i.length?i.wrapAll(e):n.append(e)})},wrap:function(e){var n=t.isFunction(e);return this.each(function(i){t(this).wrapAll(n?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(6)],void 0===(r=function(t){t.expr.filters.hidden=function(e){return!t.expr.filters.visible(e)},t.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(96),n(8),n(20),n(103)],void 0===(r=function(t,e){var n=/%20/g,i=/\[\]$/,r=/\r?\n/g,o=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;function a(e,n,r,o){var s;if(t.isArray(n))t.each(n,function(t,n){r||i.test(e)?o(e,n):a(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,o)});else if(r||"object"!==t.type(n))o(e,n);else for(s in n)a(e+"["+s+"]",n[s],r,o)}return t.param=function(e,i){var r,o=[],s=function(e,n){n=t.isFunction(n)?n():null==n?"":n,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(void 0===i&&(i=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(e)||e.jquery&&!t.isPlainObject(e))t.each(e,function(){s(this.name,this.value)});else for(r in e)a(r,e[r],i,s);return o.join("&").replace(n,"+")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=t.prop(this,"elements");return e?t.makeArray(e):this}).filter(function(){var n=this.type;return this.name&&!t(this).is(":disabled")&&s.test(this.nodeName)&&!o.test(n)&&(this.checked||!e.test(n))}).map(function(e,n){var i=t(this).val();return null==i?null:t.isArray(i)?t.map(i,function(t){return{name:n.name,value:t.replace(r,"\r\n")}}):{name:n.name,value:i.replace(r,"\r\n")}}).get()}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(19),n(22)],void 0===(r=function(t,e){t.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(t){}};var n={0:200,1223:204},i=t.ajaxSettings.xhr();e.cors=!!i&&"withCredentials"in i,e.ajax=i=!!i,t.ajaxTransport(function(t){var r,o;if(e.cors||i&&!t.crossDomain)return{send:function(e,i){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)a.setRequestHeader(s,e[s]);r=function(t){return function(){r&&(r=o=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(n[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=r(),o=a.onerror=r("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&window.setTimeout(function(){r&&o()})},r=r("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(22)],void 0===(r=function(t,e){t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return t.globalEval(e),e}}}),t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),t.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(o,s){i=t("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&s("error"===t.type?404:200,t.type)}),e.head.appendChild(i[0])},abort:function(){r&&r()}}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(105),n(106),n(22)],void 0===(r=function(t,e,n){var i=[],r=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=i.pop()||t.expando+"_"+e++;return this[n]=!0,n}}),t.ajaxPrefilter("json jsonp",function(e,o,s){var a,u,l,c=!1!==e.jsonp&&(r.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&r.test(e.data)&&"data");if(c||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=t.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(r,"$1"+a):!1!==e.jsonp&&(e.url+=(n.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return l||t.error(a+" was not called"),l[0]},e.dataTypes[0]="json",u=window[a],window[a]=function(){l=arguments},s.always(function(){void 0===u?t(window).removeProp(a):window[a]=u,e[a]&&(e.jsonpCallback=o.jsonpCallback,i.push(a)),l&&t.isFunction(u)&&u(l[0]),l=u=void 0}),"script"})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(174),n(22),n(20),n(38),n(6),n(104)],void 0===(r=function(t){var e=t.fn.load;t.fn.load=function(n,i,r){if("string"!=typeof n&&e)return e.apply(this,arguments);var o,s,a,u=this,l=n.indexOf(" ");return l>-1&&(o=t.trim(n.slice(l)),n=n.slice(0,l)),t.isFunction(i)?(r=i,i=void 0):i&&"object"==typeof i&&(s="POST"),u.length>0&&t.ajax({url:n,type:s||"GET",dataType:"html",data:i}).done(function(e){a=arguments,u.html(o?t("<div>").append(t.parseHTML(e)).find(o):e)}).always(r&&function(t,e){u.each(function(){r.apply(this,a||[t.responseText,e,t])})}),this}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(5),n(98),n(89)],void 0===(r=function(t,e,n,i){return t.parseHTML=function(r,o,s){if(!r||"string"!=typeof r)return null;"boolean"==typeof o&&(s=o,o=!1),o=o||e;var a=n.exec(r),u=!s&&[];return a?[o.createElement(a[1])]:(a=i([r],o,u),u&&u.length&&t(u).remove(),t.merge([],a.childNodes))},t.parseHTML}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(21)],void 0===(r=function(t){t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,n){t.fn[n]=function(t){return this.on(n,t)}})}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(6),n(54)],void 0===(r=function(t){t.expr.filters.animated=function(e){return t.grep(t.timers,function(t){return e===t.elem}).length}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(17),n(5),n(86),n(49),n(85),n(101),n(50),n(8),n(27),n(6)],void 0===(r=function(t,e,n,i,r,o,s,a){function u(e){return t.isWindow(e)?e:9===e.nodeType&&e.defaultView}return t.offset={setOffset:function(e,n,i){var r,o,s,a,u,l,c=t.css(e,"position"),h=t(e),d={};"static"===c&&(e.style.position="relative"),u=h.offset(),s=t.css(e,"top"),l=t.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(a=(r=h.position()).top,o=r.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),t.isFunction(n)&&(n=n.call(e,i,t.extend({},u))),null!=n.top&&(d.top=n.top-u.top+a),null!=n.left&&(d.left=n.left-u.left+o),"using"in n?n.using.call(e,d):h.css(d)}},t.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(n){t.offset.setOffset(this,e,n)});var n,i,r=this[0],o={top:0,left:0},s=r&&r.ownerDocument;return s?(n=s.documentElement,t.contains(n,r)?(o=r.getBoundingClientRect(),i=u(s),{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}):o):void 0},position:function(){if(this[0]){var e,n,i=this[0],r={top:0,left:0};return"fixed"===t.css(i,"position")?n=i.getBoundingClientRect():(e=this.offsetParent(),n=this.offset(),t.nodeName(e[0],"html")||(r=e.offset()),r.top+=t.css(e[0],"borderTopWidth",!0),r.left+=t.css(e[0],"borderLeftWidth",!0)),{top:n.top-r.top-t.css(i,"marginTop",!0),left:n.left-r.left-t.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===t.css(e,"position");)e=e.offsetParent;return e||i})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;t.fn[n]=function(t){return e(this,function(t,e,n){var o=u(t);if(void 0===n)return o?o[i]:t[e];o?o.scrollTo(r?o.pageXOffset:n,r?n:o.pageYOffset):t[e]=n},n,t,arguments.length)}}),t.each(["top","left"],function(e,n){t.cssHooks[n]=s(a.pixelPosition,function(e,i){if(i)return i=o(e,n),r.test(i)?t(e).position()[n]+"px":i})}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1),n(17),n(27)],void 0===(r=function(t,e){return t.each({Height:"height",Width:"width"},function(n,i){t.each({padding:"inner"+n,content:i,"":"outer"+n},function(r,o){t.fn[o]=function(o,s){var a=arguments.length&&(r||"boolean"!=typeof o),u=r||(!0===o||!0===s?"margin":"border");return e(this,function(e,i,r){var o;return t.isWindow(e)?e.document.documentElement["client"+n]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+n],o["scroll"+n],e.body["offset"+n],o["offset"+n],o["client"+n])):void 0===r?t.css(e,i,u):t.style(e,i,r,u)},i,a?o:void 0,a,null)}})}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),t.fn.andSelf=t.fn.addBack}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(n){void 0===(r=function(){return n}.apply(e,i=[]))||(t.exports=r)}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;!function(){var o={version:"3.5.17"},s=[].slice,a=function(t){return s.call(t)},u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{a(u.documentElement.childNodes)[0].nodeType}catch(t){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,d=h.setAttribute,p=h.setAttributeNS,f=this.CSSStyleDeclaration.prototype,g=f.setProperty;h.setAttribute=function(t,e){d.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},f.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function _(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}o.ascending=m,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},o.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},o.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)y(n=+t[o])&&(i+=n);else for(;++o<r;)y(n=+e.call(t,t[o],o))&&(i+=n);return i},o.mean=function(t,e){var n,i=0,r=t.length,o=-1,s=r;if(1===arguments.length)for(;++o<r;)y(n=v(t[o]))?i+=n:--s;else for(;++o<r;)y(n=v(e.call(t,t[o],o)))?i+=n:--s;if(s)return i/s},o.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},o.median=function(t,e){var n,i=[],r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)y(n=v(t[s]))&&i.push(n);else for(;++s<r;)y(n=v(e.call(t,t[s],s)))&&i.push(n);if(i.length)return o.quantile(i.sort(m),.5)},o.variance=function(t,e){var n,i,r=t.length,o=0,s=0,a=-1,u=0;if(1===arguments.length)for(;++a<r;)y(n=v(t[a]))&&(s+=(i=n-o)*(n-(o+=i/++u)));else for(;++a<r;)y(n=v(e.call(t,t[a],a)))&&(s+=(i=n-o)*(n-(o+=i/++u)));if(u>1)return s/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var b=_(m);function C(t){return t.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(t){return _(1===t.length?function(e,n){return m(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},o.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},o.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},o.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=o.min(t,C),i=new Array(n);++e<n;)for(var r,s=-1,a=i[e]=new Array(r);++s<r;)a[s]=t[s][e];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n};var x=Math.abs;function w(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function S(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(x(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},o.map=function(t,e){var n=new S;if(t instanceof S)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var T="__proto__",M="\0";function E(t){return(t+="")===T||t[0]===M?M+t:t}function P(t){return(t+="")[0]===M?t.slice(1):t}function D(t){return E(t)in this._}function A(t){return(t=E(t))in this._&&delete this._[t]}function I(){var t=[];for(var e in this._)t.push(P(e));return t}function k(){var t=0;for(var e in this._)++t;return t}function $(){for(var t in this._)return!1;return!0}function R(){this._=Object.create(null)}function L(t){return t}function O(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function N(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=F.length;n<i;++n){var r=F[n]+e;if(r in t)return r}}w(S,{has:D,get:function(t){return this._[E(t)]},set:function(t,e){return this._[E(t)]=e},remove:A,keys:I,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:P(e),value:this._[e]});return t},size:k,empty:$,forEach:function(t){for(var e in this._)t.call(this,P(e),this._[e])}}),o.nest=function(){var t,e,n={},i=[],r=[];function s(r,o,a){if(a>=i.length)return e?e.call(n,o):t?o.sort(t):o;for(var u,l,c,h,d=-1,p=o.length,f=i[a++],g=new S;++d<p;)(h=g.get(u=f(l=o[d])))?h.push(l):g.set(u,[l]);return r?(l=r(),c=function(t,e){l.set(t,s(r,e,a))}):(l={},c=function(t,e){l[t]=s(r,e,a)}),g.forEach(c),l}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=i.length)return e;var o=[],s=r[n++];return e.forEach(function(e,i){o.push({key:e,values:t(i,n)})}),s?o.sort(function(t,e){return s(t.key,e.key)}):o}(s(o.map,t,0),0)},n.key=function(t){return i.push(t),n},n.sortKeys=function(t){return r[i.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new R;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},w(R,{has:D,add:function(t){return this._[E(t+="")]=!0,t},remove:A,values:I,size:k,empty:$,forEach:function(t){for(var e in this._)t.call(this,P(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=O(t,e,e[n]);return t};var F=["webkit","ms","moz","Moz","o","O"];function z(){}function H(){}function U(t){var e=[],n=new S;function i(){for(var n,i=e,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return t}return i.on=function(i,r){var o,s=n.get(i);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),n.remove(i)),r&&e.push(n.set(i,{on:r})),t)},i}function V(){o.event.preventDefault()}function j(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function B(t){for(var e=new H,n=0,i=arguments.length;++n<i;)e[arguments[n]]=U(e);return e.of=function(n,i){return function(r){try{var s=r.sourceEvent=o.event;r.target=t,o.event=r,e[r.type].apply(n,i)}finally{o.event=s}}},e}o.dispatch=function(){for(var t=new H,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=U(t);return t},H.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},o.event=null,o.requote=function(t){return t.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function G(t){return W(t,K),t}var Q=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var n=t.matches||t[N(t,"matchesSelector")];return(Y=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Q=function(t,e){return Sizzle(t,e)[0]||null},X=Sizzle,Y=Sizzle.matchesSelector),o.selection=function(){return o.select(u.documentElement)};var K=o.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return Q(t,this)}}function J(t){return"function"==typeof t?t:function(){return X(t,this)}}K.select=function(t){var e,n,i,r,o=[];t=Z(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return G(o)},K.selectAll=function(t){var e,n,i=[];t=J(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],u=-1,l=s.length;++u<l;)(n=s[u])&&(i.push(e=a(t.call(n,n.__data__,u,r))),e.parentNode=n);return G(i)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function it(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function st(t,e){var n=(t=ot(t).map(at)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function at(t){var e=rt(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",it(r+" "+t))):n.setAttribute("class",it(r.replace(e," ")))}}function ut(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function pt(t){return function(){return Y(this,t)}}function ft(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],s=0,a=o.length;s<a;s++)(r=o[s])&&e(r,s,n);return t}function gt(t){return W(t,mt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},K.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},K.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=ot(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!rt(t[r]).test(e))return!1;return!0}for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},K.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(ut(n,t[n],e));return this}if(i<2){var r=this.node();return c(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(ut(t,e,n))},K.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},K.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},K.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},K.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},K.insert=function(t,e){return t=ct(t),e=Z(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},K.remove=function(){return this.each(ht)},K.data=function(t,e){var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}function s(t,n){var i,r,o,s=t.length,c=n.length,h=Math.min(s,c),d=new Array(c),p=new Array(c),f=new Array(s);if(e){var g,m=new S,v=new Array(s);for(i=-1;++i<s;)(r=t[i])&&(m.has(g=e.call(r,r.__data__,i))?f[i]=r:m.set(g,r),v[i]=g);for(i=-1;++i<c;)(r=m.get(g=e.call(n,o=n[i],i)))?!0!==r&&(d[i]=r,r.__data__=o):p[i]=dt(o),m.set(g,!0);for(i=-1;++i<s;)i in v&&!0!==m.get(v[i])&&(f[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=dt(o);for(;i<c;++i)p[i]=dt(n[i]);for(;i<s;++i)f[i]=t[i]}p.update=d,p.parentNode=d.parentNode=f.parentNode=t.parentNode,a.push(p),u.push(d),l.push(f)}var a=gt([]),u=G([]),l=G([]);if("function"==typeof t)for(;++r<o;)s(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)s(n=this[r],t);return u.enter=function(){return a},u.exit=function(){return l},u},K.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},K.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=pt(t));for(var o=0,s=this.length;o<s;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,u=n.length;a<u;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return G(r)},K.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},K.sort=function(t){t=function(t){arguments.length||(t=m);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},K.each=function(t){return ft(this,function(e,n,i){t.call(e,e.__data__,n,i)})},K.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},K.empty=function(){return!this.node()},K.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},K.size=function(){var t=0;return ft(this,function(){++t}),t};var mt=[];function vt(t,e,n){var i="__on"+t,r=t.indexOf("."),s=_t;r>0&&(t=t.slice(0,r));var u=yt.get(t);function l(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}return u&&(t=u,s=bt),r?e?function(){var r=s(e,a(arguments));l.call(this),this.addEventListener(t,this[i]=r,r.$=n),r._=e}:l:e?z:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}o.selection.enter=gt,o.selection.enter.prototype=mt,mt.append=K.append,mt.empty=K.empty,mt.node=K.node,mt.call=K.call,mt.size=K.size,mt.select=function(t){for(var e,n,i,r,o,s=[],a=-1,u=this.length;++a<u;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,a)),n.__data__=o.__data__):e.push(null)}return G(s)},mt.insert=function(t,e){var n,i,r;return arguments.length<2&&(n=this,e=function(t,e,o){var s,a=n[o].update,u=a.length;for(o!=r&&(r=o,i=0),e>=i&&(i=e+1);!(s=a[i])&&++i<u;);return s}),K.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[Q(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=l(t),G([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=a(X(t,u))).parentNode=u.documentElement:(e=a(t)).parentNode=null,G([e])},K.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(vt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var i=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=i}}}function bt(t,e){var n=_t(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}u&&yt.forEach(function(t){"on"+t in u&&yt.remove(t)});var Ct,xt=0;function wt(t){var e=".dragsuppress-"+ ++xt,n="click"+e,i=o.select(c(t)).on("touchmove"+e,V).on("dragstart"+e,V).on("selectstart"+e,V);if(null==Ct&&(Ct=!("onselectstart"in t)&&N(t.style,"userSelect")),Ct){var r=l(t).style,s=r[Ct];r[Ct]="none"}return function(t){if(i.on(e,null),Ct&&(r[Ct]=s),t){var o=function(){i.on(n,null)};i.on(n,function(){V(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return Tt(t,j())};var St=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Tt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(St<0){var r=c(t);if(r.scrollX||r.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();St=!(s.f||s.e),n.remove()}}return St?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Mt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=j().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Tt(t,i)},o.behavior.drag=function(){var t=B(r,"drag","dragstart","dragend"),e=null,n=s(z,o.mouse,c,"mousemove","mouseup"),i=s(Mt,o.touch,L,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function s(n,i,r,s,a){return function(){var u,l=o.event.target.correspondingElement||o.event.target,c=this.parentNode,h=t.of(this,arguments),d=0,p=n(),f=".drag"+(null==p?"":"-"+p),g=o.select(r(l)).on(s+f,function(){var t,e,n=i(c,p);if(!n)return;t=n[0]-v[0],e=n[1]-v[1],d|=t|e,v=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e})}).on(a+f,function(){if(!i(c,p))return;g.on(s+f,null).on(a+f,null),m(d),h({type:"dragend"})}),m=wt(l),v=i(c,p);u=e?[(u=e.apply(this,arguments)).x-v[0],u.y-v[1]]:[0,0],h({type:"dragstart"})}}return r.origin=function(t){return arguments.length?(e=t,r):e},o.rebind(r,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=j().touches),e?a(e).map(function(e){var n=Tt(t,e);return n.identifier=e.identifier,n}):[]};var Et=1e-6,Pt=Et*Et,Dt=Math.PI,At=2*Dt,It=At-Et,kt=Dt/2,$t=Dt/180,Rt=180/Dt;function Lt(t){return t>0?1:t<0?-1:0}function Ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Nt(t){return t>1?0:t<-1?Dt:Math.acos(t)}function Ft(t){return t>1?kt:t<-1?-kt:Math.asin(t)}function zt(t){return((t=Math.exp(t))+1/t)/2}function Ht(t){return(t=Math.sin(t/2))*t}var Ut=Math.SQRT2;o.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],u=e[1],l=e[2],c=a-r,h=u-o,d=c*c+h*h;if(d<Pt)i=Math.log(l/s)/Ut,n=function(t){return[r+t*c,o+t*h,s*Math.exp(Ut*t*i)]};else{var p=Math.sqrt(d),f=(l*l-s*s+4*d)/(2*s*2*p),g=(l*l-s*s-4*d)/(2*l*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Ut,n=function(t){var e,n=t*i,a=zt(m),u=s/(2*p)*(a*(e=Ut*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[r+u*c,o+u*h,s*a/zt(Ut*n+m)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var t,e,n,i,r,s,a,l,h,d={x:0,y:0,k:1},p=[960,500],f=Bt,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",_="mouseup.zoom",b="touchstart.zoom",C=B(x,"zoomstart","zoom","zoomend");function x(t){t.on(v,I).on(jt+".zoom",$).on("dblclick.zoom",R).on(b,k)}function w(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function S(t){d.k=Math.max(f[0],Math.min(f[1],t))}function T(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function M(t,n,i,r){t.__chart__={x:d.x,y:d.y,k:d.k},S(Math.pow(2,r)),T(e=n,i),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(x.event)}function E(){a&&a.domain(s.range().map(function(t){return(t-d.x)/d.k}).map(s.invert)),h&&h.domain(l.range().map(function(t){return(t-d.y)/d.k}).map(l.invert))}function P(t){m++||t({type:"zoomstart"})}function D(t){E(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function A(t){--m||(t({type:"zoomend"}),e=null)}function I(){var t=this,e=C.of(t,arguments),n=0,i=o.select(c(t)).on(y,function(){n=1,T(o.mouse(t),r),D(e)}).on(_,function(){i.on(y,null).on(_,null),s(n),A(e)}),r=w(o.mouse(t)),s=wt(t);ha.call(t),P(e)}function k(){var t,e=this,n=C.of(e,arguments),i={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,u="touchmove"+a,l="touchend"+a,c=[],h=o.select(e),p=wt(e);function f(){var n=o.touches(e);return t=d.k,n.forEach(function(t){t.identifier in i&&(i[t.identifier]=w(t))}),n}function g(){var t=o.event.target;o.select(t).on(u,m).on(l,y),c.push(t);for(var n=o.event.changedTouches,a=0,h=n.length;a<h;++a)i[n[a].identifier]=null;var p=f(),g=Date.now();if(1===p.length){if(g-r<500){var v=p[0];M(e,v,i[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),V()}r=g}else if(p.length>1){v=p[0];var _=p[1],b=v[0]-_[0],C=v[1]-_[1];s=b*b+C*C}}function m(){var a,u,l,c,h=o.touches(e);ha.call(e);for(var d=0,p=h.length;d<p;++d,c=null)if(l=h[d],c=i[l.identifier]){if(u)break;a=l,u=c}if(c){var f=(f=l[0]-a[0])*f+(f=l[1]-a[1])*f,g=s&&Math.sqrt(f/s);a=[(a[0]+l[0])/2,(a[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],S(g*t)}r=null,T(a,u),D(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,r=t.length;e<r;++e)delete i[t[e].identifier];for(var s in i)return void f()}o.selectAll(c).on(a,null),h.on(v,I).on(b,k),p(),A(n)}g(),P(n),h.on(v,null).on(b,g)}function $(){var r=C.of(this,arguments);i?clearTimeout(i):(ha.call(this),t=w(e=n||o.mouse(this)),P(r)),i=setTimeout(function(){i=null,A(r)},50),V(),S(Math.pow(2,.002*Vt())*d.k),T(e,t),D(r)}function R(){var t=o.mouse(this),e=Math.log(d.k)/Math.LN2;M(this,t,w(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return jt||(jt="onwheel"in u?(Vt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Vt=function(){return o.event.wheelDelta},"mousewheel"):(Vt=function(){return-o.event.detail},"MozMousePixelScroll")),x.event=function(t){t.each(function(){var t=C.of(this,arguments),n=d;fa?o.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},P(t)}).tween("zoom:zoom",function(){var i=p[0],r=p[1],s=e?e[0]:i/2,a=e?e[1]:r/2,u=o.interpolateZoom([(s-d.x)/d.k,(a-d.y)/d.k,i/d.k],[(s-n.x)/n.k,(a-n.y)/n.k,i/n.k]);return function(e){var n=u(e),r=i/n[2];this.__chart__=d={x:s-n[0]*r,y:a-n[1]*r,k:r},D(t)}}).each("interrupt.zoom",function(){A(t)}).each("end.zoom",function(){A(t)}):(this.__chart__=d,P(t),D(t),A(t))})},x.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},E(),x):[d.x,d.y]},x.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},S(+t),E(),x):d.k},x.scaleExtent=function(t){return arguments.length?(f=null==t?Bt:[+t[0],+t[1]],x):f},x.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],x):n},x.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],x):p},x.duration=function(t){return arguments.length?(g=+t,x):g},x.x=function(t){return arguments.length?(a=t,s=t.copy(),d={x:0,y:0,k:1},x):a},x.y=function(t){return arguments.length?(h=t,l=t.copy(),d={x:0,y:0,k:1},x):h},o.rebind(x,C,"on")};var Vt,jt,Bt=[0,1/0];function qt(){}function Wt(t,e,n){return this instanceof Wt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Wt?new Wt(t.h,t.s,t.l):fe(""+t,ge,Wt):new Wt(t,e,n)}o.color=qt,qt.prototype.toString=function(){return this.rgb()+""},o.hsl=Wt;var Gt=Wt.prototype=new qt;function Qt(t,e,n){var i,r;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new le(o(t+120),o(t),o(t-120))}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.c,t.l):oe(t instanceof Zt?t.l:(t=me((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Xt(t,e,n)}Gt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Wt(this.h,this.s,this.l/t)},Gt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Wt(this.h,this.s,t*this.l)},Gt.rgb=function(){return Qt(this.h,this.s,this.l)},o.hcl=Xt;var Yt=Xt.prototype=new qt;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Zt(n,Math.cos(t*=$t)*e,Math.sin(t)*e)}function Zt(t,e,n){return this instanceof Zt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Xt?Kt(t.h,t.c,t.l):me((t=le(t)).r,t.g,t.b):new Zt(t,e,n)}Yt.brighter=function(t){return new Xt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?t:1)))},Yt.darker=function(t){return new Xt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?t:1)))},Yt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},o.lab=Zt;var Jt=18,te=.95047,ee=1,ne=1.08883,ie=Zt.prototype=new qt;function re(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new le(ue(3.2404542*(r=se(r)*te)-1.5371385*(i=se(i)*ee)-.4985314*(o=se(o)*ne)),ue(-.969266*r+1.8760108*i+.041556*o),ue(.0556434*r-.2040259*i+1.0572252*o))}function oe(t,e,n){return t>0?new Xt(Math.atan2(n,e)*Rt,Math.sqrt(e*e+n*n),t):new Xt(NaN,NaN,t)}function se(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ae(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ue(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):fe(""+t,le,Qt):new le(t,e,n)}function ce(t){return new le(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}ie.brighter=function(t){return new Zt(Math.min(100,this.l+Jt*(arguments.length?t:1)),this.a,this.b)},ie.darker=function(t){return new Zt(Math.max(0,this.l-Jt*(arguments.length?t:1)),this.a,this.b)},ie.rgb=function(){return re(this.l,this.a,this.b)},o.rgb=le;var de=le.prototype=new qt;function pe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function fe(t,e,n){var i,r,o,s=0,a=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(ye(r[0]),ye(r[1]),ye(r[2]))}return(o=_e.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,u=15&o,u|=u<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,u=255&o)),e(s,a,u))}function ge(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,u=(s+o)/2;return a?(r=u<.5?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=u>0&&u<1?0:i),new Wt(i,r,u)}function me(t,e,n){var i=ae((.4124564*(t=ve(t))+.3575761*(e=ve(e))+.1804375*(n=ve(n)))/te),r=ae((.2126729*t+.7151522*e+.072175*n)/ee);return Zt(116*r-16,500*(i-r),200*(r-ae((.0193339*t+.119192*e+.9503041*n)/ne)))}function ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}de.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new le(r,r,r)},de.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},de.hsl=function(){return ge(this.r,this.g,this.b)},de.toString=function(){return"#"+pe(this.r)+pe(this.g)+pe(this.b)};var _e=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function be(t){return"function"==typeof t?t:function(){return t}}function Ce(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),xe(e,n,t,i)}}function xe(t,e,n,i){var r={},s=o.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(r,l)}catch(t){return void s.error.call(r,t)}s.load.call(r,t)}else s.error.call(r,l)}return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var e=o.event;o.event=t;try{s.progress.call(r,l)}finally{o.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(c=t,r):c},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(a(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),l.setRequestHeader)for(var a in u)l.setRequestHeader(a,u[a]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),s.beforesend.call(r,l),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},o.rebind(r,s,"on"),null==i?r:r.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(i))}_e.forEach(function(t,e){_e.set(t,ce(e))}),o.functor=be,o.xhr=Ce(L),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);function r(t,n,i){arguments.length<3&&(i=n,n=null);var r=xe(t,e,null==n?o:s(n),i);return r.row=function(t){return arguments.length?r.response(null==(n=t)?o:s(t)):n},r}function o(t){return r.parse(t.responseText)}function s(t){return function(e){return r.parse(e.responseText,t)}}function a(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return r.parse=function(t,e){var n;return r.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(r(t),n)}:r})},r.parseRows=function(t,e){var n,r,o={},s={},a=[],u=t.length,l=0,c=0;function h(){if(l>=u)return s;if(r)return r=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(a=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++l):10===a&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var a,c=1;if(10===(a=t.charCodeAt(l++)))r=!0;else if(13===a)r=!0,10===t.charCodeAt(l)&&(++l,++c);else if(a!==i)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=h())!==s;){for(var d=[];n!==o&&n!==s;)d.push(n),n=h();e&&null==(d=e(d,c++))||a.push(d)}return a},r.format=function(e){if(Array.isArray(e[0]))return r.formatRows(e);var n=new R,i=[];return e.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(u).join(t)].concat(e.map(function(e){return i.map(function(t){return u(e[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(a).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var we,Se,Te,Me,Ee=this[N(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Pe(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return Se?Se.n=r:we=r,Se=r,Te||(Me=clearTimeout(Me),Te=1,Ee(De)),r}function De(){var t=Ae(),e=Ie()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(De,e)),Te=0):(Te=1,Ee(De))}function Ae(){for(var t=Date.now(),e=we;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ie(){for(var t,e=we,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:we=e.n;return Se=t,n}function ke(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Pe.apply(this,arguments)},o.timer.flush=function(){Ae(),Ie()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var $e=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*x(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,ke(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),$e[8+n/3]};var Re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Le=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,ke(t,e))).toFixed(Math.max(0,Math.min(20,ke(t*(1+1e-15),e))))}});function Oe(t){return t+""}var Ne=o.time={},Fe=Date;function ze(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}ze.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){He.setUTCDate.apply(this._,arguments)},setDay:function(){He.setUTCDay.apply(this._,arguments)},setFullYear:function(){He.setUTCFullYear.apply(this._,arguments)},setHours:function(){He.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){He.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){He.setUTCMinutes.apply(this._,arguments)},setMonth:function(){He.setUTCMonth.apply(this._,arguments)},setSeconds:function(){He.setUTCSeconds.apply(this._,arguments)},setTime:function(){He.setTime.apply(this._,arguments)}};var He=Date.prototype;function Ue(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new Fe(n-1)),1),n}function o(t,n){return e(t=new Fe(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;s<i;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;s<i;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var a=t.utc=Ve(t);return a.floor=a,a.round=Ve(i),a.ceil=Ve(r),a.offset=Ve(o),a.range=function(t,e,n){try{Fe=ze;var i=new ze;return i._=t,s(i,e,n)}finally{Fe=Date}},t}function Ve(t){return function(e,n){try{Fe=ze;var i=new ze;return i._=e,t(i,n)._}finally{Fe=Date}}}Ne.year=Ue(function(t){return(t=Ne.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ne.years=Ne.year.range,Ne.years.utc=Ne.year.utc.range,Ne.day=Ue(function(t){var e=new Fe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ne.days=Ne.day.range,Ne.days.utc=Ne.day.utc.range,Ne.dayOfYear=function(t){var e=Ne.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ne[t]=Ue(function(t){return(t=Ne.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ne[t+"s"]=n.range,Ne[t+"s"].utc=n.utc.range,Ne[t+"OfYear"]=function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)}}),Ne.week=Ne.sunday,Ne.weeks=Ne.sunday.range,Ne.weeks.utc=Ne.sunday.utc.range,Ne.weekOfYear=Ne.sundayOfYear;var je={"-":"",_:" ",0:"0"},Be=/^\s*\d+/,qe=/^%/;function We(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Ge(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Qe(t){for(var e=new S,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xe(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ye(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ke(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ze(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Je(t,e,n){Be.lastIndex=0;var i,r=Be.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function nn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function rn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function on(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function sn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function an(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function un(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=x(e)/60|0,r=x(e)%60;return n+We(i,"0",2)+We(r,"0",2)}function cn(t,e,n){qe.lastIndex=0;var i=qe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,s=i&&n?function(t,e){for(var r=t.length,o=[],s=0,a=i[0],u=0;r>0&&a>0&&(u+a+1>e&&(a=Math.max(1,e-u)),o.push(t.substring(r-=a,r+a)),!((u+=a+1)>e));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:L;return function(t){var n=Re.exec(t),i=n[1]||" ",a=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],d=n[7],p=n[8],f=n[9],g=1,m="",v="",y=!1,_=!0;switch(p&&(p=+p.substring(1)),(c||"0"===i&&"="===a)&&(c=i="0",a="="),f){case"n":d=!0,f="g";break;case"%":g=100,v="%",f="f";break;case"p":g=100,v="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+f.toLowerCase());case"c":_=!1;case"d":y=!0,p=0;break;case"s":g=-1,f="r"}"$"===l&&(m=r[0],v=r[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):"e"!=f&&"f"!=f||(p=Math.max(0,Math.min(20,p)))),f=Le.get(f)||Oe;var b=c&&d;return function(t){var n=v;if(y&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var l=o.formatPrefix(t,p);t=l.scale(t),n=l.symbol+v}else t*=g;var C,x,w=(t=f(t,p)).lastIndexOf(".");if(w<0){var S=_?t.lastIndexOf("e"):-1;S<0?(C=t,x=""):(C=t.substring(0,S),x=t.substring(S))}else C=t.substring(0,w),x=e+t.substring(w+1);!c&&d&&(C=s(C,1/0));var T=m.length+C.length+x.length+(b?0:r.length),M=T<h?new Array(T=h-T+1).join(i):"";return b&&(C=s(M+C,M.length?h-x.length:1/0)),r+=m,t=C+x,("<"===a?r+t+M:">"===a?M+r+t:"^"===a?M.substring(0,T>>=1)+r+t+M.substring(T):r+(b?t:M+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,a=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var i,r,o,s=[],a=-1,u=0;++a<e;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=je[i=t.charAt(++a)])&&(i=t.charAt(++a)),(o=C[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Fe!==ze,r=new(i?ze:Fe);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return t},n}function h(t,e,n,i){for(var r,o,s,a=0,u=e.length,l=n.length;a<u;){if(i>=l)return-1;if(37===(r=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=x[s in je?e.charAt(a++):s])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Fe=ze);return n._=t,e(n)}finally{Fe=Date}}return n.parse=function(t){try{Fe=ze;var n=e.parse(t);return n&&n._}finally{Fe=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=hn;var d=o.map(),p=Ge(s),f=Qe(s),g=Ge(a),m=Qe(a),v=Ge(u),y=Qe(u),_=Ge(l),b=Qe(l);r.forEach(function(t,e){d.set(t.toLowerCase(),e)});var C={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(e),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+Ne.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return r[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(Ne.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(Ne.mondayOfYear(t),e,2)},x:c(n),X:c(i),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},x={a:function(t,e,n){g.lastIndex=0;var i=g.exec(e.slice(n));return i?(t.w=m.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){p.lastIndex=0;var i=p.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){v.lastIndex=0;var i=v.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return h(t,C.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:un,m:en,M:sn,p:function(t,e,n){var i=d.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:an,U:Ye,w:Xe,W:Ke,x:function(t,e,n){return h(t,C.x.toString(),e,n)},X:function(t,e,n){return h(t,C.X.toString(),e,n)},y:Je,Y:Ze,Z:tn,"%":cn};return c}(t)}};var dn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pn(){}o.format=dn.numberFormat,o.geo={},pn.prototype={s:0,t:0,add:function(t){gn(t,this.t,fn),gn(fn.s,this.s,this),this.s?this.t+=fn.t:this.s=fn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fn=new pn;function gn(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function mn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}o.geo.stream=function(t,e){t&&vn.hasOwnProperty(t.type)?vn[t.type](t,e):mn(t,e)};var vn={Feature:function(t,e){mn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)mn(n[i].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){_n(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)_n(n[i],e,0)},Polygon:function(t,e){bn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)bn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)mn(n[i],e)}};function _n(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function bn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)_n(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return Cn=0,o.geo.stream(t,Rn),Cn};var Cn,xn,wn,Sn,Tn,Mn,En,Pn,Dn,An,In,kn,$n=new pn,Rn={sphere:function(){Cn+=4*Dt},point:z,lineStart:z,lineEnd:z,polygonStart:function(){$n.reset(),Rn.lineStart=Ln},polygonEnd:function(){var t=2*$n;Cn+=t<0?4*Dt+t:t,Rn.lineStart=Rn.lineEnd=Rn.point=z}};function Ln(){var t,e,n,i,r;function o(t,e){e=e*$t/2+Dt/4;var o=(t*=$t)-n,s=o>=0?1:-1,a=s*o,u=Math.cos(e),l=Math.sin(e),c=r*l,h=i*u+c*Math.cos(a),d=c*s*Math.sin(a);$n.add(Math.atan2(d,h)),n=t,i=u,r=l}Rn.point=function(s,a){Rn.point=o,n=(t=s)*$t,i=Math.cos(a=(e=a)*$t/2+Dt/4),r=Math.sin(a)},Rn.lineEnd=function(){o(t,e)}}function On(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Nn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Un(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vn(t){return[Math.atan2(t[1],t[0]),Ft(t[2])]}function jn(t,e){return x(t[0]-e[0])<Et&&x(t[1]-e[1])<Et}o.geo.bounds=function(){var t,e,n,i,r,s,a,u,l,c,h,d={point:p,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=_,l=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),d.point=p,d.lineStart=g,d.lineEnd=m,$n<0?(t=-(n=180),e=-(i=90)):l>Et?i=90:l<-Et&&(e=-90),h[0]=t,h[1]=n}};function p(r,o){c.push(h=[t=r,n=r]),o<e&&(e=o),o>i&&(i=o)}function f(o,s){var a=On([o*$t,s*$t]);if(u){var l=Fn(u,a),c=Fn([l[1],-l[0],0],l);Un(c),c=Vn(c);var h=o-r,d=h>0?1:-1,f=c[0]*Rt*d,g=x(h)>180;if(g^(d*r<f&&f<d*o))(m=c[1]*Rt)>i&&(i=m);else if(g^(d*r<(f=(f+360)%360-180)&&f<d*o)){var m;(m=-c[1]*Rt)<e&&(e=m)}else s<e&&(e=s),s>i&&(i=s);g?o<r?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>r?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o)}else p(o,s);u=a,r=o}function g(){d.point=f}function m(){h[0]=t,h[1]=n,d.point=p,u=null}function v(t,e){if(u){var n=t-r;l+=x(n)>180?n+(n>0?360:-360):n}else s=t,a=e;Rn.point(t,e),f(t,e)}function y(){Rn.lineStart()}function _(){v(s,a),Rn.lineEnd(),x(l)>Et&&(t=-(n=180)),h[0]=t,h[1]=n,u=null}function b(t,e){return(e-=t)<0?e+360:e}function C(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(r){if(i=n=-(t=e=1/0),c=[],o.geo.stream(r,d),l=c.length){c.sort(C);for(var s=1,a=[g=c[0]];s<l;++s)w((p=c[s])[0],g)||w(p[1],g)?(b(g[0],p[1])>b(g[0],g[1])&&(g[1]=p[1]),b(p[0],g[1])>b(g[0],g[1])&&(g[0]=p[0])):a.push(g=p);for(var u,l,p,f=-1/0,g=(s=0,a[l=a.length-1]);s<=l;g=p,++s)p=a[s],(u=b(g[1],p[0]))>f&&(f=u,t=p[0],n=g[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,i]]}}(),o.geo.centroid=function(t){xn=wn=Sn=Tn=Mn=En=Pn=Dn=An=In=kn=0,o.geo.stream(t,Bn);var e=An,n=In,i=kn,r=e*e+n*n+i*i;return r<Pt&&(e=En,n=Pn,i=Dn,wn<Et&&(e=Sn,n=Tn,i=Mn),(r=e*e+n*n+i*i)<Pt)?[NaN,NaN]:[Math.atan2(n,e)*Rt,Ft(i/Math.sqrt(r))*Rt]};var Bn={sphere:z,point:qn,lineStart:Gn,lineEnd:Qn,polygonStart:function(){Bn.lineStart=Xn},polygonEnd:function(){Bn.lineStart=Gn}};function qn(t,e){t*=$t;var n=Math.cos(e*=$t);Wn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Wn(t,e,n){Sn+=(t-Sn)/++xn,Tn+=(e-Tn)/xn,Mn+=(n-Mn)/xn}function Gn(){var t,e,n;function i(i,r){i*=$t;var o=Math.cos(r*=$t),s=o*Math.cos(i),a=o*Math.sin(i),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=e*u-n*a)*l+(l=n*s-t*u)*l+(l=t*a-e*s)*l),t*s+e*a+n*u);wn+=l,En+=l*(t+(t=s)),Pn+=l*(e+(e=a)),Dn+=l*(n+(n=u)),Wn(t,e,n)}Bn.point=function(r,o){r*=$t;var s=Math.cos(o*=$t);t=s*Math.cos(r),e=s*Math.sin(r),n=Math.sin(o),Bn.point=i,Wn(t,e,n)}}function Qn(){Bn.point=qn}function Xn(){var t,e,n,i,r;function o(t,e){t*=$t;var o=Math.cos(e*=$t),s=o*Math.cos(t),a=o*Math.sin(t),u=Math.sin(e),l=i*u-r*a,c=r*s-n*u,h=n*a-i*s,d=Math.sqrt(l*l+c*c+h*h),p=n*s+i*a+r*u,f=d&&-Nt(p)/d,g=Math.atan2(d,p);An+=f*l,In+=f*c,kn+=f*h,wn+=g,En+=g*(n+(n=s)),Pn+=g*(i+(i=a)),Dn+=g*(r+(r=u)),Wn(n,i,r)}Bn.point=function(s,a){t=s,e=a,Bn.point=o,s*=$t;var u=Math.cos(a*=$t);n=u*Math.cos(s),i=u*Math.sin(s),r=Math.sin(a),Wn(n,i,r)},Bn.lineEnd=function(){o(t,e),Bn.lineEnd=Qn,Bn.point=qn}}function Yn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Kn(){return!0}function Zn(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(jn(n,i)){r.lineStart();for(var a=0;a<e;++a)r.point((n=t[a])[0],n[1]);r.lineEnd()}else{var u=new ti(n,t,null,!0),l=new ti(n,null,u,!1);u.o=l,o.push(u),s.push(l),l=new ti(i,null,u=new ti(i,t,null,!1),!0),u.o=l,o.push(u),s.push(l)}}}),s.sort(e),Jn(o),Jn(s),o.length){for(var a=0,u=n,l=s.length;a<l;++a)s[a].e=u=!u;for(var c,h,d=o[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;c=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(a=0,l=c.length;a<l;++a)r.point((h=c[a])[0],h[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f)for(a=(c=p.p.z).length-1;a>=0;--a)r.point((h=c[a])[0],h[1]);else i(p.x,p.p.x,-1,r);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);r.lineEnd()}}}function Jn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ti(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ei(t,e,n,i){return function(r,s){var a,u=e(s),l=r.invert(i[0],i[1]),c={point:h,lineStart:p,lineEnd:f,polygonStart:function(){c.point=b,c.lineStart=C,c.lineEnd=x,a=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=p,c.lineEnd=f,a=o.merge(a);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;$n.reset();for(var a=0,u=e.length;a<u;++a){var l=e[a],c=l.length;if(c)for(var h=l[0],d=h[0],p=h[1]/2+Dt/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=l[m])[0],y=t[1]/2+Dt/4,_=Math.sin(y),b=Math.cos(y),C=v-d,x=C>=0?1:-1,w=x*C,S=w>Dt,T=f*_;if($n.add(Math.atan2(T*x*Math.sin(w),g*b+T*Math.cos(w))),o+=S?C+x*At:C,S^d>=n^v>=n){var M=Fn(On(h),On(t));Un(M);var E=Fn(r,M);Un(E);var P=(S^C>=0?-1:1)*Ft(E[2]);(i>P||i===P&&(M[0]||M[1]))&&(s+=S^C>=0?1:-1)}if(!m++)break;d=v,f=_,g=b,h=t}}return(o<-Et||o<Et&&$n<-Et)^1&s}(l,g);a.length?(_||(s.polygonStart(),_=!0),Zn(a,ri,t,n,s)):t&&(_||(s.polygonStart(),_=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),_&&(s.polygonEnd(),_=!1),a=g=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&s.point(e,n)}function d(t,e){var n=r(t,e);u.point(n[0],n[1])}function p(){c.point=d,u.lineStart()}function f(){c.point=h,u.lineEnd()}var g,m,v=ii(),y=e(v),_=!1;function b(t,e){m.push([t,e]);var n=r(t,e);y.point(n[0],n[1])}function C(){y.lineStart(),m=[]}function x(){b(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),i=n.length;if(m.pop(),g.push(m),m=null,i)if(1&e){var r,o=-1;if((i=(t=n[0]).length-1)>0){for(_||(s.polygonStart(),_=!0),s.lineStart();++o<i;)s.point((r=t[o])[0],r[1]);s.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(ni))}return c}}function ni(t){return t.length>1}function ii(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:z,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ri(t,e){return((t=t.x)[0]<0?t[1]-kt-Et:kt-t[1])-((e=e.x)[0]<0?e[1]-kt-Et:kt-e[1])}var oi=ei(Kn,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Dt:-Dt,u=x(o-n);x(u-Dt)<Et?(t.point(n,i=(i+s)/2>0?kt:-kt),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=Dt&&(x(n-r)<Et&&(n-=r*Et),x(o-a)<Et&&(o-=a*Et),i=function(t,e,n,i){var r,o,s=Math.sin(t-n);return x(s)>Et?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*kt,i.point(-Dt,r),i.point(0,r),i.point(Dt,r),i.point(Dt,0),i.point(Dt,-r),i.point(0,-r),i.point(-Dt,-r),i.point(-Dt,0),i.point(-Dt,r);else if(x(t[0]-e[0])>Et){var o=t[0]<e[0]?Dt:-Dt;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Dt,-Dt/2]);function si(t,e,n,i){return function(r){var o,s=r.a,a=r.b,u=s.x,l=s.y,c=0,h=1,d=a.x-u,p=a.y-l;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=n-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return c>0&&(r.a={x:u+c*d,y:l+c*p}),h<1&&(r.b={x:u+h*d,y:l+h*p}),r}}}}}}var ai=1e9;function ui(t,e,n,i){return function(u){var l,c,h,d,p,f,g,m,v,y,_,b=u,C=ii(),x=si(t,e,n,i),w={point:M,lineStart:function(){w.point=E,c&&c.push(h=[]);y=!0,v=!1,g=m=NaN},lineEnd:function(){l&&(E(d,p),f&&v&&C.rejoin(),l.push(C.buffer()));w.point=M,v&&u.lineEnd()},polygonStart:function(){u=C,l=[],c=[],_=!0},polygonEnd:function(){u=b,l=o.merge(l);var e=function(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,s=1,a=c[r],u=a.length,l=a[0];s<u;++s)o=a[s],l[1]<=i?o[1]>i&&Ot(l,o,t)>0&&++e:o[1]<=i&&Ot(l,o,t)<0&&--e,l=o;return 0!==e}([t,i]),n=_&&e,r=l.length;(n||r)&&(u.polygonStart(),n&&(u.lineStart(),S(null,null,1,u),u.lineEnd()),r&&Zn(l,s,e,S,u),u.polygonEnd()),l=c=h=null}};function S(o,s,u,l){var c=0,h=0;if(null==o||(c=r(o,u))!==(h=r(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+u+4)%4)!==h);else l.point(s[0],s[1])}function T(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function M(t,e){T(t,e)&&u.point(t,e)}function E(t,e){var n=T(t=Math.max(-ai,Math.min(ai,t)),e=Math.max(-ai,Math.min(ai,e)));if(c&&h.push([t,e]),y)d=t,p=e,f=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&v)u.point(t,e);else{var i={a:{x:g,y:m},b:{x:t,y:e}};x(i)?(v||(u.lineStart(),u.point(i.a.x,i.a.y)),u.point(i.b.x,i.b.y),n||u.lineEnd(),_=!1):n&&(u.lineStart(),u.point(t,e),_=!1)}g=t,m=e,v=n}return w};function r(i,r){return x(i[0]-t)<Et?r>0?0:3:x(i[0]-n)<Et?r>0?2:1:x(i[1]-e)<Et?r>0?1:0:r>0?3:2}function s(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function li(t){var e=0,n=Dt/3,i=Ii(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Dt/180,n=t[1]*Dt/180):[e/Dt*180,n/Dt*180]},r}function ci(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function s(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Ft((r-(t*t+n*n)*i*i)/(2*i))]},s}o.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),(r=o(t)).valid=!0,r},extent:function(a){return arguments.length?(o=ui(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return li(ci)}).raw=ci,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,i,r=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(r){var o=r[0],s=r[1];return t=null,e(o,s),t||(n(o,s),t)||i(o,s),t}return l.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?s:o>=.166&&o<.234&&i>=-.214&&i<-.115?a:r).invert(t)},l.stream=function(t){var e=r.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},l.precision=function(t){return arguments.length?(r.precision(t),s.precision(t),a.precision(t),l):r.precision()},l.scale=function(t){return arguments.length?(r.scale(t),s.scale(.35*t),a.scale(t),l.translate(r.translate())):r.scale()},l.translate=function(t){if(!arguments.length)return r.translate();var o=r.scale(),c=+t[0],h=+t[1];return e=r.translate(t).clipExtent([[c-.455*o,h-.238*o],[c+.455*o,h+.238*o]]).stream(u).point,n=s.translate([c-.307*o,h+.201*o]).clipExtent([[c-.425*o+Et,h+.12*o+Et],[c-.214*o-Et,h+.234*o-Et]]).stream(u).point,i=a.translate([c-.205*o,h+.212*o]).clipExtent([[c-.214*o+Et,h+.166*o+Et],[c-.115*o-Et,h+.234*o-Et]]).stream(u).point,l},l.scale(1070)};var hi,di,pi,fi,gi,mi,vi={point:z,lineStart:z,lineEnd:z,polygonStart:function(){di=0,vi.lineStart=yi},polygonEnd:function(){vi.lineStart=vi.lineEnd=vi.point=z,hi+=x(di/2)}};function yi(){var t,e,n,i;function r(t,e){di+=i*t-n*e,n=t,i=e}vi.point=function(o,s){vi.point=r,t=n=o,e=i=s},vi.lineEnd=function(){r(t,e)}}var _i={point:function(t,e){t<pi&&(pi=t);t>gi&&(gi=t);e<fi&&(fi=e);e>mi&&(mi=e)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z};function bi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Ci,xi={point:wi,lineStart:Si,lineEnd:Ti,polygonStart:function(){xi.lineStart=Mi},polygonEnd:function(){xi.point=wi,xi.lineStart=Si,xi.lineEnd=Ti}};function wi(t,e){Sn+=t,Tn+=e,++Mn}function Si(){var t,e;function n(n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);En+=s*(t+n)/2,Pn+=s*(e+i)/2,Dn+=s,wi(t=n,e=i)}xi.point=function(i,r){xi.point=n,wi(t=i,e=r)}}function Ti(){xi.point=wi}function Mi(){var t,e,n,i;function r(t,e){var r=t-n,o=e-i,s=Math.sqrt(r*r+o*o);En+=s*(n+t)/2,Pn+=s*(i+e)/2,Dn+=s,An+=(s=i*t-n*e)*(n+t),In+=s*(i+e),kn+=3*s,wi(n=t,i=e)}xi.point=function(o,s){xi.point=r,wi(t=n=o,e=i=s)},xi.lineEnd=function(){r(t,e)}}function Ei(t){var e=.5,n=Math.cos(30*$t),i=16;function r(e){return(i?function(e){var n,r,s,a,u,l,c,h,d,p,f,g,m={point:v,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=C},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){h=NaN,m.point=_,e.lineStart()}function _(n,r){var s=On([n,r]),a=t(n,r);o(h,d,c,p,f,g,h=a[0],d=a[1],c=n,p=s[0],f=s[1],g=s[2],i,e),e.point(h,d)}function b(){m.point=v,e.lineEnd()}function C(){y(),m.point=x,m.lineEnd=w}function x(t,e){_(n=t,e),r=h,s=d,a=p,u=f,l=g,m.point=_}function w(){o(h,d,c,p,f,g,r,s,n,a,u,l,i,e),m.lineEnd=b,b()}return m}:function(e){return Di(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})})(e)}function o(i,r,s,a,u,l,c,h,d,p,f,g,m,v){var y=c-i,_=h-r,b=y*y+_*_;if(b>4*e&&m--){var C=a+p,w=u+f,S=l+g,T=Math.sqrt(C*C+w*w+S*S),M=Math.asin(S/=T),E=x(x(S)-1)<Et||x(s-d)<Et?(s+d)/2:Math.atan2(w,C),P=t(E,M),D=P[0],A=P[1],I=D-i,k=A-r,$=_*I-y*k;($*$/b>e||x((y*I+_*k)/b-.5)>.3||a*p+u*f+l*g<n)&&(o(i,r,s,a,u,l,D,A,E,C/=T,w/=T,S,m,v),v.point(D,A),o(D,A,E,C,w,S,c,h,d,p,f,g,m,v))}}return r.precision=function(t){return arguments.length?(i=(e=t*t)>0&&16,r):Math.sqrt(e)},r}function Pi(t){this.stream=t}function Di(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ai(t){return Ii(function(){return t})()}function Ii(t){var e,n,i,r,s,a,u=Ei(function(t,n){return[(t=e(t,n))[0]*l+r,s-t[1]*l]}),l=150,c=480,h=250,d=0,p=0,f=0,g=0,m=0,v=oi,y=L,_=null,b=null;function C(t){return[(t=i(t[0]*$t,t[1]*$t))[0]*l+r,s-t[1]*l]}function w(t){return(t=i.invert((t[0]-r)/l,(s-t[1])/l))&&[t[0]*Rt,t[1]*Rt]}function S(){i=Yn(n=Li(f,g,m),e);var t=e(d,p);return r=c-t[0]*l,s=h+t[1]*l,T()}function T(){return a&&(a.valid=!1,a=null),C}return C.stream=function(t){return a&&(a.valid=!1),(a=ki(v(n,u(y(t))))).valid=!0,a},C.clipAngle=function(t){return arguments.length?(v=null==t?(_=t,oi):function(t){var e=Math.cos(t),n=e>0,i=x(e)>Et;return ei(r,function(t){var e,a,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var p,f=[h,d],g=r(h,d),m=n?g?0:s(h,d):g?s(h+(h<0?Dt:-Dt),d):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(p=o(e,f),(jn(e,p)||jn(f,p))&&(f[0]+=Et,f[1]+=Et,g=r(f[0],f[1]))),g!==u)c=0,g?(t.lineStart(),p=o(f,e),t.point(p[0],p[1])):(p=o(e,f),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&n^g){var v;m&a||!(v=o(f,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&jn(e,f)||t.point(f[0],f[1]),e=f,u=g,a=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},zi(t,6*$t),n?[0,-t]:[-Dt,t-Dt]);function r(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,i){var r=[1,0,0],o=Fn(On(t),On(n)),s=Nn(o,o),a=o[0],u=s-a*a;if(!u)return!i&&t;var l=e*s/u,c=-e*a/u,h=Fn(r,o),d=Hn(r,l);zn(d,Hn(o,c));var p=h,f=Nn(d,p),g=Nn(p,p),m=f*f-g*(Nn(d,d)-1);if(!(m<0)){var v=Math.sqrt(m),y=Hn(p,(-f-v)/g);if(zn(y,d),y=Vn(y),!i)return y;var _,b=t[0],C=n[0],w=t[1],S=n[1];C<b&&(_=b,b=C,C=_);var T=C-b,M=x(T-Dt)<Et;if(!M&&S<w&&(_=w,w=S,S=_),M||T<Et?M?w+S>0^y[1]<(x(y[0]-b)<Et?w:S):w<=y[1]&&y[1]<=S:T>Dt^(b<=y[0]&&y[0]<=C)){var E=Hn(p,(-f+v)/g);return zn(E,d),[y,Vn(E)]}}}function s(e,i){var r=n?t:Dt-t,o=0;return e<-r?o|=1:e>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((_=+t)*$t),T()):_},C.clipExtent=function(t){return arguments.length?(b=t,y=t?ui(t[0][0],t[0][1],t[1][0],t[1][1]):L,T()):b},C.scale=function(t){return arguments.length?(l=+t,S()):l},C.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],S()):[c,h]},C.center=function(t){return arguments.length?(d=t[0]%360*$t,p=t[1]%360*$t,S()):[d*Rt,p*Rt]},C.rotate=function(t){return arguments.length?(f=t[0]%360*$t,g=t[1]%360*$t,m=t.length>2?t[2]%360*$t:0,S()):[f*Rt,g*Rt,m*Rt]},o.rebind(C,u,"precision"),function(){return e=t.apply(this,arguments),C.invert=e.invert&&w,S()}}function ki(t){return Di(t,function(e,n){t.point(e*$t,n*$t)})}function $i(t,e){return[t,e]}function Ri(t,e){return[t>Dt?t-At:t<-Dt?t+At:t,e]}function Li(t,e,n){return t?e||n?Yn(Ni(t),Fi(e,n)):Ni(t):e||n?Fi(e,n):Ri}function Oi(t){return function(e,n){return[(e+=t)>Dt?e-At:e<-Dt?e+At:e,n]}}function Ni(t){var e=Oi(t);return e.invert=Oi(-t),e}function Fi(t,e){var n=Math.cos(t),i=Math.sin(t),r=Math.cos(e),o=Math.sin(e);function s(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),c=l*n+a*i;return[Math.atan2(u*r-c*o,a*n-l*i),Ft(c*r+u*o)]}return s.invert=function(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),c=l*r-u*o;return[Math.atan2(u*r+l*o,a*n+c*i),Ft(c*n-a*i)]},s}function zi(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var u=s*e;null!=r?(r=Hi(n,r),o=Hi(n,o),(s>0?r<o:r>o)&&(r+=s*At)):(r=t+s*At,o=t-.5*u);for(var l,c=r;s>0?c>o:c<o;c-=u)a.point((l=Vn([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function Hi(t,e){var n=On(e);n[0]-=t,Un(n);var i=Nt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Et)%(2*Math.PI)}function Ui(t,e,n){var i=o.range(t,e-Et,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Vi(t,e,n){var i=o.range(t,e-Et,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function ji(t){return t.source}function Bi(t){return t.target}o.geo.path=function(){var t,e,n,i,r,s=4.5;function a(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(t,r)),i.result()}function u(){return r=null,a}return a.area=function(t){return hi=0,o.geo.stream(t,n(vi)),hi},a.centroid=function(t){return Sn=Tn=Mn=En=Pn=Dn=An=In=kn=0,o.geo.stream(t,n(xi)),kn?[An/kn,In/kn]:Dn?[En/Dn,Pn/Dn]:Mn?[Sn/Mn,Tn/Mn]:[NaN,NaN]},a.bounds=function(t){return gi=mi=-(pi=fi=1/0),o.geo.stream(t,n(_i)),[[pi,fi],[gi,mi]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(i=e,r=Ei(function(t,e){return i([t*Rt,e*Rt])}),function(t){return ki(r(t))}):L,u()):t;var i,r},a.context=function(t){return arguments.length?(i=null==(e=t)?new function(){var t=bi(4.5),e=[],n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(e){return t=bi(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function i(n,i){e.push("M",n,",",i,t)}function r(t,i){e.push("M",t,",",i),n.point=o}function o(t,n){e.push("L",t,",",n)}function s(){n.point=i}function a(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(t){return e=t,n},result:z};function i(n,i){t.moveTo(n+e,i),t.arc(n,i,e,0,At)}function r(e,i){t.moveTo(e,i),n.point=o}function o(e,n){t.lineTo(e,n)}function s(){n.point=i}function a(){t.closePath()}return n}(t),"function"!=typeof s&&i.pointRadius(s),u()):e},a.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Pi(e);for(var i in t)n[i]=t[i];return n}}},Pi.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Ai,o.geo.projectionMutator=Ii,(o.geo.equirectangular=function(){return Ai($i)}).raw=$i.invert=$i,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*$t,e[1]*$t))[0]*=Rt,e[1]*=Rt,e}return t=Li(t[0]%360*$t,t[1]*$t,t.length>2?t[2]*$t:0),e.invert=function(e){return(e=t.invert(e[0]*$t,e[1]*$t))[0]*=Rt,e[1]*=Rt,e},e},Ri.invert=$i,o.geo.circle=function(){var t,e,n=[0,0],i=6;function r(){var t="function"==typeof n?n.apply(this,arguments):n,i=Li(-t[0]*$t,-t[1]*$t,0).invert,r=[];return e(null,null,1,{point:function(t,e){r.push(t=i(t,e)),t[0]*=Rt,t[1]*=Rt}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(n=t,r):n},r.angle=function(n){return arguments.length?(e=zi((t=+n)*$t,i*$t),r):t},r.precision=function(n){return arguments.length?(e=zi(t*$t,(i=+n)*$t),r):i},r.angle(90)},o.geo.distance=function(t,e){var n,i=(e[0]-t[0])*$t,r=t[1]*$t,o=e[1]*$t,s=Math.sin(i),a=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=l*c-u*h*a)*n),u*c+l*h*a)},o.geo.graticule=function(){var t,e,n,i,r,s,a,u,l,c,h,d,p=10,f=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return o.range(Math.ceil(i/g)*g,n,g).map(h).concat(o.range(Math.ceil(u/m)*m,a,m).map(d)).concat(o.range(Math.ceil(e/p)*p,t,p).filter(function(t){return x(t%g)>Et}).map(l)).concat(o.range(Math.ceil(s/f)*f,r,f).filter(function(t){return x(t%m)>Et}).map(c))}return y.lines=function(){return _().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(d(a).slice(1),h(n).reverse().slice(1),d(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),u>a&&(t=u,u=a,a=t),y.precision(v)):[[i,u],[n,a]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),s>r&&(n=s,s=r,r=n),y.precision(v)):[[e,s],[t,r]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(p=+t[0],f=+t[1],y):[p,f]},y.precision=function(o){return arguments.length?(v=+o,l=Ui(s,r,90),c=Vi(e,t,v),h=Ui(u,a,90),d=Vi(i,n,v),y):v},y.majorExtent([[-180,-90+Et],[180,90-Et]]).minorExtent([[-180,-80-Et],[180,80+Et]])},o.geo.greatArc=function(){var t,e,n=ji,i=Bi;function r(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||i.apply(this,arguments))},r.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,r):n},r.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(t,e){return n=t[0]*$t,i=t[1]*$t,r=e[0]*$t,o=e[1]*$t,s=Math.cos(i),a=Math.sin(i),u=Math.cos(o),l=Math.sin(o),c=s*Math.cos(n),h=s*Math.sin(n),d=u*Math.cos(r),p=u*Math.sin(r),f=2*Math.asin(Math.sqrt(Ht(o-i)+s*u*Ht(r-n))),g=1/Math.sin(f),(m=f?function(t){var e=Math.sin(t*=f)*g,n=Math.sin(f-t)*g,i=n*c+e*d,r=n*h+e*p,o=n*a+e*l;return[Math.atan2(r,i)*Rt,Math.atan2(o,Math.sqrt(i*i+r*r))*Rt]}:function(){return[n*Rt,i*Rt]}).distance=f,m;var n,i,r,o,s,a,u,l,c,h,d,p,f,g,m},o.geo.length=function(t){return Ci=0,o.geo.stream(t,qi),Ci};var qi={sphere:z,point:z,lineStart:function(){var t,e,n;function i(i,r){var o=Math.sin(r*=$t),s=Math.cos(r),a=x((i*=$t)-t),u=Math.cos(a);Ci+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-e*s*u)*a),e*o+n*s*u),t=i,e=o,n=s}qi.point=function(r,o){t=r*$t,e=Math.sin(o*=$t),n=Math.cos(o),qi.point=i},qi.lineEnd=function(){qi.point=qi.lineEnd=z}},lineEnd:z,polygonStart:z,polygonEnd:z};function Wi(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}var Gi=Wi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Ai(Gi)}).raw=Gi;var Qi=Wi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},L);function Xi(t,e){var n=Math.cos(t),i=function(t){return Math.tan(Dt/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return Zi;function s(t,e){o>0?e<-kt+Et&&(e=-kt+Et):e>kt-Et&&(e=kt-Et);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return s.invert=function(t,e){var n=o-e,i=Lt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-kt]},s}function Yi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(x(i)<Et)return $i;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-Lt(i)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Ai(Qi)}).raw=Qi,(o.geo.conicConformal=function(){return li(Xi)}).raw=Xi,(o.geo.conicEquidistant=function(){return li(Yi)}).raw=Yi;var Ki=Wi(function(t){return 1/t},Math.atan);function Zi(t,e){return[t,Math.log(Math.tan(Dt/4+e/2))]}function Ji(t){var e,n=Ai(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Dt*i(),u=r();o([[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Ai(Ki)}).raw=Ki,Zi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-kt]},(o.geo.mercator=function(){return Ji(Zi)}).raw=Zi;var tr=Wi(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Ai(tr)}).raw=tr;var er=Wi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function nr(t,e){return[Math.log(Math.tan(Dt/4+e/2)),-t]}function ir(t){return t[0]}function rr(t){return t[1]}function or(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&Ot(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function sr(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Ai(er)}).raw=er,nr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-kt]},(o.geo.transverseMercator=function(){var t=Ji(nr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=nr,o.geom={},o.geom.hull=function(t){var e=ir,n=rr;if(arguments.length)return i(t);function i(t){if(t.length<3)return[];var i,r=be(e),o=be(n),s=t.length,a=[],u=[];for(i=0;i<s;i++)a.push([+r.call(this,t[i],i),+o.call(this,t[i],i),i]);for(a.sort(sr),i=0;i<s;i++)u.push([a[i][0],-a[i][1]]);var l=or(a),c=or(u),h=c[0]===l[0],d=c[c.length-1]===l[l.length-1],p=[];for(i=l.length-1;i>=0;--i)p.push(t[a[l[i]][2]]);for(i=+h;i<c.length-d;++i)p.push(t[a[c[i]][2]]);return p}return i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},o.geom.polygon=function(t){return W(t,ar),t};var ar=o.geom.polygon.prototype=[];function ur(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function lr(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,d=(a*(u-l)-h*(r-o))/(h*s-a*c);return[r+d*s,u+d*c]}function cr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ar.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},ar.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},ar.clip=function(t){for(var e,n,i,r,o,s,a=cr(t),u=-1,l=this.length-cr(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-a)-1],n=-1;++n<i;)ur(s=e[n],c,r)?(ur(o,c,r)||t.push(lr(o,s,c,r)),t.push(s)):ur(o,c,r)&&t.push(lr(o,s,c,r)),o=s;a&&t.push(t[0]),c=r}return t};var hr,dr,pr,fr,gr,mr=[],vr=[];function yr(t){var e=mr.pop()||new function(){Rr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function _r(t){Er(t),pr.remove(t),mr.push(t),Rr(t)}function br(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];_r(t);for(var u=o;u.circle&&x(n-u.circle.x)<Et&&x(i-u.circle.cy)<Et;)o=u.P,a.unshift(u),_r(u),u=o;a.unshift(u),Er(u);for(var l=s;l.circle&&x(n-l.circle.x)<Et&&x(i-l.circle.cy)<Et;)s=l.N,a.push(l),_r(l),l=s;a.push(l),Er(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],Ir(l.edge,u.site,l.site,r);u=a[0],(l=a[h-1]).edge=Ar(u.site,l.site,null,r),Mr(u),Mr(l)}function Cr(t){for(var e,n,i,r,o=t.x,s=t.y,a=pr._;a;)if((i=xr(a,s)-o)>Et)a=a.L;else{if(!((r=o-wr(a,s))>Et)){i>-Et?(e=a.P,n=a):r>-Et?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var u=yr(t);if(pr.insert(e,u),e||n){if(e===n)return Er(e),n=yr(e.site),pr.insert(u,n),u.edge=n.edge=Ar(e.site,u.site),Mr(e),void Mr(n);if(n){Er(e),Er(n);var l=e.site,c=l.x,h=l.y,d=t.x-c,p=t.y-h,f=n.site,g=f.x-c,m=f.y-h,v=2*(d*m-p*g),y=d*d+p*p,_=g*g+m*m,b={x:(m*y-p*_)/v+c,y:(d*_-g*y)/v+h};Ir(n.edge,l,f,b),u.edge=Ar(l,t,null,b),n.edge=Ar(t,f,null,b),Mr(e),Mr(n)}else u.edge=Ar(e.site,u.site)}}function xr(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,u=n.y,l=u-e;if(!l)return a;var c=a-i,h=1/o-1/l,d=c/l;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+a)/2}function wr(t,e){var n=t.N;if(n)return xr(n,e);var i=t.site;return i.y===e?i.x:1/0}function Sr(t){this.site=t,this.edges=[]}function Tr(t,e){return e.angle-t.angle}function Mr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,u=i.x-s,l=i.y-a,c=o.x-s,h=2*(u*(m=o.y-a)-l*c);if(!(h>=-Pt)){var d=u*u+l*l,p=c*c+m*m,f=(m*d-l*p)/h,g=(u*p-c*d)/h,m=g+a,v=vr.pop()||new function(){Rr(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=r,v.x=f+s,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,t.circle=v;for(var y=null,_=gr._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}gr.insert(y,v),y||(fr=v)}}}}function Er(t){var e=t.circle;e&&(e.P||(fr=e.N),gr.remove(e),vr.push(e),Rr(e),t.circle=null)}function Pr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,d=c.x,p=c.y,f=h.x,g=h.y,m=(d+f)/2,v=(p+g)/2;if(g===p){if(m<s||m>=a)return;if(d>f){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=v-(i=(d-f)/(g-p))*m,i<-1||i>1)if(d>f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(p<g){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Dr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ar(t,e,n,i){var r=new Dr(t,e);return hr.push(r),n&&Ir(r,t,e,n),i&&Ir(r,e,t,i),dr[t.i].edges.push(new kr(r,t,e)),dr[e.i].edges.push(new kr(r,e,t)),r}function Ir(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function kr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function $r(){this._=null}function Rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Lr(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Or(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Nr(t){for(;t.L;)t=t.L;return t}function Fr(t,e){var n,i,r,o=t.sort(zr).pop();for(hr=[],dr=new Array(t.length),pr=new $r,gr=new $r;;)if(r=fr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(dr[o.i]=new Sr(o),Cr(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;br(r.arc)}e&&(function(t){for(var e,n=hr,i=si(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Pr(e=n[r],t)||!i(e)||x(e.a.x-e.b.x)<Et&&x(e.a.y-e.b.y)<Et)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,s,a,u,l,c,h=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],g=dr,m=g.length;m--;)if((o=g[m])&&o.prepare())for(u=(a=o.edges).length,s=0;s<u;)i=(c=a[s].end()).x,r=c.y,e=(l=a[++s%u].start()).x,n=l.y,(x(i-e)>Et||x(r-n)>Et)&&(a.splice(s,0,new kr((v=o.site,y=c,_=x(i-h)<Et&&f-r>Et?{x:h,y:x(e-h)<Et?n:f}:x(r-f)<Et&&d-i>Et?{x:x(n-f)<Et?e:d,y:f}:x(i-d)<Et&&r-p>Et?{x:d,y:x(e-d)<Et?n:p}:x(r-p)<Et&&i-h>Et?{x:x(n-p)<Et?e:h,y:p}:null,b=void 0,b=new Dr(v,null),b.a=y,b.b=_,hr.push(b),b),o.site,null)),++u);var v,y,_,b}(e));var s={cells:dr,edges:hr};return pr=gr=hr=dr=null,s}function zr(t,e){return e.y-t.y||e.x-t.x}Sr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Tr),e.length},kr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$r.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Nr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Lr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Or(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Or(this,n),n=(t=n).U),n.C=!1,i.C=!0,Lr(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Nr(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Lr(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Or(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Lr(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Or(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Lr(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Or(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ir,n=rr,i=e,r=n,o=Hr;if(t)return s(t);function s(t){var e=new Array(t.length),n=o[0][0],i=o[0][1],r=o[1][0],s=o[1][1];return Fr(a(t),o).cells.forEach(function(o,a){var u=o.edges,l=o.site;(e[a]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=r&&l.y>=i&&l.y<=s?[[n,s],[r,s],[r,i],[n,i]]:[]).point=t[a]}),e}function a(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Et)*Et,y:Math.round(r(t,e)/Et)*Et,i:e}})}return s.links=function(t){return Fr(a(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},s.triangles=function(t){var e=[];return Fr(a(t)).cells.forEach(function(n,i){for(var r,o,s,a,u=n.site,l=n.edges.sort(Tr),c=-1,h=l.length,d=l[h-1].edge,p=d.l===u?d.r:d.l;++c<h;)d,r=p,p=(d=l[c].edge).l===u?d.r:d.l,i<r.i&&i<p.i&&(s=r,a=p,((o=u).x-a.x)*(s.y-o.y)-(o.x-s.x)*(a.y-o.y)<0)&&e.push([t[i],t[r.i],t[p.i]])}),e},s.x=function(t){return arguments.length?(i=be(e=t),s):e},s.y=function(t){return arguments.length?(r=be(n=t),s):n},s.clipExtent=function(t){return arguments.length?(o=null==t?Hr:t,s):o===Hr?null:o},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):o===Hr?null:o&&o[1]},s};var Hr=[[-1e6,-1e6],[1e6,1e6]];function Ur(t){return t.x}function Vr(t){return t.y}function jr(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,i=t.g,r=t.b,s=e.r-n,a=e.g-i,u=e.b-r;return function(t){return"#"+pe(Math.round(n+s*t))+pe(Math.round(i+a*t))+pe(Math.round(r+u*t))}}function Br(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Xr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function qr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wr(t,e){var n,i,r,o=Gr.lastIndex=Qr.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Gr.exec(t))&&(i=Qr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:qr(n,i)})),o=Qr.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,i,r){var o,s=ir,a=rr;if(o=arguments.length)return s=Ur,a=Vr,3===o&&(r=n,i=e,n=e=0),u(t);function u(t){var u,l,c,h,d,p,f,g,m,v=be(s),y=be(a);if(null!=e)p=e,f=n,g=i,m=r;else if(g=m=-(p=f=1/0),l=[],c=[],d=t.length,o)for(h=0;h<d;++h)(u=t[h]).x<p&&(p=u.x),u.y<f&&(f=u.y),u.x>g&&(g=u.x),u.y>m&&(m=u.y),l.push(u.x),c.push(u.y);else for(h=0;h<d;++h){var _=+v(u=t[h],h),b=+y(u,h);_<p&&(p=_),b<f&&(f=b),_>g&&(g=_),b>m&&(m=b),l.push(_),c.push(b)}var C=g-p,w=m-f;function S(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(x(u-n)+x(l-i)<.01)T(t,e,n,i,r,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,T(t,c,u,l,r,o,s,a),T(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else T(t,e,n,i,r,o,s,a)}function T(t,e,n,i,r,o,s,a){var u=.5*(r+s),l=.5*(o+a),c=n>=u,h=i>=l,d=h<<1|c;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(M,t,+v(t,++h),+y(t,h),p,f,g,m)}}),c?r=u:s=u,h?o=l:a=l,S(t,e,n,i,r,o,s,a)}C>w?m=f+C:g=p+w;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(M,t,+v(t,++h),+y(t,h),p,f,g,m)}};if(M.visit=function(t){!function t(e,n,i,r,o,s){if(!e(n,i,r,o,s)){var a=.5*(i+o),u=.5*(r+s),l=n.nodes;l[0]&&t(e,l[0],i,r,a,u),l[1]&&t(e,l[1],a,r,o,u),l[2]&&t(e,l[2],i,u,a,s),l[3]&&t(e,l[3],a,u,o,s)}}(t,M,p,f,g,m)},M.find=function(t){return function(t,e,n,i,r,o,s){var a,u=1/0;return function t(l,c,h,d,p){if(!(c>o||h>s||d<i||p<r)){if(f=l.point){var f,g=e-l.x,m=n-l.y,v=g*g+m*m;if(v<u){var y=Math.sqrt(u=v);i=e-y,r=n-y,o=e+y,s=n+y,a=f}}for(var _=l.nodes,b=.5*(c+d),C=.5*(h+p),x=(n>=C)<<1|e>=b,w=x+4;x<w;++x)if(l=_[3&x])switch(3&x){case 0:t(l,c,h,b,C);break;case 1:t(l,b,h,d,C);break;case 2:t(l,c,C,b,p);break;case 3:t(l,b,C,d,p)}}}(t,i,r,o,s),a}(M,t[0],t[1],p,f,g,m)},h=-1,null==e){for(;++h<d;)S(M,t[h],l[h],c[h],p,f,g,m);--h}else t.forEach(M.add);return l=c=t=u=null,M}return u.x=function(t){return arguments.length?(s=t,u):s},u.y=function(t){return arguments.length?(a=t,u):a},u.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),u):null==e?null:[[e,n],[i,r]]},u.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),u):null==e?null:[i-e,r-n]},u},o.interpolateRgb=jr,o.interpolateObject=Br,o.interpolateNumber=qr,o.interpolateString=Wr;var Gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qr=new RegExp(Gr.source,"g");function Xr(t,e){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](t,e)););return n}function Yr(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)i.push(Xr(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<s;++n)r[n]=e[n];return function(t){for(n=0;n<a;++n)r[n]=i[n](t);return r}}o.interpolate=Xr,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?_e.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?jr:Wr:e instanceof qt?jr:Array.isArray(e)?Yr:"object"===n&&isNaN(e)?Br:qr)(t,e)}],o.interpolateArray=Yr;var Kr=function(){return L},Zr=o.map({linear:Kr,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return no},cubic:function(){return io},sin:function(){return oo},exp:function(){return so},circle:function(){return ao},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/At*Math.asin(1/t):(t=1,n=e/4);return function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*At/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return uo}}),Jr=o.map({in:L,out:to,"in-out":eo,"out-in":function(t){return eo(to(t))}});function to(t){return function(e){return 1-t(1-e)}}function eo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function no(t){return t*t}function io(t){return t*t*t}function ro(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function oo(t){return 1-Math.cos(t*kt)}function so(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function uo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function co(t){var e,n,i,r=[t.a,t.b],o=[t.c,t.d],s=po(r),a=ho(r,o),u=po(((e=o)[0]+=(i=-a)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Rt,this.translate=[t.e,t.f],this.scale=[s,u],this.skew=u?Math.atan2(a,u)*Rt:0}function ho(t,e){return t[0]*e[0]+t[1]*e[1]}function po(t){var e=Math.sqrt(ho(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,n=t.indexOf("-"),i=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return i=Zr.get(i)||Kr,r=Jr.get(r)||L,e=r(i.apply(null,s.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,i=t.c,r=t.l,s=e.h-n,a=e.c-i,u=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.c:i);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Kt(n+s*t,i+a*t,r+u*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,i=t.s,r=t.l,s=e.h-n,a=e.s-i,u=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.s:i);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Qt(n+s*t,i+a*t,r+u*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,i=t.a,r=t.b,s=e.l-n,a=e.a-i,u=e.b-r;return function(t){return re(n+s*t,i+a*t,r+u*t)+""}},o.interpolateRound=lo,o.transform=function(t){var e=u.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new co(n?n.matrix:fo)})(t)},co.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fo={a:1,b:0,c:0,d:1,e:0,f:0};function go(t){return t.length?t.pop()+",":""}function mo(t,e){var n=[],i=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:qr(t[0],e[0])},{i:r-2,x:qr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,i),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(go(n)+"rotate(",null,")")-2,x:qr(t,e)})):e&&n.push(go(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,i),function(t,e,n,i){t!==e?i.push({i:n.push(go(n)+"skewX(",null,")")-2,x:qr(t,e)}):e&&n.push(go(n)+"skewX("+e+")")}(t.skew,e.skew,n,i),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(go(n)+"scale(",null,",",null,")");i.push({i:r-4,x:qr(t[0],e[0])},{i:r-2,x:qr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(go(n)+"scale("+e+")")}(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function vo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function yo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function _o(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=bo(t),i=bo(e),r=n.pop(),o=i.pop(),s=null;for(;r===o;)s=r,r=n.pop(),o=i.pop();return s}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Co(t){t.fixed|=2}function xo(t){t.fixed&=-7}function wo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function So(t){t.fixed&=-5}o.interpolateTransform=mo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(_o(t[n]));return e}},o.layout.chord=function(){var t,e,n,i,r,s,a,u={},l=0;function c(){var u,c,d,p,f,g={},m=[],v=o.range(i),y=[];for(t=[],e=[],u=0,p=-1;++p<i;){for(c=0,f=-1;++f<i;)c+=n[p][f];m.push(c),y.push(o.range(i)),u+=c}for(r&&v.sort(function(t,e){return r(m[t],m[e])}),s&&y.forEach(function(t,e){t.sort(function(t,i){return s(n[e][t],n[e][i])})}),u=(At-l*i)/u,c=0,p=-1;++p<i;){for(d=c,f=-1;++f<i;){var _=v[p],b=y[_][f],C=n[_][b],x=c,w=c+=C*u;g[_+"-"+b]={index:_,subindex:b,startAngle:x,endAngle:w,value:C}}e[_]={index:_,startAngle:d,endAngle:c,value:m[_]},c+=l}for(p=-1;++p<i;)for(f=p-1;++f<i;){var S=g[p+"-"+f],T=g[f+"-"+p];(S.value||T.value)&&t.push(S.value<T.value?{source:T,target:S}:{source:S,target:T})}a&&h()}function h(){t.sort(function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return u.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(l=n,t=e=null,u):l},u.sortGroups=function(n){return arguments.length?(r=n,t=e=null,u):r},u.sortSubgroups=function(e){return arguments.length?(s=e,t=null,u):s},u.sortChords=function(e){return arguments.length?(a=e,t&&h(),u):a},u.chords=function(){return t||c(),t},u.groups=function(){return e||c(),e},u},o.layout.force=function(){var t,e,n,i,r,s,a={},u=o.dispatch("start","tick","end"),l=[1,1],c=.9,h=To,d=Mo,p=-30,f=Eo,g=.1,m=.64,v=[],y=[];function _(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,u=o*o+s*s;if(a*a/m<u){if(u<f){var l=e.charge/u;t.px-=o*l,t.py-=s*l}return!0}if(e.point&&u&&u<f){l=e.pointCharge/u;t.px-=o*l,t.py-=s*l}}return!e.charge}}function b(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,a,h,d,f,m,b,C,x,w=v.length,S=y.length;for(a=0;a<S;++a)d=(h=y[a]).source,(m=(C=(f=h.target).x-d.x)*C+(x=f.y-d.y)*x)&&(C*=m=n*r[a]*((m=Math.sqrt(m))-i[a])/m,x*=m,f.x-=C*(b=d.weight+f.weight?d.weight/(d.weight+f.weight):.5),f.y-=x*b,d.x+=C*(b=1-b),d.y+=x*b);if((b=n*g)&&(C=l[0]/2,x=l[1]/2,a=-1,b))for(;++a<w;)(h=v[a]).x+=(C-h.x)*b,h.y+=(x-h.y)*b;if(p)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var s,a=e.nodes,u=a.length,l=-1;++l<u;)null!=(s=a[l])&&(t(s,n,i),e.charge+=s.charge,r+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(v),n,s),a=-1;++a<w;)(h=v[a]).fixed||e.visit(_(h));for(a=-1;++a<w;)(h=v[a]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);u.tick({type:"tick",alpha:n})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(l=t,a):l},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(f=t*t,a):Math.sqrt(f)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(m=t*t,a):Math.sqrt(m)},a.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Pe(a.tick)),a):n},a.start=function(){var t,e,n,o=v.length,u=y.length,c=l[0],f=l[1];for(t=0;t<o;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=v[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof h)for(t=0;t<u;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=h;if(r=[],"function"==typeof d)for(t=0;t<u;++t)r[t]=+d.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=d;if(s=[],"function"==typeof p)for(t=0;t<o;++t)s[t]=+p.call(this,v[t],t);else for(t=0;t<o;++t)s[t]=p;function g(n,i){if(!e){for(e=new Array(o),l=0;l<o;++l)e[l]=[];for(l=0;l<u;++l){var r=y[l];e[r.source.index].push(r.target),e[r.target.index].push(r.source)}}for(var s,a=e[t],l=-1,c=a.length;++l<c;)if(!isNaN(s=a[l][n]))return s;return Math.random()*i}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=o.behavior.drag().origin(L).on("dragstart.force",Co).on("drag.force",b).on("dragend.force",xo)),!arguments.length)return e;this.on("mouseover.force",wo).on("mouseout.force",So).call(e)},o.rebind(a,u,"on")};var To=20,Mo=1,Eo=1/0;function Po(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ro,t}function Do(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Ao(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function Io(t){return t.children}function ko(t){return t.value}function $o(t,e){return e.value-t.value}function Ro(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=$o,e=Io,n=ko;function i(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(l=e.call(i,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)s.push(c=l[u]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Ao(r,function(e){var i,r;t&&(i=e.children)&&i.sort(t),n&&(r=e.parent)&&(r.value+=e.value)}),a}return i.sort=function(e){return arguments.length?(t=e,i):t},i.children=function(t){return arguments.length?(e=t,i):e},i.value=function(t){return arguments.length?(n=t,i):n},i.revalue=function(t){return n&&(Do(t,function(t){t.children&&(t.value=0)}),Ao(t,function(t){var e;t.children||(t.value=+n.call(i,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},i},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,i){var r=t.call(this,n,i);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,u,l=-1;for(i=e.value?i/e.value:0;++l<s;)t(a=o[l],n,u=a.value*i,r),n+=u}}(r[0],0,e[0],e[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(r[0])),r}return n.size=function(t){return arguments.length?(e=t,n):e},Po(n,t)},o.layout.pie=function(){var t=Number,e=Lo,n=0,i=At,r=0;function s(a){var u,l=a.length,c=a.map(function(e,n){return+t.call(s,e,n)}),h=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof i?i.apply(this,arguments):i)-h,p=Math.min(Math.abs(d)/l,+("function"==typeof r?r.apply(this,arguments):r)),f=p*(d<0?-1:1),g=o.sum(c),m=g?(d-l*f)/g:0,v=o.range(l),y=[];return null!=e&&v.sort(e===Lo?function(t,e){return c[e]-c[t]}:function(t,n){return e(a[t],a[n])}),v.forEach(function(t){y[t]={data:a[t],value:u=c[t],startAngle:h,endAngle:h+=u*m+f,padAngle:p}}),y}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(i=t,s):i},s.padAngle=function(t){return arguments.length?(r=t,s):r},s};var Lo={};function Oo(t){return t.x}function No(t){return t.y}function Fo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=L,e=Uo,n=Vo,i=Fo,r=Oo,s=No;function a(u,l){if(!(p=u.length))return u;var c=u.map(function(e,n){return t.call(a,e,n)}),h=c.map(function(t){return t.map(function(t,e){return[r.call(a,t,e),s.call(a,t,e)]})}),d=e.call(a,h,l);c=o.permute(c,d),h=o.permute(h,d);var p,f,g,m,v=n.call(a,h,l),y=c[0].length;for(g=0;g<y;++g)for(i.call(a,c[0][g],m=v[g],h[0][g][1]),f=1;f<p;++f)i.call(a,c[f][g],m+=h[f-1][g][1],h[f][g][1]);return u}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"==typeof t?t:zo.get(t)||Uo,a):e},a.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ho.get(t)||Vo,a):n},a.x=function(t){return arguments.length?(r=t,a):r},a.y=function(t){return arguments.length?(s=t,a):s},a.out=function(t){return arguments.length?(i=t,a):i},a};var zo=o.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(jo),s=t.map(Bo),a=o.range(i).sort(function(t,e){return r[t]-r[e]}),u=0,l=0,c=[],h=[];for(e=0;e<i;++e)n=a[e],u<l?(u+=s[n],c.push(n)):(l+=s[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Uo}),Ho=o.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,u=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;n<o;++n)u[n]=(a-s[n])/2;return u},wiggle:function(t){var e,n,i,r,o,s,a,u,l,c=t.length,h=t[0],d=h.length,p=[];for(p[0]=u=l=0,n=1;n<d;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];e<c;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);i<e;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}p[n]=u-=r?o/r*a:0,u<l&&(l=u)}for(n=0;n<d;++n)p[n]-=l;return p},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:Vo});function Uo(t){return o.range(t.length)}function Vo(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function jo(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Bo(t){return t.reduce(qo,0)}function qo(t,e){return t+e[1]}function Wo(t,e){return Go(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Go(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Qo(t){return[o.min(t),o.max(t)]}function Xo(t,e){return t.value-e.value}function Yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ko(t,e){t._pack_next=e,e._pack_prev=t}function Zo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Jo(t){if((e=t.children)&&(u=e.length)){var e,n,i,r,o,s,a,u,l=1/0,c=-1/0,h=1/0,d=-1/0;if(e.forEach(ts),(n=e[0]).x=-n.r,n.y=0,_(n),u>1&&((i=e[1]).x=i.r,i.y=0,_(i),u>2))for(ns(n,i,r=e[2]),_(r),Yo(n,r),n._pack_prev=r,Yo(r,i),i=n._pack_next,o=3;o<u;o++){ns(n,i,r=e[o]);var p=0,f=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,f++)if(Zo(s,r)){p=1;break}if(1==p)for(a=n._pack_prev;a!==s._pack_prev&&!Zo(a,r);a=a._pack_prev,g++);p?(f<g||f==g&&i.r<n.r?Ko(n,i=s):Ko(n=a,i),o--):(Yo(n,r),i=r,_(r))}var m=(l+c)/2,v=(h+d)/2,y=0;for(o=0;o<u;o++)(r=e[o]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(es)}function _(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function ts(t){t._pack_next=t._pack_prev=t}function es(t){delete t._pack_next,delete t._pack_prev}function ns(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o,u=.5+((i*=i)-(s*=s))/(2*a),l=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function is(t,e){return t.parent==e.parent?1:2}function rs(t){var e=t.children;return e.length?e[0]:t.t}function os(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ss(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function as(t,e,n){return t.a.parent===e.parent?t.a:n}function us(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ls(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function cs(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function hs(t){return t.rangeExtent?t.rangeExtent():cs(t.range())}function ds(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function ps(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function fs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:gs}o.layout.histogram=function(){var t=!0,e=Number,n=Qo,i=Wo;function r(r,s){for(var a,u,l=[],c=r.map(e,this),h=n.call(this,c,s),d=i.call(this,h,c,s),p=(s=-1,c.length),f=d.length-1,g=t?1:1/p;++s<f;)(a=l[s]=[]).dx=d[s+1]-(a.x=d[s]),a.y=0;if(f>0)for(s=-1;++s<p;)(u=c[s])>=h[0]&&u<=h[1]&&((a=l[o.bisect(d,u,1,f)-1]).y+=g,a.push(r[s]));return l}return r.value=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=be(t),r):n},r.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Go(e,t)}:be(t),r):i},r.frequency=function(e){return arguments.length?(t=!!e,r):t},r},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Xo),n=0,i=[1,1];function r(r,o){var s=e.call(this,r,o),a=s[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Ao(a,function(t){t.r=+c(t.value)}),Ao(a,Jo),n){var h=n*(t?1:Math.max(2*a.r/u,2*a.r/l))/2;Ao(a,function(t){t.r+=h}),Ao(a,Jo),Ao(a,function(t){t.r-=h})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var s=-1,a=o.length;++s<a;)t(o[s],n,i,r)}(a,u/2,l/2,t?1:1/Math.max(2*a.r/u,2*a.r/l)),s}return r.size=function(t){return arguments.length?(i=t,r):i},r.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,r):t},r.padding=function(t){return arguments.length?(n=+t,r):n},Po(r,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=is,n=[1,1],i=null;function r(r,o){var l=t.call(this,r,o),c=l[0],h=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;s<a;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}(c);if(Ao(h,s),h.parent.m=-h.z,Do(h,a),i)Do(c,u);else{var d=c,p=c,f=c;Do(c,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>f.depth&&(f=t)});var g=e(d,p)/2-d.x,m=n[0]/(p.x+e(p,d)/2+g),v=n[1]/(f.depth||1);Do(c,function(t){t.x=(t.x+g)*m,t.y=t.depth*v})}return l}function s(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,s=t,a=n,u=o.parent.children[0],l=o.m,c=s.m,h=a.m,d=u.m;a=os(a),o=rs(o),a&&o;)u=rs(u),(s=os(s)).a=t,(r=a.z+h-o.z-l+e(a._,o._))>0&&(ss(as(a,t,i),t,r),l+=r,c+=r),h+=a.m,l+=o.m,d+=u.m,c+=s.m;a&&!os(s)&&(s.t=a,s.m+=h-c),o&&!rs(u)&&(u.t=o,u.m+=l-d,i=t)}return i}(t,r,t.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t)?u:null,r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null==(n=t)?null:u,r):i?n:null},Po(r,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=is,n=[1,1],i=!1;function r(r,s){var a,u=t.call(this,r,s),l=u[0],c=0;Ao(l,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)});var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(l),p=h.x-e(h,d)/2,f=d.x+e(d,h)/2;return Ao(l,i?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(f-p)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),u}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t),r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null!=(n=t),r):i?n:null},Po(r,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,s=us,a=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=s(t),a=[],l=e.slice(),d=1/0,g="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/t.value),a.area=0;(r=l.length)>0;)a.push(n=l[r-1]),a.area+=n.area,"squarify"!==u||(i=p(a,g))<=d?(l.pop(),d=i):(a.area-=a.pop().area,f(a,g,o,!1),g=Math.min(o.dx,o.dy),a.length=a.area=0,d=1/0);a.length&&(f(a,g,o,!0),a.length=a.area=0),e.forEach(h)}}function d(t){var e=t.children;if(e&&e.length){var n,i=s(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(f(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(d)}}function p(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*o*l)):1/0}function f(t,e,i,r){var o,s=-1,a=t.length,u=i.x,l=i.y,c=e?n(t.area/e):0;if(e==i.dx){for((r||c>i.dy)&&(c=i.dy);++s<a;)(o=t[s]).x=u,o.y=l,o.dy=c,u+=o.dx=Math.min(i.x+i.dx-u,c?n(o.area/c):0);o.z=!0,o.dx+=i.x+i.dx-u,i.y+=c,i.dy-=c}else{for((r||c>i.dx)&&(c=i.dx);++s<a;)(o=t[s]).x=u,o.y=l,o.dx=c,l+=o.dy=Math.min(i.y+i.dy-l,c?n(o.area/c):0);o.z=!1,o.dy+=i.y+i.dy-l,i.x+=c,i.dx-=c}}function g(n){var r=t||e(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:h)(o),a&&(t=r),r}return g.size=function(t){return arguments.length?(i=t,g):i},g.padding=function(t){if(!arguments.length)return r;function e(e){return ls(e,t)}var n;return s=null==(r=t)?us:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?us(e):ls(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(a=e,t=null,g):a},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(u=t+"",g):u},Po(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var gs={floor:L,ceil:L};function ms(t,e,n,i){var r=[],s=[],a=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=u;)r.push(n(t[a-1],t[a])),s.push(i(e[a-1],e[a]));return function(e){var n=o.bisect(t,e,1,u)-1;return s[n](r[n](e))}}function vs(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ys(t,e){return ps(t,fs(_s(t,e)[2])),ps(t,fs(_s(t,e)[2])),t}function _s(t,e){null==e&&(e=10);var n=cs(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function bs(t,e){return o.range.apply(o,_s(t,e))}function Cs(t,e,n){var i=_s(t,e);if(n){var r=Re.exec(n);if(r.shift(),"s"===r[8]){var s=o.formatPrefix(Math.max(x(i[0]),x(i[1])));return r[7]||(r[7]="."+ws(s.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(t){return n(s.scale(t))+s.symbol}}r[7]||(r[7]="."+function(t,e){var n=ws(e[2]);return t in xs?Math.abs(n-ws(Math.max(x(e[0]),x(e[1]))))+ +("e"!==t):n-2*("%"===t)}(r[8],i)),n=r.join("")}else n=",."+ws(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,i,r){var o,s;function a(){var t=Math.min(e.length,n.length)>2?ms:ds,a=r?yo:vo;return o=t(e,n,a,i),s=t(n,e,a,Xr),u}function u(t){return o(t)}u.invert=function(t){return s(t)};u.domain=function(t){return arguments.length?(e=t.map(Number),a()):e};u.range=function(t){return arguments.length?(n=t,a()):n};u.rangeRound=function(t){return u.range(t).interpolate(lo)};u.clamp=function(t){return arguments.length?(r=t,a()):r};u.interpolate=function(t){return arguments.length?(i=t,a()):i};u.ticks=function(t){return bs(e,t)};u.tickFormat=function(t,n){return Cs(e,t,n)};u.nice=function(t){return ys(e,t),a()};u.copy=function(){return t(e,n,i,r)};return a()}([0,1],[0,1],Xr,!1)};var xs={s:1,g:1,p:1,r:1,e:1};function ws(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,i,r){function s(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function u(t){return e(s(t))}u.invert=function(t){return a(e.invert(t))};u.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((r=t.map(Number)).map(s)),u):r};u.base=function(t){return arguments.length?(n=+t,e.domain(r.map(s)),u):n};u.nice=function(){var t=ps(r.map(s),i?Math:Ts);return e.domain(t),r=t.map(a),u};u.ticks=function(){var t=cs(r),e=[],o=t[0],u=t[1],l=Math.floor(s(o)),c=Math.ceil(s(u)),h=n%1?2:n;if(isFinite(c-l)){if(i){for(;l<c;l++)for(var d=1;d<h;d++)e.push(a(l)*d);e.push(a(l))}else for(e.push(a(l));l++<c;)for(var d=h-1;d>0;d--)e.push(a(l)*d);for(l=0;e[l]<o;l++);for(c=e.length;e[c-1]>u;c--);e=e.slice(l,c)}return e};u.tickFormat=function(t,e){if(!arguments.length)return Ss;arguments.length<2?e=Ss:"function"!=typeof e&&(e=o.format(e));var i=Math.max(1,n*t/u.ticks().length);return function(t){var r=t/a(Math.round(s(t)));return r*n<n-.5&&(r*=n),r<=i?e(t):""}};u.copy=function(){return t(e.copy(),n,i,r)};return vs(u,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ss=o.format(".0e"),Ts={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ms(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,i){var r=Ms(n),o=Ms(1/n);function s(t){return e(r(t))}s.invert=function(t){return o(e.invert(t))};s.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),s):i};s.ticks=function(t){return bs(i,t)};s.tickFormat=function(t,e){return Cs(i,t,e)};s.nice=function(t){return s.domain(ys(i,t))};s.exponent=function(t){return arguments.length?(r=Ms(n=t),o=Ms(1/n),e.domain(i.map(r)),s):n};s.copy=function(){return t(e.copy(),n,i)};return vs(s,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var i,r,s;function a(t){return r[((i.get(t)||("range"===n.t?i.set(t,e.push(t)):NaN))-1)%r.length]}function u(t,n){return o.range(e.length).map(function(e){return t+n*e})}a.domain=function(t){if(!arguments.length)return e;e=[],i=new S;for(var r,o=-1,s=t.length;++o<s;)i.has(r=t[o])||i.set(r,e.push(r));return a[n.t].apply(a,n.a)};a.range=function(t){return arguments.length?(r=t,s=0,n={t:"range",a:arguments},a):r};a.rangePoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],l=t[1],c=e.length<2?(o=(o+l)/2,0):(l-o)/(e.length-1+i);return r=u(o+c*i/2,c),s=0,n={t:"rangePoints",a:arguments},a};a.rangeRoundPoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],l=t[1],c=e.length<2?(o=l=Math.round((o+l)/2),0):(l-o)/(e.length-1+i)|0;return r=u(o+Math.round(c*i/2+(l-o-(e.length-1+i)*c)/2),c),s=0,n={t:"rangeRoundPoints",a:arguments},a};a.rangeBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var l=t[1]<t[0],c=t[l-0],h=t[1-l],d=(h-c)/(e.length-i+2*o);return r=u(c+d*o,d),l&&r.reverse(),s=d*(1-i),n={t:"rangeBands",a:arguments},a};a.rangeRoundBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var l=t[1]<t[0],c=t[l-0],h=t[1-l],d=Math.floor((h-c)/(e.length-i+2*o));return r=u(c+Math.round((h-c-(e.length-i)*d)/2),d),l&&r.reverse(),s=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},a};a.rangeBand=function(){return s};a.rangeExtent=function(){return cs(n.a[0])};a.copy=function(){return t(e,n)};return a.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Es)},o.scale.category20=function(){return o.scale.ordinal().range(Ps)},o.scale.category20b=function(){return o.scale.ordinal().range(Ds)},o.scale.category20c=function(){return o.scale.ordinal().range(As)};var Es=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Ds=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),As=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Is(){return 0}o.scale.quantile=function(){return function t(e,n){var i;function r(){var t=0,r=n.length;for(i=[];++t<r;)i[t-1]=o.quantile(e,t/r);return s}function s(t){if(!isNaN(t=+t))return n[o.bisect(i,t)]}s.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(m),r()):e};s.range=function(t){return arguments.length?(n=t,r()):n};s.quantiles=function(){return i};s.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]};s.copy=function(){return t(e,n)};return r()}([],[])},o.scale.quantize=function(){return function t(e,n,i){var r,o;function s(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function a(){return r=i.length/(n-e),o=i.length-1,s}s.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]};s.range=function(t){return arguments.length?(i=t,a()):i};s.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};s.copy=function(){return t(e,n,i)};return a()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[o.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return bs(e,t)};n.tickFormat=function(t,n){return Cs(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},o.svg={},o.svg.arc=function(){var t=$s,e=Rs,n=Is,i=ks,r=Ls,o=Os,s=Ns;function a(){var a=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=r.apply(this,arguments)-kt,h=o.apply(this,arguments)-kt,d=Math.abs(h-c),p=c>h?0:1;if(l<a&&(f=l,l=a,a=f),d>=It)return u(l,p)+(a?u(a,1-p):"")+"Z";var f,g,m,v,y,_,b,C,x,w,S,T,M=0,E=0,P=[];if((v=(+s.apply(this,arguments)||0)/2)&&(m=i===ks?Math.sqrt(a*a+l*l):+i.apply(this,arguments),p||(E*=-1),l&&(E=Ft(m/l*Math.sin(v))),a&&(M=Ft(m/a*Math.sin(v)))),l){y=l*Math.cos(c+E),_=l*Math.sin(c+E),b=l*Math.cos(h-E),C=l*Math.sin(h-E);var D=Math.abs(h-c-2*E)<=Dt?0:1;if(E&&Fs(y,_,b,C)===p^D){var A=(c+h)/2;y=l*Math.cos(A),_=l*Math.sin(A),b=C=null}}else y=_=0;if(a){x=a*Math.cos(h-M),w=a*Math.sin(h-M),S=a*Math.cos(c+M),T=a*Math.sin(c+M);var I=Math.abs(c-h+2*M)<=Dt?0:1;if(M&&Fs(x,w,S,T)===1-p^I){var k=(c+h)/2;x=a*Math.cos(k),w=a*Math.sin(k),S=T=null}}else x=w=0;if(d>Et&&(f=Math.min(Math.abs(l-a)/2,+n.apply(this,arguments)))>.001){g=a<l^p?0:1;var $=f,R=f;if(d<Dt){var L=null==S?[x,w]:null==b?[y,_]:lr([y,_],[S,T],[b,C],[x,w]),O=y-L[0],N=_-L[1],F=b-L[0],z=C-L[1],H=1/Math.sin(Math.acos((O*F+N*z)/(Math.sqrt(O*O+N*N)*Math.sqrt(F*F+z*z)))/2),U=Math.sqrt(L[0]*L[0]+L[1]*L[1]);R=Math.min(f,(a-U)/(H-1)),$=Math.min(f,(l-U)/(H+1))}if(null!=b){var V=zs(null==S?[x,w]:[S,T],[y,_],l,$,p),j=zs([b,C],[x,w],l,$,p);f===$?P.push("M",V[0],"A",$,",",$," 0 0,",g," ",V[1],"A",l,",",l," 0 ",1-p^Fs(V[1][0],V[1][1],j[1][0],j[1][1]),",",p," ",j[1],"A",$,",",$," 0 0,",g," ",j[0]):P.push("M",V[0],"A",$,",",$," 0 1,",g," ",j[0])}else P.push("M",y,",",_);if(null!=S){var B=zs([y,_],[S,T],a,-R,p),q=zs([x,w],null==b?[y,_]:[b,C],a,-R,p);f===R?P.push("L",q[0],"A",R,",",R," 0 0,",g," ",q[1],"A",a,",",a," 0 ",p^Fs(q[1][0],q[1][1],B[1][0],B[1][1]),",",1-p," ",B[1],"A",R,",",R," 0 0,",g," ",B[0]):P.push("L",q[0],"A",R,",",R," 0 0,",g," ",B[0])}else P.push("L",x,",",w)}else P.push("M",y,",",_),null!=b&&P.push("A",l,",",l," 0 ",D,",",p," ",b,",",C),P.push("L",x,",",w),null!=S&&P.push("A",a,",",a," 0 ",I,",",1-p," ",S,",",T);return P.push("Z"),P.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=be(e),a):t},a.outerRadius=function(t){return arguments.length?(e=be(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=be(t),a):n},a.padRadius=function(t){return arguments.length?(i=t==ks?ks:be(t),a):i},a.startAngle=function(t){return arguments.length?(r=be(t),a):r},a.endAngle=function(t){return arguments.length?(o=be(t),a):o},a.padAngle=function(t){return arguments.length?(s=be(t),a):s},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-kt;return[Math.cos(i)*n,Math.sin(i)*n]},a};var ks="auto";function $s(t){return t.innerRadius}function Rs(t){return t.outerRadius}function Ls(t){return t.startAngle}function Os(t){return t.endAngle}function Ns(t){return t&&t.padAngle}function Fs(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function zs(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),u=a*s,l=-a*o,c=t[0]+u,h=t[1]+l,d=e[0]+u,p=e[1]+l,f=(c+d)/2,g=(h+p)/2,m=d-c,v=p-h,y=m*m+v*v,_=n-i,b=c*p-d*h,C=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),x=(b*v-m*C)/y,w=(-b*m-v*C)/y,S=(b*v+m*C)/y,T=(-b*m+v*C)/y,M=x-f,E=w-g,P=S-f,D=T-g;return M*M+E*E>P*P+D*D&&(x=S,w=T),[[x-u,w-l],[x*n/_,w*n/_]]}function Hs(t){var e=ir,n=rr,i=Kn,r=Vs,o=r.key,s=.7;function a(o){var a,u=[],l=[],c=-1,h=o.length,d=be(e),p=be(n);function f(){u.push("M",r(t(l),s))}for(;++c<h;)i.call(this,a=o[c],c)?l.push([+d.call(this,a,c),+p.call(this,a,c)]):l.length&&(f(),l=[]);return l.length&&f(),u.length?u.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(i=t,a):i},a.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=Us.get(t)||Vs).key,a):o},a.tension=function(t){return arguments.length?(s=t,a):s},a}o.svg.line=function(){return Hs(L)};var Us=o.map({linear:Vs,"linear-closed":js,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Bs,"step-after":qs,basis:Qs,"basis-open":function(t){if(t.length<4)return Vs(t);var e,n=[],i=-1,r=t.length,o=[0],s=[0];for(;++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);n.push(Xs(Zs,o)+","+Xs(Zs,s)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Js(n,o,s);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];for(;++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);e=[Xs(Zs,s),",",Xs(Zs,a)],--i;for(;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Js(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,u=t[n][1]-s,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*u);return Qs(t)},cardinal:function(t,e){return t.length<3?Vs(t):t[0]+Ws(t,Gs(t,e))},"cardinal-open":function(t,e){return t.length<4?Vs(t):t[1]+Ws(t.slice(1,-1),Gs(t,e))},"cardinal-closed":function(t,e){return t.length<3?js(t):t[0]+Ws((t.push(t[0]),t),Gs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Vs(t):t[0]+Ws(t,function(t){var e,n,i,r,o=[],s=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=ta(r,o);for(;++e<n;)i[e]=(s+(s=ta(r=o,o=t[e+1])))/2;return i[e]=s,i}(t),a=-1,u=t.length-1;for(;++a<u;)e=ta(t[a],t[a+1]),x(e)<Et?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));a=-1;for(;++a<=u;)r=(t[Math.min(u,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}(t))}});function Vs(t){return t.length>1?t.join("L"):t+"Z"}function js(t){return t.join("L")+"Z"}function Bs(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function qs(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Ws(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Vs(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,u=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){a=e[1],o=t[u],u++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],a=e[l],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return i}function Gs(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,u=t.length;++a<u;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Qs(t){if(t.length<3)return Vs(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],u=[r,",",o,"L",Xs(Zs,s),",",Xs(Zs,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Js(u,s,a);return t.pop(),u.push("L",i),u.join("")}function Xs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Us.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ys=[0,2/3,1/3,0],Ks=[0,1/3,2/3,0],Zs=[0,1/6,2/3,1/6];function Js(t,e,n){t.push("C",Xs(Ys,e),",",Xs(Ys,n),",",Xs(Ks,e),",",Xs(Ks,n),",",Xs(Zs,e),",",Xs(Zs,n))}function ta(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ea(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-kt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function na(t){var e=ir,n=ir,i=0,r=rr,o=Kn,s=Vs,a=s.key,u=s,l="L",c=.7;function h(a){var h,d,p,f=[],g=[],m=[],v=-1,y=a.length,_=be(e),b=be(i),C=e===n?function(){return d}:be(n),x=i===r?function(){return p}:be(r);function w(){f.push("M",s(t(m),c),l,u(t(g.reverse()),c),"Z")}for(;++v<y;)o.call(this,h=a[v],v)?(g.push([d=+_.call(this,h,v),p=+b.call(this,h,v)]),m.push([+C.call(this,h,v),+x.call(this,h,v)])):g.length&&(w(),g=[],m=[]);return g.length&&w(),f.length?f.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(i=r=t,h):r},h.y0=function(t){return arguments.length?(i=t,h):i},h.y1=function(t){return arguments.length?(r=t,h):r},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(a="function"==typeof t?s=t:(s=Us.get(t)||Vs).key,u=s.reverse||s,l=s.closed?"M":"L",h):a},h.tension=function(t){return arguments.length?(c=t,h):c},h}function ia(t){return t.radius}function ra(t){return[t.x,t.y]}function oa(){return 64}function sa(){return"circle"}function aa(t){var e=Math.sqrt(t/Dt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Hs(ea);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Bs.reverse=qs,qs.reverse=Bs,o.svg.area=function(){return na(L)},o.svg.area.radial=function(){var t=na(ea);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=ji,e=Bi,n=ia,i=Ls,r=Os;function o(n,i){var r,o,l=s(this,t,n,i),c=s(this,e,n,i);return"M"+l.p0+a(l.r,l.p1,l.a1-l.a0)+(o=c,(r=l).a0==o.a0&&r.a1==o.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+a(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function s(t,e,o,s){var a=e.call(t,o,s),u=n.call(t,a,s),l=i.call(t,a,s)-kt,c=r.call(t,a,s)-kt;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Dt)+",1 "+e}function u(t,e,n,i){return"Q 0,0 "+i}return o.radius=function(t){return arguments.length?(n=be(t),o):n},o.source=function(e){return arguments.length?(t=be(e),o):t},o.target=function(t){return arguments.length?(e=be(t),o):e},o.startAngle=function(t){return arguments.length?(i=be(t),o):i},o.endAngle=function(t){return arguments.length?(r=be(t),o):r},o},o.svg.diagonal=function(){var t=ji,e=Bi,n=ra;function i(i,r){var o=t.call(this,i,r),s=e.call(this,i,r),a=(o.y+s.y)/2,u=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return i.source=function(e){return arguments.length?(t=be(e),i):t},i.target=function(t){return arguments.length?(e=be(t),i):e},i.projection=function(t){return arguments.length?(n=t,i):n},i},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=ra,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-kt;return[n*Math.cos(i),n*Math.sin(i)]}}(e=t)):e},t},o.svg.symbol=function(){var t=sa,e=oa;function n(n,i){return(ua.get(t.call(this,n,i))||aa)(e.call(this,n,i))}return n.type=function(e){return arguments.length?(t=be(e),n):t},n.size=function(t){return arguments.length?(e=be(t),n):e},n};var ua=o.map({circle:aa,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ca)),n=e*ca;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/la),n=e*la/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/la),n=e*la/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=ua.keys();var la=Math.sqrt(3),ca=Math.tan(30*$t);K.transition=function(t){for(var e,n,i=fa||++va,r=ba(t),o=[],s=ga||{time:Date.now(),ease:ro,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(e=[]);for(var l=this[a],c=-1,h=l.length;++c<h;)(n=l[c])&&Ca(n,c,r,i,s),e.push(n)}return pa(o,r,i)},K.interrupt=function(t){return this.each(null==t?ha:da(ba(t)))};var ha=da(ba());function da(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function pa(t,e,n){return W(t,ma),t.namespace=e,t.id=n,t}var fa,ga,ma=[],va=0;function ya(t,e,n,i){var r=t.id,o=t.namespace;return ft(t,"function"==typeof n?function(t,s,a){t[o][r].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function _a(t){return null==t&&(t=""),function(){this.textContent=t}}function ba(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ca(t,e,n,i,r){var o,s,a,u,l,c=t[n]||(t[n]={active:0,count:0}),h=c[i];function d(n){var r=c.active,d=c[r];for(var f in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[r],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),c)if(+f<i){var g=c[f];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[f]}s.c=p,Pe(function(){return s.c&&p(n||1)&&(s.c=null,s.t=NaN),1},0,o),c.active=i,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&l.push(i)}),u=h.ease,a=h.duration}function p(r){for(var o=r/a,s=u(o),d=l.length;d>0;)l[--d].call(t,s);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[i]:delete t[n],1}h||(o=r.time,s=Pe(function(t){var e=h.delay;if(s.t=e+o,e<=t)return d(t-e);s.c=d},0,o),h=c[i]={tween:new S,time:o,timer:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++c.count)}ma.call=K.call,ma.empty=K.empty,ma.node=K.node,ma.size=K.size,o.transition=function(t,e){return t&&t.transition?fa?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=ma,ma.select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=Z(t);for(var a=-1,u=this.length;++a<u;){s.push(e=[]);for(var l=this[a],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),Ca(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return pa(s,o,r)},ma.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,u=[];t=J(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],d=-1,p=h.length;++d<p;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,l),u.push(e=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&Ca(r,f,a,s,o),e.push(r)}return pa(u,a,s)},ma.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=pt(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var s,a=0,u=(s=this[r]).length;a<u;a++)(n=s[a])&&t.call(n,n.__data__,a,r)&&e.push(n)}return pa(i,this.namespace,this.id)},ma.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):ft(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},ma.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?mo:Xr,i=o.ns.qualify(t);function r(){this.removeAttribute(i)}function s(){this.removeAttributeNS(i.space,i.local)}return ya(this,"attr."+t,e,i.local?function(t){return null==t?s:(t+="",function(){var e,r=this.getAttributeNS(i.space,i.local);return r!==t&&(e=n(r,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?r:(t+="",function(){var e,r=this.getAttribute(i);return r!==t&&(e=n(r,t),function(t){this.setAttribute(i,e(t))})})})},ma.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},ma.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function r(){this.style.removeProperty(t)}return ya(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var i,r=c(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=Xr(r,e),function(e){this.style.setProperty(t,i(e),n)})})})},ma.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(i,r){var o=e.call(this,i,r,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},ma.text=function(t){return ya(this,"text",t,_a)},ma.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ma.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),ft(this,function(i){i[n][e].ease=t}))},ma.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ft(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},ma.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ft(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},ma.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=ga,s=fa;try{fa=n,ft(this,function(e,r,o){ga=e[i][n],t.call(e,e.__data__,r,o)})}finally{ga=r,fa=s}}else ft(this,function(r){var s=r[i][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},ma.transition=function(){for(var t,e,n,i=this.id,r=++va,o=this.namespace,s=[],a=0,u=this.length;a<u;a++){s.push(t=[]);for(var l,c=0,h=(l=this[a]).length;c<h;c++)(e=l[c])&&Ca(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return pa(s,o,r)},o.svg.axis=function(){var t,e=o.scale.linear(),n=xa,i=6,r=6,s=3,u=[10],l=null;function c(a){a.each(function(){var a,c=o.select(this),h=this.__chart__||e,d=this.__chart__=e.copy(),p=null==l?d.ticks?d.ticks.apply(d,u):d.domain():l,f=null==t?d.tickFormat?d.tickFormat.apply(d,u):L:t,g=c.selectAll(".tick").data(p,d),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Et),v=o.transition(g.exit()).style("opacity",Et).remove(),y=o.transition(g.order()).style("opacity",1),_=Math.max(i,0)+s,b=hs(d),C=c.selectAll(".domain").data([0]),x=(C.enter().append("path").attr("class","domain"),o.transition(C));m.append("line"),m.append("text");var w,S,T,M,E=m.select("line"),P=y.select("line"),D=g.select("text").text(f),A=m.select("text"),I=y.select("text"),k="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=Sa,w="x",T="y",S="x2",M="y2",D.attr("dy",k<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+k*r+"V0H"+b[1]+"V"+k*r)):(a=Ta,w="y",T="x",S="y2",M="x2",D.attr("dy",".32em").style("text-anchor",k<0?"end":"start"),x.attr("d","M"+k*r+","+b[0]+"H0V"+b[1]+"H"+k*r)),E.attr(M,k*i),A.attr(T,k*_),P.attr(S,0).attr(M,k*i),I.attr(w,0).attr(T,k*_),d.rangeBand){var $=d,R=$.rangeBand()/2;h=d=function(t){return $(t)+R}}else h.rangeBand?h=d:v.call(a,d,h);m.call(a,h,d),y.call(a,d,d)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in wa?t+"":xa,c):n},c.ticks=function(){return arguments.length?(u=a(arguments),c):u},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(i=+t,r=+arguments[e-1],c):i},c.innerTickSize=function(t){return arguments.length?(i=+t,c):i},c.outerTickSize=function(t){return arguments.length?(r=+t,c):r},c.tickPadding=function(t){return arguments.length?(s=+t,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var xa="bottom",wa={top:1,right:1,bottom:1,left:1};function Sa(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ta(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}o.svg.brush=function(){var t,e,n=B(d,"brushstart","brush","brushend"),i=null,r=null,s=[0,0],a=[0,0],u=!0,l=!0,h=Ea[0];function d(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,L);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ma[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",d.empty()?"none":null);var s,a=o.transition(t),u=o.transition(e);i&&(s=hs(i),u.attr("x",s[0]).attr("width",s[1]-s[0]),f(a)),r&&(s=hs(r),u.attr("y",s[0]).attr("height",s[1]-s[0]),g(a)),p(a)})}function p(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+s[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"})}function f(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function m(){var h,m,v=this,y=o.select(o.event.target),_=n.of(v,arguments),b=o.select(v),C=y.datum(),x=!/^(n|s)$/.test(C)&&i,w=!/^(e|w)$/.test(C)&&r,S=y.classed("extent"),T=wt(v),M=o.mouse(v),E=o.select(c(v)).on("keydown.brush",function(){32==o.event.keyCode&&(S||(h=null,M[0]-=s[1],M[1]-=a[1],S=2),V())}).on("keyup.brush",function(){32==o.event.keyCode&&2==S&&(M[0]+=s[1],M[1]+=a[1],S=0,V())});if(o.event.changedTouches?E.on("touchmove.brush",A).on("touchend.brush",k):E.on("mousemove.brush",A).on("mouseup.brush",k),b.interrupt().selectAll("*").interrupt(),S)M[0]=s[0]-M[0],M[1]=a[0]-M[1];else if(C){var P=+/w$/.test(C),D=+/^n/.test(C);m=[s[1-P]-M[0],a[1-D]-M[1]],M[0]=s[P],M[1]=a[D]}else o.event.altKey&&(h=M.slice());function A(){var t=o.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),S||(o.event.altKey?(h||(h=[(s[0]+s[1])/2,(a[0]+a[1])/2]),M[0]=s[+(t[0]<h[0])],M[1]=a[+(t[1]<h[1])]):h=null),x&&I(t,i,0)&&(f(b),e=!0),w&&I(t,r,1)&&(g(b),e=!0),e&&(p(b),_({type:"brush",mode:S?"move":"resize"}))}function I(n,i,r){var o,c,d=hs(i),p=d[0],f=d[1],g=M[r],m=r?a:s,v=m[1]-m[0];if(S&&(p-=g,f-=v+g),o=(r?l:u)?Math.max(p,Math.min(f,n[r])):n[r],S?c=(o+=g)+v:(h&&(g=Math.max(p,Math.min(f,2*h[r]-o))),g<o?(c=o,o=g):c=g),m[0]!=o||m[1]!=c)return r?e=null:t=null,m[0]=o,m[1]=c,!0}function k(){A(),b.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),o.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),_({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),_({type:"brushstart"}),A()}return d.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:s,y:a,i:t,j:e},u=this.__chart__||r;this.__chart__=r,fa?o.select(this).transition().each("start.brush",function(){t=u.i,e=u.j,s=u.x,a=u.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=Yr(s,r.x),o=Yr(a,r.y);return t=e=null,function(t){s=r.x=n(t),a=r.y=o(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=r.i,e=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},d.x=function(t){return arguments.length?(h=Ea[!(i=t)<<1|!r],d):i},d.y=function(t){return arguments.length?(h=Ea[!i<<1|!(r=t)],d):r},d.clamp=function(t){return arguments.length?(i&&r?(u=!!t[0],l=!!t[1]):i?u=!!t:r&&(l=!!t),d):i&&r?[u,l]:i?u:r?l:null},d.extent=function(n){var o,u,l,c,h;return arguments.length?(i&&(o=n[0],u=n[1],r&&(o=o[0],u=u[0]),t=[o,u],i.invert&&(o=i(o),u=i(u)),u<o&&(h=o,o=u,u=h),o==s[0]&&u==s[1]||(s=[o,u])),r&&(l=n[0],c=n[1],i&&(l=l[1],c=c[1]),e=[l,c],r.invert&&(l=r(l),c=r(c)),c<l&&(h=l,l=c,c=h),l==a[0]&&c==a[1]||(a=[l,c])),d):(i&&(t?(o=t[0],u=t[1]):(o=s[0],u=s[1],i.invert&&(o=i.invert(o),u=i.invert(u)),u<o&&(h=o,o=u,u=h))),r&&(e?(l=e[0],c=e[1]):(l=a[0],c=a[1],r.invert&&(l=r.invert(l),c=r.invert(c)),c<l&&(h=l,l=c,c=h))),i&&r?[[o,l],[u,c]]:i?[o,u]:r&&[l,c])},d.clear=function(){return d.empty()||(s=[0,0],a=[0,0],t=e=null),d},d.empty=function(){return!!i&&s[0]==s[1]||!!r&&a[0]==a[1]},o.rebind(d,n,"on")};var Ma={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ea=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Pa=Ne.format=dn.timeFormat,Da=Pa.utc,Aa=Da("%Y-%m-%dT%H:%M:%S.%LZ");function Ia(t){return t.toISOString()}function ka(t,e,n){function i(e){return t(e)}function r(t,n){var i=(t[1]-t[0])/n,r=o.bisect(Ra,i);return r==Ra.length?[e.year,_s(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/Ra[r-1]<Ra[r]/i?r-1:r]:[Na,_s(t,n)[2]]}return i.invert=function(e){return $a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map($a)},i.nice=function(t,e){var n=i.domain(),o=cs(n),s=null==t?r(o,10):"number"==typeof t&&r(o,t);function a(n){return!isNaN(n)&&!t.range(n,$a(+n+1),e).length}return s&&(t=s[0],e=s[1]),i.domain(ps(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=$a(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=$a(+e+1);return e}}:t))},i.ticks=function(t,e){var n=cs(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],$a(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return ka(t.copy(),e,n)},vs(i,t)}function $a(t){return new Date(t)}Pa.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ia:Aa,Ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ia.toString=Aa.toString,Ne.second=Ue(function(t){return new Fe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ne.seconds=Ne.second.range,Ne.seconds.utc=Ne.second.utc.range,Ne.minute=Ue(function(t){return new Fe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ne.minutes=Ne.minute.range,Ne.minutes.utc=Ne.minute.utc.range,Ne.hour=Ue(function(t){var e=t.getTimezoneOffset()/60;return new Fe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ne.hours=Ne.hour.range,Ne.hours.utc=Ne.hour.utc.range,Ne.month=Ue(function(t){return(t=Ne.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ne.months=Ne.month.range,Ne.months.utc=Ne.month.utc.range;var Ra=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],La=[[Ne.second,1],[Ne.second,5],[Ne.second,15],[Ne.second,30],[Ne.minute,1],[Ne.minute,5],[Ne.minute,15],[Ne.minute,30],[Ne.hour,1],[Ne.hour,3],[Ne.hour,6],[Ne.hour,12],[Ne.day,1],[Ne.day,2],[Ne.week,1],[Ne.month,1],[Ne.month,3],[Ne.year,1]],Oa=Pa.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Kn]]),Na={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map($a)},floor:L,ceil:L};La.year=Ne.year,Ne.scale=function(){return ka(o.scale.linear(),La,Oa)};var Fa=La.map(function(t){return[t[0].utc,t[1]]}),za=Da.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Kn]]);function Ha(t){return JSON.parse(t.responseText)}function Ua(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}Fa.year=Ne.year.utc,Ne.scale.utc=function(){return ka(o.scale.linear(),Fa,za)},o.text=Ce(function(t){return t.responseText}),o.json=function(t,e){return xe(t,"application/json",Ha,e)},o.html=function(t,e){return xe(t,"text/html",Ua,e)},o.xml=Ce(function(t){return t.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}()},function(t,e,n){var i,r,o,s;s=function(t){var e,n,i,r;function o(e,n){var i,r,o,a=e.nodeName.toLowerCase();return"area"===a?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(!!(o=t("img[usemap='#"+r+"']")[0])&&s(o))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||n)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return o(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),i=isNaN(n);return(i||n>=0)&&o(e,!i)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(n=t.fn.removeData,function(e){return arguments.length?n.call(this,t.camelCase(e)):n.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(r=t.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):r.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var a=0,u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,u={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){var r,o;t.isFunction(i)?u[e]=(r=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):u[e]=i}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},u,{constructor:s,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,s=r.length;o<s;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=u.call(arguments,1),a=this;return r=!o&&s.length?t.widget.extend.apply(null,[r].concat(s)):r,o?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.delegate(c,l,a):n.bind(l,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;var l=!1;t(document).mouseup(function(){l=!1});t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!l){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),l=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),l=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){t.ui=t.ui||{};var e,n,i=Math.max,r=Math.abs,o=Math.round,s=/left|center|right/,a=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,h=t.fn.position;function d(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function p(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return h.apply(this,arguments);e=t.extend({},e);var c,f,g,m,v,y,_,b,C=t(e.of),x=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(x),S=(e.collision||"flip").split(" "),T={};return y=9===(b=(_=C)[0]).nodeType?{width:_.width(),height:_.height(),offset:{top:0,left:0}}:t.isWindow(b)?{width:_.width(),height:_.height(),offset:{top:_.scrollTop(),left:_.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:_.outerWidth(),height:_.outerHeight(),offset:_.offset()},C[0].preventDefault&&(e.at="left top"),f=y.width,g=y.height,m=y.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=u.exec(i[0]),n=u.exec(i[1]),T[this]=[t?t[0]:0,n?n[0]:0],e[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),c=d(T.at,f,g),v.left+=c[0],v.top+=c[1],this.each(function(){var s,a,u=t(this),l=u.outerWidth(),h=u.outerHeight(),y=p(this,"marginLeft"),_=p(this,"marginTop"),b=l+y+p(this,"marginRight")+w.width,M=h+_+p(this,"marginBottom")+w.height,E=t.extend({},v),P=d(T.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?E.left-=l:"center"===e.my[0]&&(E.left-=l/2),"bottom"===e.my[1]?E.top-=h:"center"===e.my[1]&&(E.top-=h/2),E.left+=P[0],E.top+=P[1],n||(E.left=o(E.left),E.top=o(E.top)),s={marginLeft:y,marginTop:_},t.each(["left","top"],function(n,i){t.ui.position[S[n]]&&t.ui.position[S[n]][i](E,{targetWidth:f,targetHeight:g,elemWidth:l,elemHeight:h,collisionPosition:s,collisionWidth:b,collisionHeight:M,offset:[c[0]+P[0],c[1]+P[1]],my:e.my,at:e.at,within:x,elem:u})}),e.using&&(a=function(t){var n=m.left-E.left,o=n+f-l,s=m.top-E.top,a=s+g-h,c={target:{element:C,left:m.left,top:m.top,width:f,height:g},element:{element:u,left:E.left,top:E.top,width:l,height:h},horizontal:o<0?"left":n>0?"right":"center",vertical:a<0?"top":s>0?"bottom":"middle"};f<l&&r(n+o)<f&&(c.horizontal="center"),g<h&&r(s+a)<g&&(c.vertical="middle"),i(r(n),r(o))>i(r(s),r(a))?c.important="horizontal":c.important="vertical",e.using.call(this,t,c)}),u.offset(t.extend(E,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,u=o-a,l=a+e.collisionWidth-s-o;e.collisionWidth>s?u>0&&l<=0?(n=t.left+u+e.collisionWidth-s-o,t.left+=u-n):t.left=l>0&&u<=0?o:u>l?o+s-e.collisionWidth:o:u>0?t.left+=u:l>0?t.left-=l:t.left=i(t.left-a,t.left)},top:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,u=o-a,l=a+e.collisionHeight-s-o;e.collisionHeight>s?u>0&&l<=0?(n=t.top+u+e.collisionHeight-s-o,t.top+=u-n):t.top=l>0&&u<=0?o:u>l?o+s-e.collisionHeight:o:u>0?t.top+=u:l>0?t.top-=l:t.top=i(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,h=l+e.collisionWidth-a-u,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+d+p+f+e.collisionWidth-a-s)<0||n<r(c))&&(t.left+=d+p+f):h>0&&((i=t.left-e.collisionPosition.marginLeft+d+p+f-u)>0||r(i)<h)&&(t.left+=d+p+f)},top:function(t,e){var n,i,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,h=l+e.collisionHeight-a-u,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(i=t.top+d+p+f+e.collisionHeight-a-s,t.top+d+p+f>c&&(i<0||i<r(c))&&(t.top+=d+p+f)):h>0&&(n=t.top-e.collisionPosition.marginTop+d+p+f-u,t.top+d+p+f>h&&(n>0||r(n)<h)&&(t.top+=d+p+f))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,r,o,s,a=document.getElementsByTagName("body")[0],u=document.createElement("div");for(s in e=document.createElement(a?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)e.style[s]=r[s];e.appendChild(u),(i=a||document.documentElement).insertBefore(e,i.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=t(u).offset().left,n=o>10&&o<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():r.next(),u={oldHeader:i,oldPanel:i.next(),newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,n){var i,r,o,s=this,a=0,u=t.length&&(!e.length||t.index()<e.index()),l=this.options.animate||{},c=u&&l.down||l,h=function(){s._toggleComplete(n)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||l.easing,o=o||c.duration||l.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?a+=n.now:"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,r,o,s,a=!0;function u(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,s=new RegExp("^"+u(r),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return s.test(t(this).text())}),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),s=new RegExp("^"+u(r),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return s.test(t(this).text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n=this,i=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}});t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});t.ui.autocomplete;var c,h="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",p=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},f=function(e){var n=e.name,i=e.form,r=t([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,p),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===c&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];f(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),c=this,e.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?f(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(d),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var g;t.ui.button;function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=v(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",y)}function y(){t.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function _(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.11.1"}}),t.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return _(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?v(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,a,u,l,c,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),_(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,u/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,u=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),a=this._getMinMaxDate(u,"max"),_(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,a)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,r,o,s,a,u;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(_(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),u):n.dpDiv[a||"show"](a?u:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,g=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&y.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>u&&u>r?Math.abs(n.left+r-u):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,s,a,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,_=!1,b=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},C=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(u).match(r);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},x=function(e,i,r){var o=-1,s=t.map(b(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];if(n.substr(u,i.length).toLowerCase()===i.toLowerCase())return o=e[0],u+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+u},w=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;r<e.length;r++)if(_)"'"!==e.charAt(r)||b("'")?w():_=!1;else switch(e.charAt(r)){case"d":v=C("d");break;case"D":x("D",h,d);break;case"o":y=C("o");break;case"m":m=C("m");break;case"M":m=x("M",p,f);break;case"y":g=C("y");break;case"@":g=(a=new Date(C("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((C("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?w():_=!0;break;default:w()}if(u<n.length&&(s=n.substr(u),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;;){if(v<=(o=this._getDaysInMonth(g,m-1)))break;m++,v-=o}if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,u=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||u("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=u("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=a.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}u=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,u,l,c,h,d,p,f,g,m,v,y,_,b,C,x,w,S,T,M,E,P,D,A,I,k,$,R,L,O,N,F,z,H=new Date,U=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),V=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),X=1!==W[0]||1!==W[1],Y=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-G,tt=t.drawYear;if(J<0&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-W[0]*W[1]+1,Z.getDate())),e=K&&e<K?K:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-Q,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=q?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+Q,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?Y:U,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?u:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(V?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",x=0;x<W[0];x++){for(w="",this.maxRows=4,S=0;S<W[1];S++){if(T=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),M=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",W[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",M=" ui-corner-"+(V?"right":"left");break;case W[1]-1:E+=" ui-datepicker-group-last",M=" ui-corner-"+(V?"left":"right");break;default:E+=" ui-datepicker-group-middle",M=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===x?V?o:i:"")+(/all|right/.test(M)&&0===x?V?i:o:"")+this._generateMonthYearHeader(t,J,tt,K,Z,x>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;C<7;C++)D=(C+c)%7,P+="<th scope='col'"+((C+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+p[D]+"</span></th>";for(E+=P+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),I=(this._getFirstDayOfMonth(tt,J)-c+7)%7,k=Math.ceil((I+A)/7),$=X&&this.maxRows>k?this.maxRows:k,this.maxRows=$,R=this._daylightSavingAdjust(new Date(tt,J,1-I)),L=0;L<$;L++){for(E+="<tr>",O=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(R)+"</td>":"",C=0;C<7;C++)N=m?m.apply(t.input?t.input[0]:null,[R]):[!0,""],z=(F=R.getMonth()!==J)&&!y||!N[0]||K&&R<K||Z&&R>Z,O+="<td class='"+((C+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(R.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||_.getTime()===R.getTime()&&_.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+N[1]+(R.getTime()===Y.getTime()?" "+this._currentClass:"")+(R.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===U.getTime()?" ui-state-highlight":"")+(R.getTime()===Y.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);E+=O+"</tr>"}++J>11&&(J=0,tt++),w+=E+="</tbody></table>"+(X?"</div>"+(W[0]>0&&S===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=w}return b+=l,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var u,l,c,h,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new m,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.1";t.datepicker;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(u=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n,i){var r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,u,l,c,h,d,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=(u=i.snapElements[d].left)+i.snapElements[d].width,h=(c=i.snapElements[d].top)+i.snapElements[d].height,v<u-g||m>l+g||_<c-g||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(c-_)<=g,o=Math.abs(h-y)<=g,s=Math.abs(u-v)<=g,a=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(h-_)<=g,s=Math.abs(u-m)<=g,a=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top-i.margins.top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n,i,r,o=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),(r=t("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,u,l=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,u=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(s,{top:u,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),i&&l&&(t.left=a-e.maxWidth),s&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,u={width:n.size.width-a,height:n.size.height-s},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,u=t(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(u.containerElement=t(d),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,s=u._hasScroll(d,"left")?d.scrollWidth:o,a=u._hasScroll(d)?d.scrollHeight:r,u.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,u=s.containerOffset,l=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=u),l.left<(s._helper?u.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-u.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?u.left:0),l.top<(s._helper?u.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-u.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?u.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-u.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-u.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),u=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},u=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(r[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?u(r.alsoResize):t.each(r.alsoResize,function(t,e){u(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,u="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,h=Math.round((r.width-o.width)/l)*l,d=Math.round((r.height-o.height)/c)*c,p=o.width+h,f=o.height+d,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=u,v&&(p+=l),y&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-h):((f-c<=0||p-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=s.top-d):(f=c-e.height,n.size.height=f,n.position.top=s.top+o.height-f),p-l>0?(n.size.width=p,n.position.left=s.left-h):(p=c-e.height,n.size.width=p,n.position.left=s.left+o.width-p))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},t(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){t(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),u=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(u>=0?"+":"")+u,of:e.window},t(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=r.is(":data(ui-resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left,s=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,u=s+e.helperProportions.height,l=n.offset.left,c=n.offset.top,h=l+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return l<=o&&a<=h&&c<=s&&u<=d;case"intersect":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<s+e.helperProportions.height/2&&u-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(s>=c&&s<=d||u>=c&&u<=d||s<c&&u>d)&&(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};t.ui.droppable;var b,C=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},l=t("<p>")[0],c=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function d(e){var i=o(),a=i._rgba=[];return e=e.toLowerCase(),c(r,function(t,n){var r,o=n.re.exec(e),u=o&&n.parse(o),l=n.space||"rgba";if(u)return r=i[l](u),i[s[l].cache]=r[s[l].cache],a=i._rgba=r._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=l.style.backgroundColor.indexOf("rgba")>-1,c(s,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(e,i,r,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var u=this,l=t.type(e),p=this._rgba=[];return void 0!==i&&(e=[e,i,r,a],l="array"),"string"===l?this.parse(d(e)||n._default):"array"===l?(c(s.rgba.props,function(t,n){p[n.idx]=h(e[n.idx],n)}),this):"object"===l?(c(s,e instanceof o?function(t,n){e[n.cache]&&(u[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;c(i.props,function(t,n){if(!u[r]&&i.to){if("alpha"===t||null==e[t])return;u[r]=i.to(u._rgba)}u[r][n.idx]=h(e[t],n,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return c(s,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return c(s,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],u=0===this.alpha()?o("transparent"):this,l=u[r.cache]||r.to(u._rgba),d=l.slice();return n=n[r.cache],c(r.props,function(t,i){var r=i.idx,o=l[r],s=n[r],u=a[i.type]||{};null!==s&&(null===o?d[r]=s:(u.mod&&(s-o>u.mod/2?o+=u.mod:o-s>u.mod/2&&(o-=u.mod)),d[r]=h((s-o)*e+o,i)))}),this[i](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),u=Math.min(i,r,o),l=a-u,c=a+u,h=.5*c;return e=u===a?0:i===a?60*(r-o)/l+360:r===a?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:h<=.5?l/c:l/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*p(s,o,e+1/3)),Math.round(255*p(s,o,e)),Math.round(255*p(s,o,e-1/3)),r]},c(s,function(e,n){var r=n.props,s=n.cache,a=n.to,u=n.from;o.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,i=t.type(e),l="array"===i||"object"===i?e:arguments,d=this[s].slice();return c(r,function(t,e){var n=l["object"===i?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=h(n,e)}),u?((n=o(u(d)))[s]=d,n):o(d)},c(r,function(n,r){o.fn[n]||(o.fn[n]=function(o){var s,a=t.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":e,l=this[u](),c=l[r.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&r.empty?this:("string"===a&&(s=i.exec(o))&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1)),l[r.idx]=o,this[u](l)))})})}),o.hook=function(e){var n=e.split(" ");c(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=d(i)))){if(i=o(r||i),!u.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(C),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(C.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var u=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",l=u.children?s.find("*").addBack():s;l=l.map(function(){return{el:t(this),start:r(this)}}),(o=function(){t.each(n,function(t,n){e[n]&&s[n+"Class"](e[n])})})(),l=l.map(function(){return this.end=r(this.el[0]),this.diff=function(e,n){var r,o,s={};for(r in n)o=n[r],e[r]!==o&&(i[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(s[r]=o));return s}(this.start,this.end),this}),s.attr("class",a),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(s[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}var i;t.extend(t.effects,{version:"1.11.1",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data("ui-effects-"+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=n.mode,r=n.queue,o=t.effects.effect[n.effect];if(t.fx.off||!o)return i?this[i](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)});function s(e){var i=t(this),r=n.complete,s=n.mode;function a(){t.isFunction(r)&&r.call(i[0]),t.isFunction(e)&&e()}(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),a()):o.call(i[0],n,a)}return!1===r?this.each(s):this.queue(r||"fx",s)},show:(i=t.fn.show,function(t){if(n(t))return i.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),b={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){b[e]=function(e){return Math.pow(e,t+2)}}),t.extend(b,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(b,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}});t.effects,t.effects.effect.blind=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),l=e.direction||"up",c=/up|down|vertical/.test(l),h=c?"height":"width",d=c?"top":"left",p=/up|left|vertical|horizontal/.test(l),f={},g="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),a):t.effects.save(s,a),s.show(),r=(i=t.effects.createWrapper(s).css({overflow:"hidden"}))[h](),o=parseFloat(i.css(d))||0,f[h]=g?r:0,p||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[d]=g?o:r+o),g&&(i.css(h,0),p||i.css(d,o+r)),i.animate(f,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"effect"),l="hide"===u,c="show"===u,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),g=e.duration/f,m=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,_=s.queue(),b=_.length;for((c||l)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[v]=0,s.css("opacity",0).css(v,y?2*-d:2*d).animate(o,g,m)),l&&(d/=Math.pow(2,p-1)),(o={})[v]=0,i=0;i<p;i++)(r={})[v]=(y?"-=":"+=")+d,s.animate(r,g,m).animate(o,g,m),d=l?2*d:d/2;l&&((r={opacity:0})[v]=(y?"-=":"+=")+d,s.animate(r,g,m)),s.queue(function(){l&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),b>1&&_.splice.apply(_,[1,0].concat(_.splice(b,f+1))),s.dequeue()},t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],u="show"===t.effects.setMode(s,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),c=l?"height":"width",h=l?"top":"left",d={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),o=(r="IMG"===s[0].tagName?i:s)[c](),u&&(r.css(c,0),r.css(h,o/2)),d[c]=u?o:0,d[h]=u?0:o/2,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u?"pos":"neg",h={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(l,"pos"===c?-i:i),h[l]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.explode=function(e,n){var i,r,o,s,a,u,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,h=t(this),d="show"===t.effects.setMode(h,e.mode||"hide"),p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/c),g=Math.ceil(h.outerHeight()/l),m=[];function v(){m.push(this),m.length===l*c&&function(){h.css({visibility:"visible"}),t(m).remove(),d||h.hide();n()}()}for(i=0;i<l;i++)for(s=p.top+i*g,u=i-(l-1)/2,r=0;r<c;r++)o=p.left+r*f,a=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*f,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:o+(d?a*f:0),top:s+(d?u*g:0),opacity:d?0:1}).animate({left:o+(d?0:a*f),top:s+(d?0:u*g),opacity:d?1:0},e.duration||500,e.easing,v)},t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),u="show"===a,l="hide"===a,c=e.size||15,h=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=u!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[i.width(),i.height()]:[i.height(),i.width()],h&&(c=parseInt(h[1],10)/100*r[l?0:1]),u&&i.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=u?r[0]:c,v[f[1]]=u?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})},t.effects.effect.size=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],u=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==d,f=e.scale||"both",g=e.origin||["middle","center"],m=s.css("position"),v=p?a:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===d?(s.from=e.to||y,s.to=e.from||i):(s.from=e.from||("show"===d?y:i),s.to=e.to||("hide"===d?y:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},"box"!==f&&"both"!==f||(o.from.y!==o.to.y&&(v=v.concat(c),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),o.from.x!==o.to.x&&(v=v.concat(h),s.from=t.effects.setTransition(s,h,o.from.x,s.from),s.to=t.effects.setTransition(s,h,o.to.x,s.to))),"content"!==f&&"both"!==f||o.from.y!==o.to.y&&(v=v.concat(l).concat(u),s.from=t.effects.setTransition(s,l,o.from.y,s.from),s.to=t.effects.setTransition(s,l,o.to.y,s.to)),t.effects.save(s,v),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=t.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),u=a.concat(c).concat(h),s.find("*[width]").each(function(){var n=t(this),i=n.height(),r=n.width(),s=n.outerHeight(),a=n.outerWidth();p&&t.effects.save(n,u),n.from={height:i*o.from.y,width:r*o.from.x,outerHeight:s*o.from.y,outerWidth:a*o.from.x},n.to={height:i*o.to.y,width:r*o.to.x,outerHeight:i*o.to.y,outerWidth:r*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,c,o.from.y,n.from),n.to=t.effects.setTransition(n,c,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,h,o.from.x,n.from),n.to=t.effects.setTransition(n,h,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){p&&t.effects.restore(n,u)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),t.effects.restore(s,v),p||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),r=t?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(s),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",u=e.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c="horizontal"!==a?s/100:1,h="vertical"!==a?s/100:1;r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=u||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),r.to={height:l.height*c,width:l.width*h,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*h},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?u:{height:u.height*a,width:u.width*a,outerHeight:u.outerHeight*a,outerWidth:u.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,u=s||"hide"===o,l=2*(e.times||5)+(u?1:0),c=e.duration/l,h=0,d=r.queue(),p=d.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),h=1),i=1;i<l;i++)r.animate({opacity:h},c,e.easing),h=1-h;r.animate({opacity:h},c,e.easing),r.queue(function(){a&&r.hide(),n()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),r.dequeue()},t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",u=e.distance||20,l=e.times||3,c=2*l+1,h=Math.round(e.duration/c),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),f[d]=(p?"-=":"+=")+u,g[d]=(p?"+=":"-=")+2*u,m[d]=(p?"-=":"+=")+2*u,r.animate(f,h,e.easing),i=1;i<l;i++)r.animate(g,h,e.easing).animate(m,h,e.easing);r.animate(g,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u,h={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(l,c?isNaN(i)?"-"+i:-i:i),h[l]=(a?c?"+=":"-=":c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,u=o?s.scrollLeft():0,l=r.offset(),c={top:l.top-a,left:l.left-u,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-u,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),n()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(n.options.filter,n.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,u=e.pageY;return o>a&&(n=a,a=o,o=n),s>u&&(n=u,u=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:u-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?l=!(n.left>a||n.right<o||n.top>u||n.bottom<s):"fit"===r.tolerance&&(l=n.left>o&&n.right<a&&n.top>s&&n.bottom<u),l?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,n=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){o.optgroup!==r&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(t){t.preventDefault()},click:"_toggle",keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var r=t(i),o=r.parent("optgroup");n.push({element:r,index:e,value:r.attr("value"),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,u,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-l.values(e));(r>n||r===n&&(e===l._lastChangedValue||l.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&((r=this.values())[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==o&&this.values(e,n))):n!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,u=this,l=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(u.values(i)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===i&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,u=a+t.height,l=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+l>a&&i+l<u,d="y"===this.options.axis||e+c>o&&e+c<s,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(i=(r=t(u[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(l);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,u,l,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,l=(a=h[n][0]).length;i<l;i++)(u=t(a[i])).data(this.widgetName+"-item",s),c.push({item:u,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,r,o,s,a,u,l,c,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[s],l=!1,e[h]-u>this.items[i][a]/2&&(l=!0),Math.abs(e[h]-u)<r&&(r=Math.abs(e[h]-u),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});function x(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}var w;t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);void 0!==r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:x(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:x(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:x(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:x(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:x(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());x(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(t){var e,n;e=(t=t.cloneNode(!1)).href.replace(w,""),n=location.href.replace(w,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){var i=this.tabs.length-1;for(;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),u=t(i).closest("li"),l=u.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=u.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&u.data("ui-tabs-aria-controls",l),u.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)!0===e||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),u=i.length?this._getPanelForTab(i):t(),l={oldTab:i,oldPanel:u,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),u.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function s(){i.running=!1,i._trigger("activate",e,n)}function a(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,s):(r.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){s.html(t),i._trigger("load",n,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;if("disabled"===e)return this[n?"_disable":"_enable"](),void(this.options[e]=n);this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i)return this._open(e,t,i);(n=i.call(t[0],function(n){t.data("ui-tooltip-open")&&r._delay(function(){e&&(e.type=o),this._open(e,t,n)})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,u=t.extend({},this.options.position);function l(t){u.of=t,r.is(":hidden")||r.position(u)}i&&((r=this._find(n)).length?r.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),this._addDescribedBy(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(a=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=i,t("<div>").html(a).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(t.extend({of:n},this.options.position)),this.hiding=!1,this.closing=!1,r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:r}),o={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}},n[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(r)}),e&&"mouseover"!==e.type||(o.mouseleave="close"),e&&"focusin"!==e.type||(o.focusout="close"),this._on(!0,n,o)))},close:function(e){var n=this,i=t(e?e.currentTarget:this.element),r=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),this.hiding=!0,r.stop(!0),this._hide(r,this.options.hide,function(){n._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:r}),this.hiding||(this.closing=!1))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var n=e.data("ui-tooltip-id");return n?t("#"+n):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0),t("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})},r=[n(77)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(7),o=window.location.pathname;-1==o.indexOf(".html",o.length-".html".length)&&(o+=$("#i18n").attr("page"));o+=".property";var s=new RegExp("%\\w+","");new i.Url(o).get(null,function(t){var e=r.parseProperties(t);$("head").find("title").each(function(t){var n=$(this).text(),i=s.exec($(this).text());if(null!=i)for(var r=0;r<i.length;r++){var o=i[r].substring(1,n.length);null!=e[o]?$(this).text(n.replace(i[r],e[o])):$(this).text(n.replace(i[r],"[Not localized "+n+"]"))}}),$("body").find("*").each(function(t){for(var n=this.childNodes[0];null!=n;){if(3==n.nodeType){var i=s.exec(n.data);if(null!=i)for(var r=0;r<i.length;r++){var o=i[r].substring(1,n.data.length);null!=e[o]?n.nodeValue=n.nodeValue.replace(i[r],e[o]):n.nodeValue=n.nodeValue.replace(i[r],"[Not localized "+n.data+"]")}}n=n.nextSibling}var a=$(this).attr("title");if(a&&null!=(l=s.exec(a)))for(r=0;r<l.length;r++){var u=l[r].substring(1,a.length);null!=e[u]?$(this).attr("title",a.replace(l[r],e[u])):$(this).attr("title",a.replace(l[r],"[Not localized "+a+"]"))}var l,c=$(this).attr("alt");if(c&&null!=(l=s.exec(c)))for(r=0;r<l.length;r++){var h=l[r].substring(1,c.length);null!=e[h]?$(this).attr("alt",c.replace(l[r],e[h])):$(this).attr("alt",c.replace(l[r],"[Not localized "+a+"]"))}})},"text",function(t,e,n){console.log("Unable to retrieve localization resource : "+this.url+" due to "+n)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(10),s=n(2).Properties.APPMSG,a=function(t){function e(){var n=t.call(this)||this;return n.helpFrame=null,$(document).click(function(t){e._clickedHelpButton&&(e._clickedHelpButton==t.target||$(e._clickedHelpButton).has(t.target).length>0)||null!=n.helpFrame&&n.hideHelp()}),n}return i.__extends(e,t),e.prototype.setHelpForDialog=function(t,n){var i=this;$('<button><span class="ui-icon"></span></button>').addClass("help-context").addClass("help-context-dialog").attr("title",s.HelpContext).attr("id",n).click(function(n){n.preventDefault(),e._clickedHelpButton=this,i.displayHelp($(this).attr("id"),{of:$(t),my:"left+15 top",at:"right top",collision:"none"},{width:"auto",height:$(t).height()})}).prependTo($(t).children(".ui-dialog-buttonpane"))},e.prototype.setHelp=function(t,n,i){var r=$(t).find(".help-context");if(r.length>0)r.attr("id",n);else{var o=this;if($(t).hasClass("ui-dialog"))this.setHelpForDialog(t,n);else if($(t).hasClass("help-button")||$(t).is("button"))$(t).addClass("help-context").attr("id",n).click(function(t){t.preventDefault(),e._clickedHelpButton=this;var n={of:$(this),my:"left top+15",at:"left bottom",collision:"none"};i&&(n=i),o.displayHelp($(this).attr("id"),n)});else $('<button><span class="ui-icon"></span></button>').attr("title",s.HelpContext).addClass("help-context").addClass("help-context-label").attr("id",n).appendTo($(t)).click(function(t){t.preventDefault(),e._clickedHelpButton=this;var n={of:$(this),my:"left top+15",at:"left bottom",collision:"none"};i&&(n=i),o.displayHelp($(this).attr("id"),n,{width:e._savedWidth,height:e._savedHeight})})}},e.prototype._openInNewTab=function(t){if("function"!=typeof displayHelp){var e=window.open(t,"_blank");e?e.focus():alert(s.AllowPopups)}else displayHelp(t)},e.prototype.openHelp=function(){var t=this;"function"!=typeof displayHelp?$.get(o.Url.getUrl("/help/overview"),null,function(e){t._openInNewTab(e)}).fail(function(e,n,i){t.emit("failed",{href:"overview",server_error:i})}):displayHelp()},e.prototype.displayHelp=function(t,n,i){null!=this.helpFrame&&this.hideHelp(),this.helpFrame=$("<div>").css("overflow","hidden");var r=$("<iframe>").appendTo($(this.helpFrame)).attr("tabindex","1");$(document.body).append($(this.helpFrame)),this.helpFrame=$(this.helpFrame).dialog({autoOpen:!0,width:i&&i.width?i.width:"auto",height:i&&i.height?i.height:"auto",title:s.HelpContext,closeText:s.Close_button,dialogClass:"cshelp-dialog",position:n,resize:function(t,n){e._savedWidth=n.size.width,e._savedHeight=n.size.height}});var a=setTimeout(function(){var t=$(r).contents().find("body");$("<p>").text(s.PleaseWait).appendTo(t)},50),u=this;$.get(o.Url.getUrl("/help/context"),{id:t},function(t){setTimeout(function(){clearTimeout(a);var e=r[0].contentDocument||r[0].contentWindow.document;e.write(t),e.close();var n=$(r).contents().find("title"),i=$(n).text();i&&i.length>0&&$(u.helpFrame).dialog("option","title",i),$(r).contents().find("a").each(function(){$(this).click(function(t){t.preventDefault(),u._openInNewTab($(this).attr("href"))})})},30)}).fail(function(t,e,n){clearTimeout(a);var i=$(r).contents().find("body");i.empty();var o=""==n?e:n;$("<p>").text(o).appendTo(i)})},e.prototype.hideHelp=function(){$(this.helpFrame).remove(),this.helpFrame=null},e}(r.Evented);e.HelpSystem=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(39),s=function(t){function e(e,n,i,r){var s=t.call(this)||this;return $(e).addClass("sidenav"),s.sidenav=e,s.menu=new o.Menu(n[0]),$(i).click(function(){return s.open()}),$(s.sidenav).find(".closebtn").click(function(){return s.close()}).attr("href","javascript:void(0)"),s.autoclose=r||!0,s.menu.on("clicked",function(t){s.autoclose&&s.close()}),$(document).keyup(function(t){27===t.keyCode&&s.close()}),s}return i.__extends(e,t),e.prototype.getMenu=function(){return this.menu},e.prototype.open=function(){var t=this;$(this.sidenav).animate({width:200},500,function(){t.emit("opened",t)})},e.prototype.close=function(){var t=this;$(this.sidenav).animate({width:0},500,function(){t.emit("closed",t)})},e}(r.Evented);e.Sidenav=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(){var e=t.call(this)||this;return e.entries={},e}return i.__extends(e,t),e.prototype.add=function(t,e){e.key=t,this.entries[t]=e},e.prototype.remove=function(t){delete this.entries[t]},e.prototype.get=function(t){var e=RegExp(this.replaceLatinsDiacritics(t),"i"),n=new Array;for(var i in this.entries)e.test(this.replaceLatinsDiacritics(this.entries[i].label))&&n.push(this.entries[i]);return n},e.prototype.clear=function(){this.entries={}},e.prototype.notifySelectedEntry=function(t){this.emit("selectionChanged",t)},e.prototype.replaceLatinsDiacritics=function(t){var e=[["a",/[\u00AA\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5]/g],["A",/[\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5]/g],["ae",/[\u00E6]/g],["Ae",/[\u00C6]/g],["c",/[\u00E7]/g],["C",/[\u00C7]/g],["d",/[\u00F0]/g],["D",/[\u00D0]/g],["e",/[\u00E8\u00E9\u00EA\u00EB]/g],["E",/[\u00C8\u00C9\u00CA\u00CB\u1EBA]/g],["i",/[\u00EC\u00ED\u00EE\u00EF]/g],["I",/[\u00CC\u00CD\u00CE\u00CF]/g],["n",/[\u00F1]/g],["N",/[\u00D1\u1E44]/g],["o",/[\u00BA\u00F2\u00F3\u00F4\u00F5\u00F6\u00F8]/g],["O",/[\u00D2\u00D3\u00D4\u00D5\u00D6\u00D8]/g],["Oe",/[\u0152]/g],["oe",/[\u0153]/g],["ss",/[\u00DF]/g],["T",/[\u1E6C]/g],["Th",/[\u00DE]/g],["th",/[\u00FE]/g],["u",/[\u00F9\u00FA\u00FB\u00FC\u1EE7]/g],["U",/[\u00D9\u00DA\u00DB\u00DC]/g],["W",/[\u1E84]/g],["X",/[\u1E8C]/g],["y",/[\u00FD\u00FF]/g],["Y",/[\u00DD\u0178]/g]],n=[["A",/[\u0100\u0102\u0104\u01CD\u01FA\u0200\u0202\u023A\u1E00\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6]/g],["a",/[\u0101\u0103\u0105\u01CE\u01FB\u0201\u0203\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7]/g],["Ae",/[\u01FC]/g],["ae",/[\u01FD]/g],["B",/[\u1E02\u1E04\u1E06]/g],["b",/[\u1E03\u1E05\u1E07]/g],["C",/[\u0106\u0108\u010A\u010C\u023B\u1E08]/g],["c",/[\u0107\u0109\u010B\u010D\u023C\u1E09]/g],["D",/[\u010E\u0110\u1E0A\u1E0C\u1E0E\u1E10\u1E12]/g],["d",/[\u010F\u0111\u1E0B\u1E0D\u1E0F\u1E11\u1E13]/g],["DZ",/[\u01C4\u01F1]/g],["DZ",/[\u01C5\u01F2]/g],["dz",/[\u01C6\u01F3]/g],["E",/[\u0112\u0114\u0116\u0118\u011A\u0204\u0206\u0228\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6]/g],["e",/[\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u0229\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7]/g],["f",/[\u0192\u1E1F]/g],["F",/[\u1E1E]/g],["G",/[\u011C\u011E\u0120\u0122\u01F4\u1E20]/g],["g",/[\u011D\u011F\u0121\u0123\u01F5\u1E21]/g],["H",/[\u0124\u0126\u1E22\u1E24\u1E26\u1E28\u1E2A]/g],["h",/[\u0125\u0127\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96]/g],["I",/[\u0128\u012A\u012C\u012E\u0130\u01CF\u0208\u020A\u1E2C\u1E2E\u1EC8\u1ECA]/g],["i",/[\u0129\u012B\u012D\u012F\u0131\u01D0\u0209\u020B\u1E2D\u1E2F\u1EC9\u1ECB]/g],["IJ",/[\u0132]/g],["ij",/[\u0133]/g],["J",/[\u0134]/g],["j",/[\u0135]/g],["K",/[\u0136\u1E30\u1E32\u1E34]/g],["k",/[\u0137\u1E31\u1E33\u1E35]/g],["L",/[\u0139\u013B\u013D\u013F\u0141\u023D\u1E36\u1E38\u1E3A\u1E3C]/g],["l",/[\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D]/g],["LJ",/[\u01C7]/g],["Lj",/[\u01C8]/g],["lj",/[\u01C9]/g],["M",/[\u1E3E\u1E40\u1E42]/g],["m",/[\u1E3F\u1E41\u1E43]/g],["N",/[\u0143\u0145\u0147\u01F8\u1E44\u1E46\u1E48\u1E4A]/g],["n",/[\u0144\u0146\u0148\u01F9\u1E45\u1E47\u1E49\u1E4B]/g],["NJ",/[\u01CA]/g],["Nj",/[\u01CB]/g],["nj",/[\u01CC]/g],["O",/[\u014C\u014E\u0150\u01A0\u01D1\u01FE\u020C\u020E\u022A\u022C\u022E\u0230\u1E4C\u1E4E\u1E50\u1E52\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2]/g],["o",/[\u014D\u014F\u0151\u01A1\u01D2\u01FF\u020D\u020F\u022B\u022D\u022F\u0231\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3]/g],["P",/[\u1E54\u1E56]/g],["p",/[\u1E55\u1E57]/g],["R",/[\u0154\u0156\u0158\u0210\u0212\u1E58\u1E5A\u1E5C\u1E5E]/g],["r",/[\u0155\u0157\u0159\u0211\u0213\u1E59\u1E5B\u1E5D\u1E5F]/g],["S",/[\u015A\u015C\u015E\u0160\u0218\u1E60\u1E62\u1E64\u1E66\u1E68]/g],["s",/[\u015B\u015D\u015F\u0161\u017F\u0219\u023F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B]/g],["SS",/[\u1E9E]/g],["T",/[\u0162\u0164\u0166\u021A\u023E\u1E6A\u1E6C\u1E6E\u1E70]/g],["t",/[\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97]/g],["U",/[\u0168\u016A\u016C\u016E\u0170\u0172\u01AF\u01D3\u01D5\u01D7\u01D9\u01DB\u0214\u0216\u1E72\u1E74\u1E76\u1E78\u1E7A\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0]/g],["u",/[\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1]/g],["V",/[\u1E7C\u1E7E]/g],["v",/[\u1E7D\u1E7F]/g],["W",/[\u0174\u1E80\u1E82\u1E84\u1E86\u1E88]/g],["w",/[\u0175\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98]/g],["X",/[\u1E8A\u1E8C]/g],["x",/[\u1E8B\u1E8D]/g],["Y",/[\u0176\u0232\u1E8E\u1EF2\u1EF4\u1EF6\u1EF8]/g],["y",/[\u0177\u0233\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9]/g],["Z",/[\u0179\u017B\u017D\u1E90\u1E92\u1E94]/g],["z",/[\u017A\u017C\u017E\u0240\u1E91\u1E93\u1E95]/g]];t=t.replace(/[\u0300-\u036F\u1DC0-\u1DFF\uFE20-\uFE23\u0640-\u065E]/g,"");for(var i=0;i<e.length;i++)t=t.replace(e[i][1],e[i][0]);if(/[\u0100-\u1EFE]/g.test(t))for(i=0;i<n.length;i++)t=t.replace(n[i][1],n[i][0]);return t},e}(n(4).Evented);e.SearchSystem=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(57),o=n(2).Properties.APPMSG,s=n(9),a=n(188),u=function(e){function r(t,n){var i=e.call(this,t,n)||this;r.features["com.ibm.rational.test.lt.feature.http"]=o.httpFeature,r.features["com.ibm.rational.test.lt.feature.lt"]=o.allFeature,r.features["com.ibm.rational.test.lt.feature.socket"]=o.socketFeature,r.features["com.ibm.rational.test.lt.feature.sdksamples.socket"]=o.socketExampleFeature,r.features["com.ibm.rational.test.rtw.se"]=o.seleniumFeature,r.features["com.ibm.rational.test.lt.feature.sap"]=o.sapFeature,r.features["com.ibm.rational.test.lt.feature.citrix"]=o.citrixFeature,r.features["com.ibm.rational.test.lt.feature.tn3270"]=o.tn3270Feature,r.features["com.ibm.rational.test.lt.feature.mobileweb"]=o.mobileFeature,r.features["com.ibm.rational.test.lt.ws.feature"]=o.soaFeature,r.features["com.ibm.rational.test.rtw.rft"]=o.rftFeature,r.features["com.ibm.rational.test.rit"]=o.ritFeature,r.features["com.ibm.rational.test.lt.feature.websocket"]=o.httpFeature,r.features["com.ibm.rational.test.rtw.perfecto"]=o.perfectoFeature,r.features.Others=o.otherFeature,i.setText(o.Select_Report_label),i.session=null;var s=i;return i.setContentProvider({getElements:function(t,e){s.retrieveReportList(e)}}),i.setLabelProvider({getText:function(t){return t.label},getDescription:function(t){return t.description},getDecorations:function(t){var e=[];if(null==t.features)return e;for(var n=t.features.length>1,i=0;i<t.features.length;i++){var s=t.features[i];if(!n||"com.ibm.rational.test.lt.feature.lt"!==s){var a=r.features[s];a||(a=o.UnkownFeature),e.push(a)}}return e}}),i.on("selectionChanged",function(t){i.current=t}),i}return i.__extends(r,e),r.prototype.setReportKind=function(t){this.reportKind=t},r.prototype.setShowAllReports=function(t){this.showAllReports=t},r.prototype.getUrl=function(){if(this.session&&!this.showAllReports)return this.session.getBaseRequestUrl()+"/reports/"+this.reportKind;var t="/analytics/reports/"+this.reportKind;if(this.session)for(var e=this.session.getFeatures(),n=0;n<e.length;n++)t+=0==n?"?":"&",t+="feature="+e[n];return t},r.prototype.retrieveReportList=function(t){var e=this;this.list=[];var n=new a.GReportQueryProvider(this.reportKind,this.showAllReports);n.setSession(this.session),n.setOn(),n.modelAvailable().then(function(n){e.list=[],e.editedReport=[];for(var i=0;i<n.reports.length;i++)e.list.push(n.reports[i]),n.reports[i].isUser&&e.editedReport.push(n.reports[i]);if(0==e.list.length){var s={};s.id=r.EMPTY_REPORT_ID,s.label=o.EmptyReportLabel,s.isDefault=!0,s.isUser=!1,s.hasUnresolvedCounters=!1,e.list.push(s)}t&&t(e.list)})},r.prototype.setText=function(t){var n=t;null!=n&&""!=t||(n=o.Select_Report_label),e.prototype.setText.call(this,n)},r.prototype.selectDefaultReport=function(t){var e=this;this.session=t,this.retrieveReportList(function(){e.list&&e.list.length>0&&e.select(0)})},r.prototype.setSession=function(t){this.session=t},r.prototype.setSelectionById=function(t){var e=this;this.retrieveReportList(function(){if(e.list&&e.list.length>0){for(var n=0;n<e.list.length;n++)if(e.list[n].id===t)return void e.select(n);e.select(0)}})},r.prototype.drawFooterList=function(t){var e=this;if(!s.OFFLINE.isActivated()&&0!=this.editedReport.length){var n,i;(n=t,i=o.ManageButton_label,$("<button>").text(i).appendTo($(n)).button()).click(function(){e.openReportManagerDialog()})}},r.prototype.openReportManagerDialog=function(){var e=this;null!=this.reportManagerDialog?this._openReportManagerDialog():n.e(5).then(function(){(function(t){var i=[n(269)];(function(t){e.reportManagerDialog=new t.ReportManagerDialog,e.reportManagerDialog.on("removed",function(t){e.current&&e.current.id===t&&e.retrieveReportList(function(){e.list.length>0&&e.select(0)})}),e._openReportManagerDialog()}).apply(null,i)}).call(this,n(15)(t))}).catch(n.oe)},r.prototype._openReportManagerDialog=function(){this.reportManagerDialog.setReports(this.reportKind,this.editedReport),this.reportManagerDialog.open()},r.features={"com.ibm.rational.test.lt.feature.http":"","com.ibm.rational.test.lt.feature.lt":"","com.ibm.rational.test.lt.feature.socket":"","com.ibm.rational.test.lt.feature.sdksamples.socket":"","com.ibm.rational.test.rtw.se":"","com.ibm.rational.test.lt.feature.sap":"","com.ibm.rational.test.lt.feature.citrix":"","com.ibm.rational.test.lt.feature.tn3270":"","com.ibm.rational.test.lt.feature.mobileweb":"","com.ibm.rational.test.lt.ws.feature":"","com.ibm.rational.test.rtw.rft":"","com.ibm.rational.test.rit":"","com.ibm.rational.test.lt.feature.websocket":"","com.ibm.rational.test.rtw.perfecto":"",Others:""},r.EMPTY_REPORT_ID="com.ibm.rational.test.lt.empty_report_id",r}(r.DropDownList);e.ReportSelector=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this)||this;return i.reportKind=e,i.showAllReports=n,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){if(this.session&&!this.showAllReports)return this.session.getBaseRequestUrl()+"/reports/"+this.reportKind;var t="/analytics/reports/"+this.reportKind;if(this.session)for(var e=this.session.getFeatures(),n=0;n<e.length;n++)t+=0==n?"?":"&",t+="feature="+e[n];return t},e.prototype.getPostData=function(){},e.prototype.itemsAvailable=function(){return this.getDataPromise()},e.prototype.setSessionData=function(t,e){this.emit("modelAvailable",t)},e.prototype.modelAvailable=function(){return this.getDataPromise()},e}(n(30).GSessionRequestProvider);e.GReportQueryProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this,i=n;$(e).addClass("scrollview").addClass("ui-widget-content"),$(e).on("mousewheel DOMMouseScroll",function(t){t.delta=null,t.originalEvent&&(t.originalEvent.detail&&(t.delta=t.originalEvent.detail),t.originalEvent.wheelDelta&&(t.delta=t.originalEvent.wheelDelta),t.originalEvent.wheelDeltaY&&(t.delta=t.originalEvent.wheelDeltaY)),i.wheelHandler(t,t.delta>0),t.preventDefault()}),n.scrollPane=document.createElement("div"),$(n.scrollPane).addClass("scrollviewPane").css("padding","0px").appendTo($(n.getContainer()));var r=document.createElement("div");$(r).css("position","absolute").css("left","auto").css("top",0).css("right",0).css("bottom","auto").width(16).height($(n.getContainer()).height()).appendTo($(n.getContainer())).mouseenter(function(){i.showVerticalScrollBar()}).mouseover(function(t){$(i.verticalScrollBar).stop(),$(i.verticalScrollBar).css("opacity","")}).mouseleave(function(t){i.hideVerticalScrollBar()}),n.verticalScrollBar=document.createElement("div"),$(n.verticalScrollBar).addClass("scrollviewVerticalBar").appendTo($(r)).hide(),$("<div>").addClass("scrollviewCap").addClass("scrollviewCapTop").appendTo($(n.verticalScrollBar)),n.vtrack=document.createElement("div"),$(n.vtrack).addClass("scrollviewTrack").appendTo($(n.verticalScrollBar)),n.vdragging=!1,n.vdrag=document.createElement("div"),$(n.vdrag).addClass("scrollviewDrag").appendTo($(n.vtrack)).draggable({axis:"y",containment:"parent",drag:function(t,e){var n=$(i.scrollPane).height(),r=$(i.vtrack).height();i.scroll(-e.position.top*n/r,0)},start:function(t,e){i.vdragging=!0},stop:function(t,e){i.vdragging=!1}}),$("<div>").addClass("scrollviewDragTop").appendTo($(n.vdrag)),$("<div>").addClass("scrollviewDragBottom").appendTo($(n.vdrag)),$("<div>").addClass("scrollviewCap").addClass("scrollviewCapBottom").appendTo($(n.verticalScrollBar));var o=document.createElement("div");return $(o).css("position","absolute").css("right","auto").css("top","auto").css("left",0).css("bottom",0).width($(n.getContainer()).width()).height(16).appendTo($(n.getContainer())).mouseenter(function(){i.showHorizontalScrollBar()}).mouseover(function(t){$(i.horizontalScrollBar).stop(),$(i.horizontalScrollBar).css("opacity","")}).mouseleave(function(t){i.hideHorizontalScrollBar()}),n.horizontalScrollBar=document.createElement("div"),$(n.horizontalScrollBar).addClass("scrollviewHorizontalBar").appendTo($(o)).hide(),$("<div>").addClass("scrollviewCap").addClass("scrollviewCapTop").appendTo($(n.horizontalScrollBar)),n.htrack=document.createElement("div"),$(n.htrack).addClass("scrollviewTrack").appendTo($(n.horizontalScrollBar)),n.hdragging=!1,n.hdrag=document.createElement("div"),$(n.hdrag).addClass("scrollviewDrag").appendTo($(n.htrack)).draggable({axis:"x",containment:"parent",drag:function(t,e){var n=$(i.scrollPane).width(),r=$(i.htrack).width();i.scroll(0,-e.position.left*n/r)},start:function(t,e){i.hdragging=!0},stop:function(t,e){i.hdragging=!1}}),$("<div>").addClass("scrollviewDragLeft").appendTo($(n.hdrag)),$("<div>").addClass("scrollviewDragRight").appendTo($(n.hdrag)),$("<div>").addClass("scrollviewCap").addClass("scrollviewCapBottom").appendTo($(n.horizontalScrollBar)),$(n.getContainer()).mouseenter(function(){i.showVerticalScrollBar(),i.showHorizontalScrollBar()}).mouseleave(function(){i.hideVerticalScrollBar(),i.hideHorizontalScrollBar()}),n}return i.__extends(e,t),e.prototype.destroy=function(){$(this.getContainer()).removeClass("scrollview"),$(this.getContainer()).children().remove(),t.prototype.destroy.call(this)},e.prototype.scroll=function(t,e){var n=$(this.scrollPane).height(),i=$(this.vtrack).height();n>i&&(t>0?t=0:t<-(n-i)&&(t=-(n-i)),$(this.scrollPane).css("top",t),this.emit("scrollVertical",t));var r=$(this.scrollPane).width(),o=$(this.vtrack).width();r>o&&(e>0?e=0:e<-(r-o)&&(e=-(r-o)),$(this.scrollPane).css("left",e),this.emit("scrollHorizontal",t))},e.prototype.getScrollValue=function(){return $(this.scrollPane).position().top},e.prototype.update=function(){$(this.scrollPane).children().remove(),this.getContentProvider()&&null!=this.getInput()&&this.updateContents(this.scrollPane)},e.prototype.getContents=function(){return this.scrollPane},e.prototype.updateVScrollBarDragSize=function(){$(this.vdrag).css("left",0),$(this.vtrack).height($(this.getContainer()).height());var t=$(this.scrollPane).height()/$(this.getContainer()).height();$(this.vdrag).height(Math.floor($(this.getContainer()).height()/t))},e.prototype.updateHScrollBarDragSize=function(){$(this.hdrag).css("left",0),$(this.htrack).width($(this.getContainer()).width());var t=$(this.scrollPane).width()/$(this.getContainer()).width();$(this.hdrag).width(Math.floor($(this.getContainer()).width()/t))},e.prototype.updateVScrollBarDragPosition=function(){var t=$(this.scrollPane).height(),e=$(this.vtrack).height(),n=this.getScrollValue();$(this.vdrag).css("top",Math.floor(e*Math.abs(n)/t))},e.prototype.updateHScrollBarDragPosition=function(){var t=$(this.scrollPane).width(),e=$(this.htrack).width(),n=this.getScrollValue();$(this.hdrag).css("left",Math.floor(e*Math.abs(n)/t))},e.prototype.showVerticalScrollBar=function(){var t=this;this.updateVScrollBarDragSize(),this.updateVScrollBarDragPosition();var e=$(this.scrollPane).height();$(this.scrollPane).position().top;e<$(this.getContainer()).height()?this.hideVerticalScrollBar():($(this.verticalScrollBar).show(),$(this.verticalScrollBar).animate({null:1},800,function(){t.hideVerticalScrollBar()}))},e.prototype.showHorizontalScrollBar=function(){var t=this;this.updateHScrollBarDragSize(),this.updateHScrollBarDragPosition();var e=$(this.scrollPane).width();$(this.scrollPane).position().left;e-$(this.getContainer()).width()<2?this.hideHorizontalScrollBar():($(this.horizontalScrollBar).show(),$(this.horizontalScrollBar).animate({null:1},800,function(){t.hideHorizontalScrollBar()}))},e.prototype.hideVerticalScrollBar=function(){this.vdragging||$(this.verticalScrollBar).fadeOut(800)},e.prototype.hideHorizontalScrollBar=function(){this.hdragging||$(this.horizontalScrollBar).fadeOut(800)},e.prototype.wheelHandler=function(t,e){this.scroll(e?-30+this.getScrollValue():30+this.getScrollValue(),0),this.updateVScrollBarDragPosition()},e}(n(40).Viewer);e.Scrollview=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(2).Properties.APPMSG,o=n(10),s=n(12),a=function(){function t(t){this.currentSessionSet=t}return t.prototype.createElements=function(t,e,n){var i=[];if(t){""!=e&&i.push({name:n,type:"Container",path:n,isParent:!0,object:null,label:r.SessionContentProvider_parentContainerLabel,model:null});for(var o=0;o<t.children.length;o++)i.push({name:t.children[o],type:"Container",path:e,object:t,label:t.children[o],model:t.children[o]});for(o=0;o<t.sessions.length;o++){var s=t.sessions[o];this.alreadyLoaded(e+"/"+s.id)||i.push({name:s.id,testName:s.testName,label:s.label,date:new Date(parseInt(s.startTime)),type:"Session",path:e,object:t,model:s})}}return i},t.prototype.getElements=function(t,e){this.getChildren(t,e)},t.prototype.hasChildren=function(t,e){e("Container"===t.type)},t.prototype.getChildren=function(t,e){var n="/analytics/sessions",a="";null!=t&&"Container"===t.type&&(t.isParent?n+=a=t.path:n+=a=t.path+"/"+encodeURIComponent(t.name));var u=this;new o.Url(n).request_get("json").done(function(t){var n=a.substr(0,-1!=a.lastIndexOf("/")?a.lastIndexOf("/"):a.length);e(u.createElements(t,a,n))}).fail(function(t,e,n){s.App.INSTANCE.showErrorMessage(i.bind(r.Unable_Retrieve_Sessions,n))})},t.prototype.alreadyLoaded=function(t){if(!this.currentSessionSet)return!1;var e=this.currentSessionSet.primarySession.sessionPath;if(e===t)return!0;for(var n=0;n<this.currentSessionSet.sessions.length;n++)if((e=this.currentSessionSet.sessions[n].sessionPath)===t)return!0;return!1},t}();e.SessionContentProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.timeRanges=e?t.map(function(t){return t.clone()}):t}return t.prototype.list=function(){return this.timeRanges},t.prototype.toJson=function(){return this.timeRanges.map(function(t){return t.toJson()})},t.prototype.get=function(t){return this.timeRanges[t]},t.prototype.gets=function(t){var e=this.timeRanges;return t.map(function(t){return-1==t?null:e[t]})},t.prototype.set=function(t){this.timeRanges=t},t.prototype.add=function(t){if(!t)throw"timeRange is null";this.timeRanges.push(t)},t.prototype.insert=function(t,e){if(t>this.timeRanges.length)throw"IndexOfBound";if(!e)throw"timeRange is null";this.timeRanges.splice(t,0,e)},t.prototype.move=function(t,e){if(t!=e-1){var n=this.timeRanges.splice(t,1);t<e&&e--,this.timeRanges.splice(e,0,n[0])}},t.prototype.remove=function(t){if(t>=this.timeRanges.length)throw"IndexOfBound";this.timeRanges.splice(t,1)},t.prototype.findSameTimeRange=function(t,e){if(null==t)return-1;for(var n=0;n<this.timeRanges.length;n++)if(t.isSame(this.timeRanges[n],e))return n;return-2},t.prototype.findSameTimeRanges=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.findSameTimeRange(t[i],e);-2!=r&&n.push(r)}return 0!=n.length?n:null},t.prototype.isSame=function(t){if(!t)return!1;var e=t.timeRanges;if(this.timeRanges.length!=e.length)return!1;for(var n=0;n<this.timeRanges.length;n++)if(!e[n].isSame(this.timeRanges[n],!0))return!1;return!0},t}();e.TimeRanges=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(193),r=n(2).Properties.APPMSG,o=function(){function t(t){this.name=t,this.tags={}}return t.prototype._update=function(t){this.tags=t.tags,this.agents=[];for(var e=0,n=t.agents;e<n.length;e++){var r=n[e];this.agents.push(new i.Agent(r))}},t.prototype.getName=function(){return"!all!"==this.name?r.HostsAll:this.name},t.prototype.getRawName=function(){return this.name},t.prototype.getAgents=function(){return this.agents},t.prototype.getTag=function(t){return this.tags[t]},t.prototype.getHostQuery=function(){return this.name},t.prototype.getAddress=function(){return this.tags.address},t.prototype.hasAgentType=function(t){for(var e=0,n=this.agents;e<n.length;e++){var i=n[e];if(-1!=t.indexOf(i.getType()))return!0}return!1},t}();e.Host=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.type=t.type,this.name=t.name}return t.prototype.getName=function(){return this.name},t.prototype.getType=function(){return this.type},t}();e.Agent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(108),s=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.primarySession=e,s.sessions=r?n.slice(0):n,s.activatedSessions=r?i.slice(0):i,s.hostList=new o.SessionSetHostList(s),s}return i.__extends(e,t),e.prototype.list=function(){return this.sessions},e.prototype.listIncludingPrimary=function(){var t=[];return t.push(this.primarySession),t=t.concat(this.activatedSessions)},e.prototype.count=function(){return this.sessions.length},e.prototype.get=function(t){return this.sessions[t]},e.prototype.move=function(t,e){if(t!=e-1){var n=this.sessions.splice(t,1);t<e&&e--,this.sessions.splice(e,0,n[0])}},e.prototype.selection=function(){return this.activatedSessions},e.prototype.add=function(t){this.contains(t)||(this.sessions.push(t),this.activatedSessions.push(t),this.emit("modified",this),this.emit("selectionChanged",this))},e.prototype.remove=function(t){var e=this.sessions.indexOf(t),n=!1;-1!=e&&(this.sessions.splice(e,1),-1!=(e=this.activatedSessions.indexOf(t))&&(this.activatedSessions.splice(e,1),n=!0),this.emit("modified",this),n&&this.emit("selectionChanged",this))},e.prototype.contains=function(t){for(var e=0;e<this.sessions.length;e++)if(this.sessions[e].sessionPath===t.sessionPath)return!0;return t.sessionPath===this.primarySession.sessionPath},e.prototype.setSelection=function(t){for(var e,n=t.slice(),i=0,r=t;i<r.length;i++){var o=r[i];-1!=this.activatedSessions.indexOf(o)&&n.splice(n.indexOf(o),1)}e=n.length>0||this.activatedSessions.length!=n.length,this.activatedSessions=t.slice(),e&&this.emit("selectionChanged",this)},e.prototype.isChecked=function(t){return-1!=this.activatedSessions.indexOf(t)},e.prototype.setSessions=function(t){if(!this.hasSameSessions(t)){var e=this.sessions;this.sessions=t;var n=this.activatedSessions;this.activatedSessions=[];for(var i=0;i<this.sessions.length;i++)this.activatedSessions.push(this.sessions[i]);for(i=0;i<e.length;i++)-1==n.indexOf(e[i])&&this.activatedSessions.splice(this.activatedSessions.indexOf(e[i]),1);this.emit("modified",this),this.emit("selectionChanged",this)}},e.prototype.hasSameSessions=function(t){if(t.length!=this.sessions.length)return!1;for(var e=0;e<t.length;e++)if(t[e].sessionPath!=this.sessions[e].sessionPath)return!1;return!0},e.prototype.getHostList=function(){return this.hostList},e}(r.Evented);e.SessionSet=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=function(t){function e(e,n){var i=t.call(this)||this;return i.id=e,i.presentations=n,i.active=0,i.subscribeActivePresentation(),i}return i.__extends(e,t),e.prototype.dispose=function(){null!=this.activeEventHandler&&this.activeEventHandler.remove()},e.prototype.getPresentations=function(){return this.presentations},e.prototype.subscribeActivePresentation=function(){var t=this;null!=this.activeEventHandler&&this.activeEventHandler.remove(),this.activeEventHandler=this.getActivePresentation().on("changed",function(e){var n={presentationEvent:e};if(e.enablementChanged&&(n.titleChanged=!0),e.saveState){var i=t.getActivePresentation(),r={presentations:{}};r.presentations[i.getId()]=e.saveState,n.saveState=r}t.emit("changed",n)})},e.prototype._setActivePresentation=function(t){this.active=t,this.subscribeActivePresentation()},e.prototype.setActivePresentation=function(t){this._setActivePresentation(this.presentations.indexOf(t)),this.emit("changed",{activePresentationChanged:!0,titleChanged:!0,saveState:{active:t.getId()}})},e.prototype.getActivePresentation=function(){return this.presentations[this.active]},e.prototype.getId=function(){return this.id},e.prototype.getTitle=function(){return this.getActivePresentation().getTitle(this.isCompare())},e.prototype.getPresentationIndex=function(t){for(var e=0;e<this.presentations.length;e++)if(this.presentations[e].getId()==t)return e;return-1},e.prototype.loadSettings=function(t){if(t){if(t.presentations)for(var e=0,n=this.presentations;e<n.length;e++){var i=n[e],r=t.presentations[i.getId()];r&&i.loadSettings(r)}if(null!=t.active){var o=this.getPresentationIndex(t.active);-1!=o&&this._setActivePresentation(o)}}},e}(r.Evented),s=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.canSetCompare=function(){return!0},e.prototype.getCompareDisabledReason=function(){return null},e.prototype.isCompare=function(){return this.compare},e.prototype.setCompare=function(t){this.compare=t,this.emit("changed",{compareChanged:!0,titleChanged:!0,saveState:{compare:t}})},e.prototype.loadSettings=function(e){t.prototype.loadSettings.call(this,e),e&&(this.compare=e.compare)},e}(o);e.ComparableAgentsManager=s;var a=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.setDisabledReason=function(t){this.compareDisabledReason=t},e.prototype.canSetCompare=function(){return null==this.compareDisabledReason},e.prototype.getCompareDisabledReason=function(){return this.compareDisabledReason},e.prototype.setCompare=function(e){if(e!=this.isCompare()){if(!this.canSetCompare())throw"Compare mode cannot be changed";t.prototype.setCompare.call(this,e)}},e}(s);e.OptionalComparableAgentsManager=a;var u=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.compare=i,o.compareDisabledReason=r,o}return i.__extends(e,t),e.prototype.isCompare=function(){return this.compare},e.prototype.canSetCompare=function(){return!1},e.prototype.setCompare=function(t){throw"Compare mode cannot be changed"},e.prototype.getCompareDisabledReason=function(){return this.compareDisabledReason},e}(o);e.FixedAgentsManager=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setActive=function(t){var e=this;this.active&&(this.activeEventHandler.remove(),this.active.dispose()),this.active=t,this.settings&&this.active.loadSettings(this.settings[this.active.getId()]),this.activeEventHandler=this.active.on("changed",function(t){var n={activePresentationChanged:t.activePresentationChanged,presentationEvent:t.presentationEvent,compareChanged:t.compareChanged,titleChanged:t.titleChanged};if(t.saveState){var i={};i[e.active.getId()]=t.saveState,n.saveState=i,$.extend(e.settings[e.active.getId()],t.saveState)}e.emit("changed",n)}),this.emit("changed",{activePresentationChanged:!0,compareChanged:!0,titleChanged:!0})},e.prototype.getActive=function(){return this.active},e.prototype.dispose=function(){this.active.dispose()},e.prototype.getTitle=function(){return this.active.getTitle()},e.prototype.getPresentations=function(){return this.active.getPresentations()},e.prototype.canSetCompare=function(){return this.active.canSetCompare()},e.prototype.getCompareDisabledReason=function(){return this.active.getCompareDisabledReason()},e.prototype.setCompare=function(t){this.active.setCompare(t)},e.prototype.isCompare=function(){return this.active.isCompare()},e.prototype.setActivePresentation=function(t){this.active.setActivePresentation(t)},e.prototype.getActivePresentation=function(){return this.active.getActivePresentation()},e.prototype.loadSettings=function(t){this.settings=t||{},this.active.loadSettings(this.settings[this.active.getId()])},e}(r.Evented);e.MetaAgentsManager=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(109),o=n(4),s=n(2).Properties.APPMSG,a=function(t){function e(e){var n=t.call(this)||this;return n.enabledHosts=new r.EnabledList(function(t){return t.getRawName()}),n.hostList=e,n.hostList.on("changed",function(t){t.hostsChanged&&n.emit("changed",{itemsChanged:!0})}),n}return i.__extends(e,t),e.prototype.isVisible=function(){return!0},e.prototype.getId=function(){return"hosts"},e.prototype.getName=function(){return s.Hosts},e.prototype.getTitle=function(t){var e=this.enabledHosts.getOneEnabled();return e?e.getName():t?s.HostsCompare:this.enabledHosts.isAllEnabled()?s.HostsAll:s.Hosts},e.prototype.getItems=function(){return this.hostList.getHosts()},e.prototype.getEnabledItems=function(){return this.enabledHosts.getEnabledItems(this.getItems())},e.prototype.getLabel=function(t){return t.getName()},e.prototype.getDescription=function(t){return t.getAddress()},e.prototype.isEnabled=function(t){return this.enabledHosts.isEnabled(t)},e.prototype.isAllEnabled=function(){return this.enabledHosts.isAllEnabled()},e.prototype.setEnabled=function(t,e){this.enabledHosts.setEnabled(t,e,this.getItems())&&this.emitEnablementChanged()},e.prototype.setEnabledAll=function(){this.enabledHosts.setEnabledAll()&&this.emitEnablementChanged()},e.prototype.getHostQuery=function(t){return t.getRawName()},e.prototype.getEnabledHostsQuery=function(){return this.isAllEnabled()?null:this.getEnabledItems().map(function(t){return t.getHostQuery()}).join(",")},e.prototype.loadSettings=function(t){t&&this.enabledHosts.loadSettings(t.filter,this.getItems())},e.prototype.emitEnablementChanged=function(){this.emit("changed",{enablementChanged:!0,saveState:{filter:this.enabledHosts.saveSettings()}})},e}(o.Evented);e.HostsPresentation=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(109),o=n(4),s=n(2).Properties.APPMSG,a="#OTHER#";var u=function(t){function e(e,n,i){var o=t.call(this)||this;return o.items=[],o.enabledGroups=new r.EnabledList(function(t){return t.getName()}),o.hostList=e,o.grouping=n,o.labels=i,o.hostList.on("changed",function(t){t.hostsChanged&&o.updateGroups(!0)}),o.updateGroups(!1),o}return i.__extends(e,t),e.prototype.isVisible=function(){return this.items.length>1||1==this.items.length&&!this.items[0].isOther()},e.prototype.getName=function(){return this.labels[0]},e.prototype.getTitle=function(t){var e=this.enabledGroups.getOneEnabled();return e?e.getName():t?this.labels[2]:this.labels[this.enabledGroups.isAllEnabled()?1:0]},e.prototype.updateGroups=function(t){var e=this.isVisible();this.items=function(t,e){for(var n={},i=0,r=t;i<r.length;i++){var o=r[i],s=o.getTag(e)||a,u=n[s];null==u&&(n[s]=u=new l(s)),u.add(o)}var c=[];for(var h in n)c.push(n[h]);return c}(this.hostList.getHosts(),this.grouping);var n={itemsChanged:!0};this.isVisible()!=e&&(n.visibilityChanged=!0),t&&this.emit("changed",n)},e.prototype.getId=function(){return this.grouping},e.prototype.getItems=function(){return this.items},e.prototype.getEnabledItems=function(){return this.enabledGroups.getEnabledItems(this.items)},e.prototype.getLabel=function(t){return t.getName()},e.prototype.getDescription=function(t){return null},e.prototype.isEnabled=function(t){return this.enabledGroups.isEnabled(t)},e.prototype.isAllEnabled=function(){return this.enabledGroups.isAllEnabled()},e.prototype.setEnabledAll=function(){this.enabledGroups.setEnabledAll()&&this.emitEnablementChanged()},e.prototype.setEnabled=function(t,e){this.enabledGroups.setEnabled(t,e,this.items)&&this.emitEnablementChanged()},e.prototype.getHostQuery=function(t){return t.getHostQuery()},e.prototype.getEnabledHostsQuery=function(){return this.isAllEnabled()?"":this.getEnabledItems().map(function(t){return t.getHostQuery()}).join(",")},e.prototype.loadSettings=function(t){t&&this.enabledGroups.loadSettings(t.filter,this.items)},e.prototype.emitEnablementChanged=function(){this.emit("changed",{enablementChanged:!0,saveState:{filter:this.enabledGroups.saveSettings()}})},e}(o.Evented);e.HostGroupsPresentation=u;var l=function(){function t(t){this.hosts=[],this.name=t}return t.prototype.getName=function(){return this.name==a?s.Others:this.name},t.prototype.isOther=function(){return this.name==a},t.prototype.add=function(t){this.hosts.push(t)},t.prototype.getHostQuery=function(){return this.hosts.map(function(t){return t.getName()}).join(",")},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this;return n.sel_listeners=[],n.sortColumns=[],n.sortColumn=-1,$(e).addClass("tablebuilder"),n.otable=$(n.getContainer()).find("table"),n.fixedHeader=$("<div>").addClass("tablebuilder-header").insertBefore(n.otable),n}return i.__extends(e,t),e.prototype.setFirstColumHeader=function(t){this.firstColumnHeader=t},e.prototype.addSelectionListener=function(t){this.sel_listeners[this.sel_listeners.length]=t},e.prototype.addSortColumn=function(t,e,n){return this.sortColumns[t]={sortFunction:e,upward:n||!0},this.update(),this.sortColumns[t]},e.prototype.setFilter=function(t){this.filter=t,this.update()},e.prototype.getFilter=function(){return this.filter},e.prototype.setAlternClass=function(t){this.alternClass=t},e.prototype.checkEmptyString=function(t,e){""==e?t.html("&nbsp;"):t.text(e)},e.prototype.resize=function(){this.fixedBody&&this.fixedBody.height($(this.getContainer()).height()-$(this.fixedHeader).height())},e.prototype.buildHeader=function(t){$(this.fixedHeader).empty();var e=$("<table>").addClass("tablebuilder-table "+$(t).attr("class")).css("margin-left","0px").appendTo(this.fixedHeader);$(t).find("colgroup").clone().appendTo(e),$(t).find("thead").clone().appendTo(e),$(t).attr("id")&&e.attr("id",$(t).attr("id"));var n=$(e).outerHeight();$(t).css("margin-top","-"+n+"px")},e.prototype.update=function(){var t=this;if(this.getContentProvider()){this.buildHeader(this.otable),$(this.fixedBody).remove(),this.fixedBody=$("<div>").addClass("tablebuilder-body").insertAfter(this.fixedHeader),$(this.otable).appendTo(this.fixedBody),this.resize();var e=$(this.otable).find("thead tr").children().length,n=this;this.sortColumns.length>0&&$(this.fixedHeader).find("thead tr").children().each(function(t){if(!$(this).hasClass("sortedColumn")&&n.sortColumns[t]){$(this).addClass("sortedColumn");var e=$(this).text();$(this).text("");var i=$("<a>").attr("href","javascript: void(0)").append($(this).children()).text(e).click(function(){n.removeColumnSortIndicator(),n.sortColumn=t,n.sortColumns[t].upward=!n.sortColumns[t].upward,n.update()});$(i).appendTo($(this))}});var i=$(this.otable).find("tbody").length?$(this.otable).find("tbody"):$("<tbody>").appendTo(this.otable);i.find("tr").remove(),this.getContentProvider().getElements(this.getInput(),function(r){-1!=t.sortColumn&&(r.sort(function(e,n){var i=t.sortColumns[t.sortColumn].sortFunction(e,n);return i=t.sortColumns[t.sortColumn].upward?i:-i}),n.addColumnSortIndicator(t.sortColumns[t.sortColumn].upward)),t.filter&&(r=r.filter(function(e){return t.filter(e)})),$(r).each(function(n){var o=$("<tr>").appendTo(i);t.alternClass&&n%2==0&&o.addClass(t.alternClass),0==n&&$(o).on("click",function(){for(var e=0;e<t.sel_listeners.length;e++)t.sel_listeners[e].selectChanged(r[n])});for(var s,a,u=function(){(s=0==l&&t.firstColumnHeader?$("<th>"):$("<td>")).appendTo(o),t.getLabelProvider().getIcon&&(a=$("<img>").appendTo(s)).attr("src",t.getLabelProvider().getIcon(r[n],l,function(t){a.attr("src",t)}));var e=0==l?$("<a>"):$("<span>");e.attr("href","javascript:void(0)").appendTo(s).click(function(){for(var e=0;e<t.sel_listeners.length;e++)t.sel_listeners[e].selectChanged(r[n])}),t.checkEmptyString(e,t.getLabelProvider().getText(r[n],l,function(n){t.checkEmptyString(e,n)})),t.getLabelProvider().getCssClass&&s.addClass(t.getLabelProvider().getCssClass(r[n],l,function(t){s.addClass(t)}))},l=0;l<e;l++)u()})})}},e.prototype.removeColumnSortIndicator=function(){-1!=this.sortColumn&&$(this.getContainer()).find("thead tr th a .sortIndicator").remove()},e.prototype.addColumnSortIndicator=function(t){if(-1!=this.sortColumn){var e=this;$(this.getContainer()).find("thead tr th a").each(function(n){n==e.sortColumn&&($(this).find(".sortIndicator").remove(),$("<i>").addClass("fa").attr("aria-hidden","true").addClass(t?"fa-sort-desc":"fa-sort-up").addClass("sortIndicator").appendTo($(this)))})}},e}(n(40).Viewer);e.TableBuilder=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(110),o=n(200),s=n(201),a=n(202),u=n(61),l=n(253),c=n(31),h=n(7),d=n(2).Properties.APPMSG,p=n(43),f=n(14),g=n(12),m=function(t){function e(e){var n=t.call(this,e)||this;return n.edit_mode=!1,n.modified=!1,n.report_def=null,n.page_selector=null,n.report_layout=null,n.filter_manager=a.FilterManager.create(),n}return i.__extends(e,t),e.prototype.getModel=function(){return this.report_def},e.prototype.getRootPages=function(){var t=this;return $.makeArray($(this.getModel()).children("pages").children("Page")).map(function(e){return t.getPageViewer(e)})},e.prototype.getChildrenPages=function(t,e){var n=this;t.hasChildrenPage()&&t.getChildrenPages().filter(function(t){return!t.isFiltered()}).map(function(t){e.push(t),n.getChildrenPages(t,e)})},e.prototype.getAllPages=function(t){void 0===t&&(t=!0);for(var e=[],n=this.getRootPages(),i=0;i<n.length;i++){var r=n[i];r.isFiltered()||(e.push(r),t&&this.getChildrenPages(r,e))}return e},e.prototype.createPageView=function(t,e,n){var i=this,r=new u.Page(document.createElement("div"),t,"page"+e,n,this);return r.on("titleChanged",function(t){$(r.getModel()).attr("name",t),i.page_selector.renamePage(r,t),i.setModified(!0),g.App.INSTANCE.getSearchSystem().remove(r.getId()),g.App.INSTANCE.getSearchSystem().add(r.getId(),{label:$(r.getModel()).attr("name"),category:d.SearchCategory_Pages,object:r})}),r.on("viewAdded",function(t){i.emit("viewAdded",t),i.setModified(!0)}),r.on("viewRemoved",function(t){i.emit("viewRemoved",t),i.setModified(!0)}),r.on("modified",function(t){i.setModified(!0)}),g.App.INSTANCE.getSearchSystem().add(r.getId(),{label:$(r.getModel()).attr("name"),category:d.SearchCategory_Pages,object:r}),r},e.prototype.addPage=function(t,e,n){var i=this.createPageView(t,e,n);$(i.getContainer()).appendTo($(this.getContents())),this.addItem(i),n||this.filter_manager.enterRegister();var r=i.startFilterMonitoring();r&&this.pageMonitors.push(r);var o=this;$(t).children("subPages").children("Page").each(function(t){o.addPage(this,e+"_"+t,i)}),i.setEditMode(this.edit_mode),n||this.filter_manager.exitRegister()},e.prototype.writeReportHeader=function(){var t=new c.SessionLabelProvider,e=$("<header>").addClass("report-title").prependTo($(this.getContainer()));$("<h1>").text(g.App.INSTANCE.getReportName()).appendTo(e);var n=$("<table>").addClass("report-session-attributes").appendTo(e),i=$("<tr>").appendTo(n);$("<th>").text(d.Run_label).appendTo(i),$("<td>").text(decodeURIComponent(this.session.sessionPath)).appendTo(i),i=$("<tr>").appendTo(n),$("<th>").text(d.StartTime_label).appendTo(i);var r=new p.DateFormat(this.session.getDate());if($("<td>").text(r.toDateString()).appendTo(i),i=$("<tr>").appendTo(n),$("<th>").text(d.Test_label).appendTo(i),$("<td>").text(this.session.getTestPath()).appendTo(i),this.session.sessionSet&&this.session.sessionSet.sessions.length>0){i=$("<tr>").addClass("row-group").appendTo(n),$("<th>").attr("colspan","2").text(d.ComparisonWith_label).appendTo(i);for(var o=0,s=this.session.sessionSet.sessions;o<s.length;o++){var a=s[o],u=$("<tr>").appendTo(n);$("<td>").text(t.getText(a)).appendTo(u),$("<td>").text(decodeURIComponent(a.sessionPath)).appendTo(u)}}if(this.session.timeRanges){var l=$("<tr>").appendTo(n);$("<th>").text("Time ranges").appendTo(l);for(var h="",f=0,m=this.session.timeRanges.list();f<m.length;f++){h+=m[f].getLabel()+","}$("<td>").text(h).appendTo(l)}},e.prototype.setDefinition=function(t,e){null!=this.report_def&&this.uninstallDefinition(),this.report_def=t,this.modified=!1;var n=this;if(this.pageMonitors&&$(this.pageMonitors).each(function(){this.remove()}),this.pageMonitors=[],$(".application").hasClass("display-print")||$("#page_selector_reduced_panel_pagetitle").show(),0==$(t).children("pages").length&&$("#page_selector_reduced_panel_pagetitle").hide(),$(t).children("pages").each(function(){$(this).children("Page").each(function(t){n.addPage(this,t.toString())})}),$(".application").hasClass("display-print")){$("#pages_container").addClass("full-size");var i=new s.AlignLayout(s.AlignLayout.DOWN);i.on("itemShown",function(t){t.on("sessionChanged",function(){t.show()})}),this.setLayout(i)}else this.setLayout(new o.StackLayout({placeOnTop:function(t){t.show(),n.resizeContents()},placeToBack:function(t){t.hide()}}));if(null==this.page_selector&&(this.page_selector=new l.PageSelector($("#page_selector")[0]),this.page_selector.on("toogleSize",function(){$("#pages_container").toggleClass("full-size"),n.toggleTitles(),n.resizeContents()}),this.page_selector.getListview().on("selectionChanged",function(t){n.showItem(t),n.emit("pageChanged",t)})),this.page_selector.setInput(this),this.getItems().length>0)if(null!=e){var r=this.getPageById(e);this.setPage(null!=r?r:this.getItems()[0])}else this.page_selector.setSelection(this.getItems()[0]);this.toggleTitles(),this.page_selector.setShowPagesPanel(f.PREFS.showPagesPanel),this.page_selector.updateSelectVisibility(),this.page_selector.showSubPages(f.PREFS.showSubPages),f.PREFS.showPagesPanel||($("#pages_container").addClass("full-size"),n.toggleTitles(),n.resizeContents())},e.prototype.toggleTitles=function(){for(var t=$("#pages_container").hasClass("full-size"),e=this.edit_mode,n=this.getItems(),i=1==t||1==e,r=0;r<n.length;r++)n[r].setShowTitleHint(i)},e.prototype.setPage=function(t){this.showItem(t),this.page_selector.setSelection(t)},e.prototype.getPageById=function(t){for(var e=this.getItems(),n=0;n<e.length;n++)if(e[n].getId()==t)return e[n];return null},e.prototype.getPage=function(){return this.page_selector.getSelection()},e.prototype.setEditMode=function(t){this.edit_mode=t;for(var e=this.getItems(),n=0;n<e.length;n++)e[n].setEditMode(t);null!=this.page_selector&&(this.page_selector.setEditMode(t),this.page_selector.getSelection()||e.length>0&&this.page_selector.setSelection(e[0])),this.toggleTitles()},e.prototype.getEditMode=function(){return this.edit_mode},e.prototype.getPageViewer=function(t){for(var e=this.getItems(),n=0;n<e.length;n++)if(e[n].getModel()===t)return e[n];return null},e.prototype.uninstallDefinition=function(){for(var t=this.getItems();t.length;)t[0].remove(),this.removeItem(t[0]);$("#page_selector_reduced_panel_pagetitle").hide(),this.getLayout()&&this.getLayout().unlayout(),$(this.getContents()).find(".page").remove(),this.removeAll(),this.page_selector.setInput(null),this.report_def=null,this.modified=!1},e.prototype.showItem=function(t){if(t){this.getItems();if(t instanceof u.Page)this.getLayout()&&this.getLayout().showItem(t);else{var e=t;this.setPage(e.getPage()),e.getPage().showItem(e)}}},e.prototype.getAgentConstraint=function(){var t={},e=$(this.getModel()).children("agentsRestriction");if(e.length>0){var n=$(e[0]).attr("compare");n&&(t.compare="true"==n);var i=$(e[0]).children("agentTypes");i.length>0&&(t.agentTypes=i.map(function(){return $.trim($(this).text())}).get())}return t},e.prototype.setSession=function(t){this.session=t;var e=this.getAgentConstraint();this.session.setAgentConstraint(e.compare,e.agentTypes,d.HostsCompareBlockedReport),this.filter_manager.setSession(t),$(this.getItems()).each(function(e){this.setSession(t)}),$(".application").hasClass("display-print")&&this.writeReportHeader()},e.prototype.showPageSelector=function(t){t?$("#page_selector").show():$("#page_selector").hide();for(var e=this.getItems(),n=0;n<e.length;n++)e[n].notifyResize()},e.prototype.resizeContents=function(){this.page_selector&&(this.page_selector.resize(),this.getPage()&&this.getPage().resizeContents())},e.prototype.getLabel=function(t){if(t==this.remove)return d.Delete_Page;if(t==this.insertAfter)return d.Add_Page;if(t==this.moveUp)return d.MoveUp_Action;if(t==this.moveDown)return d.MoveDown_Action;if(t==this.duplicate)return d.Duplicate_Page;throw t},e.prototype.isEnabled=function(t){return t==this.remove||t==this.insertAfter||t==this.moveUp||t==this.moveDown||t==this.duplicate},e.prototype.remove=function(t,e){if(t){var n=t.getModel(),i=this;$("#delete_page_dialog_confirm").dialog({resizable:!1,modal:!0,closeText:d.Close_button,buttons:[{text:d.Delete_Page,click:function(){$(this).dialog("close");var r=$(n).prev().length?$(n).prev()[0]:null;$(n).remove();var o=i.removeItem(t);g.App.INSTANCE.getSearchSystem().remove(t.getId());var s=i.getItems(),a=null;a=o<s.length?s[o]:i.getPageViewer(r),e(a),i.emit("pageRemoved",t),i.setModified(!0)}},{text:d.Cancel_button,click:function(){$(this).dialog("close")}}]})}},e.prototype.addNewPage=function(t,e,n){$(this.report_def).find("pages").children().each(function(e){this===n&&$(t).insertAfter($(this))});var i=this.createPageView(t,e);return i.setEditMode(this.edit_mode),$(i.getContainer()).appendTo($(this.getContents())),this.addItem(i),i.setSession(this.session),this.emit("pageAdded",i),this.setModified(!0),i},e.prototype.insertAfter=function(t,e){var n=t.getModel(),i=this.getRootPages().length+1,r=$.parseXML("<Page />").documentElement;$(r).attr("name",h.bind(d.PageNew_Title,i)),$("<views>").appendTo($(r)),e(this.addNewPage(r,i.toString(),n))},e.prototype.moveUp=function(t,e){var n=t.getModel(),i=$(n).prev();$(i).length>0&&($(n).insertBefore($(i)),e(t),this.setModified(!0))},e.prototype.moveDown=function(t,e){var n=t.getModel(),i=$(n).next();$(i).length>0&&($(n).insertAfter($(i)),e(t),this.setModified(!0))},e.prototype.duplicate=function(t,e){var n=t.getModel(),i=this.getRootPages().length+1;e(this.addNewPage($(n).clone()[0],i.toString(),n))},e.prototype.setModified=function(t){this.modified!=t&&(this.modified=t,t&&this.emit("modified",{}))},e.prototype.isModified=function(){return this.modified},e}(r.Composite);e.Report=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,"stacklayout")||this;return n.busy=!1,n.event_handlers=e,n}return i.__extends(e,t),e.prototype.layout=function(){t.prototype.layout.call(this);for(var e=0,n=this.getComposite().getItems();e<n.length;e++){var i=n[e];i!=this.current?$(i.getContainer()).hide():(this.top(i),$(i.getContainer()).show())}},e.prototype.top=function(t){this.current=t,$(t.getContainer()).addClass("top-item"),this.event_handlers&&this.event_handlers.placeOnTop&&this.event_handlers.placeOnTop(this.current)},e.prototype.pop=function(){null!=this.current&&($(this.current.getContainer()).hide(),$(this.current.getContainer()).removeClass("top-item"),this.event_handlers&&this.event_handlers.placeToBack&&this.event_handlers.placeToBack(this.current),this.current=null)},e.prototype.unlayout=function(){this.pop(),t.prototype.unlayout.call(this)},e.prototype.showItem=function(t){if(null!=t&&!this.busy&&!$(t).hasClass("top-item")){this.busy=!0;var e=this;null!=this.current&&this.pop(),$(t.getContainer()).addClass("top-item"),$(t.getContainer()).show({duration:"fast",done:function(){e.top(t),e.busy=!1}}),this.current=t}},e}(n(59).Layout);e.StackLayout=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(n){var i=t.call(this,"stacklayout")||this;return i.direction=e.DOWN,i}return i.__extends(e,t),e.prototype.layout=function(){t.prototype.layout.call(this);for(var n=0,i=this.getComposite().getItems();n<i.length;n++){var r=i[n];this.direction==e.RIGHT&&$(r.getContainer()).css("float","left"),this.showItem(r)}},e.prototype.showItem=function(t){var e=this;$(t.getContainer()).show({duration:"slow",done:function(){e.emit("itemShown",t)}})},e.prototype.unlayout=function(){t.prototype.unlayout.call(this)},e.DOWN=0,e.UP=1,e.LEFT=2,e.RIGHT=3,e}(n(59).Layout);e.AlignLayout=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(203),o=n(204),s=n(35),a=n(30),u=n(9),l=function(){function t(){this.monitors=[],this.exists=!1}return t.prototype.addMonitor=function(t){this.monitors.push(t)},t.prototype.removeMonitor=function(t){var e=this.monitors.indexOf(t);return-1!=e&&this.monitors.splice(e,1),0==this.monitors.length},t.prototype.setExists=function(t,e){if(t!=this.exists){this.exists=t;for(var n=0,i=this.monitors;n<i.length;n++){var r=i[n];-1==e.indexOf(r)&&e.push(r)}}},t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.create=function(){return u.OFFLINE.isActivated()?new d:new h},e.prototype.createMonitor=function(t){var e=$(t).children("filter");if(0==e.length)return null;var n=r.ReportFilter.loadFromReport(e);return new o.FilterMonitor(n,this)},e.prototype.getPostData=function(){},e}(a.GSessionRequestProvider);e.FilterManager=c;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.monitored={},e.monitorCount=0,e.inRegisterTransaction=0,e.changesSinceLastUpdate=0,e}return i.__extends(e,t),e.prototype.enterRegister=function(){this.inRegisterTransaction++},e.prototype.exitRegister=function(){0==--this.inRegisterTransaction&&this.update(!0)},e.prototype.registerMonitor=function(t){for(var e=!1,n=0,i=t.getCounters();n<i.length;n++){var r=i[n],o=this.monitored[r];o||(o=new l,this.monitored[r]=o,e=!0),o.addMonitor(t)}0==this.monitorCount++&&this.setOn(),e&&this.changesSinceLastUpdate++,this.update(!0)},e.prototype.unregisterMonitor=function(t){0==--this.monitorCount&&this.setOff();for(var e=0,n=t.getCounters();e<n.length;e++){var i=n[e],r=this.monitored[i];r&&r.removeMonitor(t)&&delete this.monitored[i]}},e.prototype.exists=function(t){return this.monitored[t].exists},e.prototype.update=function(e){var n=!1;return 0!=this.monitorCount&&0!=this.changesSinceLastUpdate&&0==this.inRegisterTransaction&&(n=t.prototype.update.call(this,e))&&(this.changesSinceLastUpdate=0),n},e.prototype.getRequestUrl=function(){return this.requestedCounters=Object.keys(this.monitored),this.getSessionFullPath()+"/qexists?"+this.requestedCounters.map(function(t){return"counter="+s.encodeCounterPathForUri(t)}).join("&")},e.prototype.setSessionData=function(t){for(var e=[],n=t.exist,i=0;i<this.requestedCounters.length;i++){var r=this.monitored[this.requestedCounters[i]];r&&r.setExists(n[i],e)}for(var o=0,s=e;o<s.length;o++){s[o].existsChanged()}},e}(c),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.counters={},e.queue=[],e}return i.__extends(e,t),e.prototype.setSession=function(e){this.queue=[],t.prototype.setSession.call(this,e)},e.prototype.exists=function(t){return this.counters[t]},e.prototype.enterRegister=function(){},e.prototype.exitRegister=function(){},e.prototype.registerMonitor=function(t){null!==this.queue&&(-1==this.queue.indexOf(t)&&this.queue.push(t))},e.prototype.unregisterMonitor=function(t){if(null!==this.queue){var e=this.queue.indexOf(t);-1!=e&&this.queue.splice(e,1)}},e.prototype.getRequestUrl=function(){return this.getSessionFullPath()+"/qexists"},e.prototype.getPostData=function(){},e.prototype.setSessionData=function(t){this.counters=t.exist;for(var e=0,n=this.queue;e<n.length;e++){n[e].existsChanged()}this.queue=null},e}(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.requiredCounters=t,this.forbiddenCounters=e}return t.prototype.getAllCounters=function(){return this.forbiddenCounters?this.requiredCounters?this.requiredCounters.concat(this.forbiddenCounters):this.forbiddenCounters:this.requiredCounters},t.prototype.getRequiredCounters=function(){return this.requiredCounters?this.requiredCounters:[]},t.prototype.getForbiddenCounters=function(){return this.forbiddenCounters?this.forbiddenCounters:[]},t.loadFromReport=function(e){var n=[],i=[];return $(e).children("requiredCounters").children("CounterInfo").each(function(){"true"!=$(this).attr("unresolved")&&n.push($(this).attr("path"))}),$(e).children("forbiddenCounters").children("CounterInfo").each(function(){"true"!=$(this).attr("unresolved")&&i.push($(this).attr("path"))}),new t(n,i)},t}();e.ReportFilter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e,n){var i=t.call(this)||this;return i.filter=e,i.manager=n,i}return i.__extends(e,t),e.prototype.getCounters=function(){return this.filter.getAllCounters()},e.prototype.isVisible=function(){for(var t=0,e=this.filter.getForbiddenCounters();t<e.length;t++){var n=e[t];if(this.manager.exists(n))return!1}var i=this.filter.getRequiredCounters();if(0==i.length)return!0;for(var r=0,o=i;r<o.length;r++){n=o[r];if(this.manager.exists(n))return!0}return!1},e.prototype.existsChanged=function(){this.emit("visibilityChanged")},e.prototype.startMonitoring=function(t){"visibilityChanged"==t&&this.manager.registerMonitor(this)},e.prototype.stopMonitoring=function(t){"visibilityChanged"==t&&this.manager.unregisterMonitor(this)},e}(n(4).Evented);e.FilterMonitor=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(140);function s(t,e){var n=$(t).children(e);return"true"==n.attr("unresolved")?null:n.attr("path")}var a=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.wildcards=e,o.filters=void 0!==n?n:[],o.cumulateFrom=i,o.index=r,o}return i.__extends(e,t),e.prototype.reset=function(){this.isContainer=void 0,this.instance=void 0},e.prototype.getPath=function(){return this.wildcards.join("/")},e.prototype.getLastSegment=function(){return this.wildcards[this.wildcards.length-1]},e.prototype.getParentSegment=function(){return 1==this.wildcards.length?null:this.wildcards.slice(0,this.wildcards.length-1)},e.prototype.getLabel=function(t){var e=t.resolveWildcard(this.wildcards);return e?e.pluralLabel:this.getPath()},e.prototype.add=function(t){this.filters.push(t),this.emit("filtersChanged",{})},e.prototype.insertAfter=function(t,e){var n=this.filters.indexOf(t);if(-1==n)throw"afterWhat does not belong to filters list";this.filters.splice(n+1,0,e),this.emit("filtersChanged",{})},e.prototype.move=function(t,e){var n=this.filters.indexOf(e);if(-1==n)throw"instanceFilter does not belong to filters list";n+t>=0&&n+t<this.filters.length&&(this.filters.splice(n,1),this.filters.splice(n+t,0,e)),this.emit("filtersChanged",{})},e.prototype.remove=function(t){var e=this.filters.indexOf(t);this.filters.splice(e,1),this.emit("filtersChanged",{})},e.prototype.replace=function(t,e){var n=this.filters.indexOf(t);if(-1==n)throw"instanceFilterToReplace does not belong to filters list";this.filters.splice(n,1,e),this.emit("filtersChanged",{})},e.prototype.isValid=function(){if(!this.filters)return!0;for(var t=0;t<this.filters.length;t++)if(!this.filters[t].isValid())return!1;return!0},e.prototype.saveToView=function(t){var e=$.parseXML("<WildcardOptions/>").documentElement;if($(e).attr("wildcards",this.wildcards.join(",")).appendTo(t),this.cumulateFrom){var n=$.parseXML("<cumulateFrom/>").documentElement;$(n).attr("path",this.cumulateFrom).appendTo($(e))}if(this.index){var i=$.parseXML("<index/>").documentElement;$(i).attr("path",this.index).appendTo($(e))}var r=$.parseXML("<filters/>").documentElement;if($(r).appendTo($(e)),this.filters&&this.filters.length>0)for(var o=0;o<this.filters.length;o++){this.filters[o].saveToView(r)}return e},e.prototype.toJson=function(){if(0==this.filters.length&&!this.cumulateFrom&&!this.index)return null;for(var t=[],e=0;e<this.filters.length;e++)this.filters[e].isValid()&&t.push(this.filters[e].toJson());var n={wildcards:this.wildcards.join(","),filters:t};return this.cumulateFrom&&(n.cumulateFrom={path:this.cumulateFrom}),this.index&&(n.index={path:this.index}),n},e.loadFromView=function(t){var n=$(t).attr("wildcards").split(","),i=s(t,"cumulateFrom"),r=s(t,"index"),a=[];return $(t).children("filters").children().each(function(){var t=function(t){switch(t.nodeName){case"CountFilterInfo":return o.InstanceCountFilter.loadFromView(t);case"ValueFilterInfo":return o.InstanceValueFilter.loadFromView(t);case"NameFilter":return o.InstanceNameFilter.loadFromView(t);default:throw"Unknown filter type "+t.nodeName}}(this);t&&a.push(t)}),new e(n,a,i,r)},e}(r.Evented);e.WildcardOptions=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this;n.setClassName("ui-editable-label");var i=$("<div/>"),r=$(e).contents();$(e).append($(i)),$(i).append($(r));var o=$('<input type="text" style="display:none"/>');$(e).append($(o));var s="";$(i).click(function(){n.isDisabled()||(s=$(i).text(),$(i).hide(),$(o).show().val(s).focus())});var a=function(t){$(t).hide(),$(i).show(),""!=$(t).val()&&$(t).val()!=s&&(n.emit("textWillChange",$(t).val()),$(i).text($(t).val()),n.emit("textChanged",$(t).val()))};return $(o).change(function(){a(o)}),$(o).focusout(function(){a(o)}),n}return i.__extends(e,t),e.prototype.destroy=function(){$(this.getContainer()).unbind("click"),$(this.getContainer()).find("input").remove();var e=$(this.getContainer()).find("div").text();$(this.getContainer()).text(e),t.prototype.destroy.call(this)},e}(n(16).Widget);e.EditableLabel=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(63),o=n(130),s=n(42),a=n(32),u=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setRatio(1),s}return i.__extends(e,t),e.prototype.getSeries=function(){return o.PieSeries},e.prototype.getQueryFactory=function(){return this.provider},e.prototype.createQueryFactory=function(){return new a.PieQueryFactory(this.getCounterQuerySet(),this.getSession())},e.prototype.createChartAndProviders=function(){try{this.provider=this.createQueryFactory(),this.setupBusy(this.provider.getQueryProvider()),this.pieChart=new o.GPie(this.provider.getViewProvider(),this.computeGPieOptions(this.provider))}catch(t){this.pieChart=new s.GError(t)}},e.prototype.computeGPieOptions=function(t){return{dimensions:t.getSeriesOptions(this.getSeriesOptions()),donut:!1}},e.prototype.createContents=function(e,n,i){var r=this;this.createChartAndProviders(),this.sessionListeners=[this.getSession().on("selectedTimeRangesChanged",function(){return r.refreshContents()}),this.getSession().sessionSet.on("selectionChanged",function(){return r.refreshContents()}),this.getSession().getAgentsManager().on("changed",function(t){t.compareChanged&&r.refreshContents()})],t.prototype.createContents.call(this,e,n,i)},e.prototype.clearContents=function(){t.prototype.clearContents.call(this),this.provider&&(this.provider.dispose(),this.provider=null);for(var e=0;e<this.sessionListeners.length;e++)this.sessionListeners[e].remove();this.sessionListeners=void 0,this.pieChart=null},e.prototype.createLegend=function(t){this.pieChart.renderLegend(d3.select(t))},e.prototype.createChart=function(t,e,n){this.pieChart.renderContents(d3.select(t),e,n)},e.prototype.chartResized=function(t,e,n){this.pieChart&&this.pieChart.resize(e,n)},e}(r.ChartView);e.PieChartView=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(3),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return e.hasComponents()?(i.dimensions=[i.createCountersDimension(),i.createComponentsDimension()],i.dims=[0,1]):(i.dimensions=[i.createCountersDimension()],i.dims=[0]),i.countersDimIndex=0,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=o.hostsQuery(this.session.getAgentsManager())},e.prototype.processData=function(t){if(void 0===t)throw"Empty response received from server";var e=void 0===this.values;return this.values=o.values(t),{dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:e}},e.prototype.getActions=function(t){return this.getCounterActions(t[0])},e}(r.GLastQueryProvider);e.GLastSingleQueryProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(2).Properties.APPMSG,s=function(t){function e(e){var n=t.call(this)||this;return n.owner=e,n}return i.__extends(e,t),e.prototype.name=function(){return o.DimCounters},e.prototype.size=function(){return this.owner.counterQueries.length},e.prototype.items=function(){return this.owner.counterQueries},e.prototype.key=function(){return function(t){return t.path()}},e.prototype.label=function(t,e){return t.label(this.owner.counterLabelOptions)},e.prototype.variableUnit=function(){return!0},e}(r.Dimension);e.CountersDimension=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(2).Properties.APPMSG,s=function(t){function e(e){var n=t.call(this)||this;return n.set=e,n}return i.__extends(e,t),e.prototype.name=function(){return o.DimComponents},e.prototype.size=function(){return this.set.getComponents().length},e.prototype.items=function(){return this.set.getComponents()},e.prototype.key=function(){return function(t){return t}},e.prototype.label=function(t,e){return t},e.prototype.variableUnit=function(){return!1},e}(r.Dimension);e.ComponentsDimension=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(35),o=n(30),s=n(3),a=n(115),u=n(62),l=n(2).Properties.APPMSG;var c=function(t){function e(e){var n=t.call(this)||this;return n.counterQuerySet=e,n.counterQueries=e.getQueries().slice(),n.units=e.units.slice(),n.counterLabelOptions=new r.LabelOptions,n.counterLabelOptions.showCumulated=2==e.isAllCumulated(),n.cqEventHandlers=[e.on("counterQuerySetChanged",function(){var t=a.Reordering.compare(n.counterQueries,n.counterQuerySet.getQueries());n.counterQuerySetChanged(t)}),e.on("wildcardFiltersUpdated",function(){return n.update(!0)})],n}return i.__extends(e,t),e.prototype.dispose=function(){if(this.cqEventHandlers){for(var e=0,n=this.cqEventHandlers;e<n.length;e++){n[e].remove()}this.cqEventHandlers=null}this.disposeSessionHandlers(),t.prototype.dispose.call(this)},e.prototype.disposeSessionHandlers=function(){if(this.sessionEventHandlers){for(var t=0,e=this.sessionEventHandlers;t<e.length;t++){e[t].remove()}this.sessionEventHandlers=null}},e.prototype.changed=function(t){this.emit("changed",t)},e.prototype.setSession=function(e){var n=this;t.prototype.setSession.call(this,e),this.disposeSessionHandlers(),this.sessionEventHandlers=[this.session.getAgentsManager().on("changed",function(t){return n.hostsChanged(t)})]},e.prototype.hostsChanged=function(t){t.compareChanged||this.update(!0)},e.prototype.getPostData=function(){return this.counterQuerySet.getQueryPostData()},e.prototype.counterQuerySetChanged=function(t){this.counterQueries=this.counterQuerySet.getQueries().slice(),this.units=this.counterQuerySet.units.slice(),this.counterLabelOptions.showCumulated=2==this.counterQuerySet.isAllCumulated()},e.prototype.setSessionData=function(t,e,n){var i=this.processData(t,n);i&&this.changed(i)},e.prototype.unitCount=function(){return this.units.length},e.prototype.unitLabel=function(t){return this.units[t].label},e.prototype.unitScale=function(t,e){return s.valueScale(this.units[t].scaleFactor(e),e)},e.prototype.getCounterActions=function(t,e){var n=function(t,e){var n={};for(var i in t.instances)n[i]=t.instances[i];if(e)for(var r=t.rawWildcards,o=0;o<e.length;o++)n[r[o]]=e[o];return n}(this.counterQuerySet,e),i=this.getInstanceDrilldownActions(n);if(!i)return[];var r=this.counterQueries[t];if(e&&r.counter().hasRtb()&&this.session.hasRtb){var o=this.session,s=r.path();i.push(new u.Action(l.displayRTBData,function(){o.displayRTB(s,n)}))}return i},e.prototype.getInstanceDrilldownActions=function(t){return[]},e}(o.GSessionRequestProvider);e.GQueryProvider=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(13),s=n(3),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instances=new o.InstancesDimension,i.dimensions=[i.instances,i.createCountersDimension()],i.dims=[0,1],i.countersDimIndex=1,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=s.hostsQuery(this.session.getAgentsManager())},e.prototype.feedValues=function(t,e){var n=this;this.instances.feedValues(t,{instanceRemoved:function(t){n.values.splice(t,1)},instanceAdded:function(t){n.values.push(t.counters)},instanceModified:function(t,e){n.values[t]=e.counters}})&&(e.dimensionsChanged[0]=!0)},e.prototype.processData=function(t){if(void 0===t)throw"Empty response received from server";var e=s.instances(t),n=s.flattenInstances(e),i=void 0===this.values,r={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:i};return i&&(this.values=[]),this.feedValues(n,r),r},e.prototype.getActions=function(t){return this.getCounterActions(t[1],this.instances.items()[t[0]])},e}(r.GLastQueryProvider);e.GLastWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(13),s=n(3),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instances=[new o.FlatInstancesDimension,new o.FlatInstancesDimension],i.dimensions=[i.instances[0],i.instances[1],i.createCountersDimension()],i.dims=[0,1,2],i.countersDimIndex=2,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=s.hostsQuery(this.session.getAgentsManager())},e.prototype.feedValues=function(t,e){var n=this,i=this.instances[0].feedTwoLevelValues(t,this.instances[1],{instanceAdded:function(t,e,i){0==t&&n.values.push([])},instanceRemoved:function(t,e){0==t&&n.values.splice(e,1)},valueModified:function(t,e){n.values[t[0]][t[1]]=e.counters}});e.dimensionsChanged[0]=i[0],e.dimensionsChanged[1]=i[1]},e.prototype.processData=function(t){if(void 0===t)throw"Empty response received from server";var e=s.instances(t),n=void 0===this.values,i={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:n};return n&&(this.values=[]),this.feedValues(e,i),i},e.prototype.getActions=function(t){return[]},e}(r.GLastQueryProvider);e.GLastDoubleWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(67),o=n(3),s=function(t){function e(e){var n=t.call(this,e)||this;return n.dimensions=[n.createCountersDimension(),n.timeRanges],e.hasComponents()?(n.dimensions.push(n.createComponentsDimension()),n.dims=[0,1,2]):n.dims=[0,1],n.countersDimIndex=0,n}return i.__extends(e,t),e.prototype.processData=function(t){var e=void 0===this.values;this.values=o.values(t);var n={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:e};return this.timeRanges.processTimeRanges(t)&&(n.dimensionsChanged[1]=!0),n},e.prototype.getActions=function(t){return this.getCounterActions(t[this.countersDimIndex])},e}(r.GRangeQueryProvider);e.GRangeSingleQueryProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(73),s=n(2).Properties.APPMSG;var a=function(t){function e(){var e=t.call(this)||this;return e.timeRanges=[],e}return i.__extends(e,t),e.prototype.name=function(){return s.DimTimeRanges},e.prototype.size=function(){return this.timeRanges.length},e.prototype.items=function(){return this.timeRanges},e.prototype.key=function(){return null},e.prototype.label=function(t,e){return t},e.prototype.processTimeRanges=function(t){var e=this.timeRanges;return this.timeRanges=function(t){for(var e=0;e<t.length;e++)if(t[e]){var n=o.TimeRange.getLabel(t[e]);n&&(t[e]=n)}else t[e]=s.TimeRangeRun;return t}(t.timeRanges),!e||this.timeRanges.length!=e.length},e}(r.Dimension);e.TimeRangesDimension=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(67),o=n(13),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.instances=new o.InstancesDimension,n.dimensions=[n.instances,n.timeRanges,n.createCountersDimension()],n.dims=[0,2,1],n.countersDimIndex=2,n}return i.__extends(e,t),e.prototype.feedValues=function(t,e){var n=this;this.instances.feedValues(t,{instanceRemoved:function(t){n.values.splice(t,1)},instanceAdded:function(t){n.values.push(t.counters)},instanceModified:function(t,e){n.values[t]=e.counters}})&&(e.dimensionsChanged[0]=!0)},e.prototype.processData=function(t){var e=s.instances(t),n=s.flattenInstances(e),i=void 0===this.values,r={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:i};return i&&(this.values=[]),this.feedValues(n,r),this.timeRanges.processTimeRanges(t)&&(r.dimensionsChanged[1]=!0),r},e.prototype.getActions=function(t){return this.getCounterActions(0,this.instances.items()[t[0]])},e}(r.GRangeQueryProvider);e.GRangeWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(67),o=n(13),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.instances=[new o.FlatInstancesDimension,new o.FlatInstancesDimension],n.dimensions=[n.instances[0],n.instances[1],n.timeRanges,n.createCountersDimension()],n.dims=[0,1,3,2],n.countersDimIndex=3,n}return i.__extends(e,t),e.prototype.feedValues=function(t,e){var n=this,i=this.instances[0].feedTwoLevelValues(t,this.instances[1],{instanceAdded:function(t,e,i){0==t&&n.values.push([])},instanceRemoved:function(t,e){0==t&&n.values.splice(e,1)},valueModified:function(t,e){n.values[t[0]][t[1]]=e.counters}});e.dimensionsChanged[0]=i[0],e.dimensionsChanged[1]=i[1]},e.prototype.processData=function(t){var e=s.instances(t),n=void 0===this.values,i={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:n};return n&&(this.values=[]),this.feedValues(e,i),this.timeRanges.processTimeRanges(t)&&(i.dimensionsChanged[2]=!0),i},e.prototype.getActions=function(t){return[]},e}(r.GRangeQueryProvider);e.GRangeDoubleWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(33),s=n(3),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dimensions=[i.createCountersDimension(),new o.AgentsDimension(i,1)],e.hasComponents()?(i.dimensions.push(i.createComponentsDimension()),i.dims=[0,1,2]):i.dims=[0,1],i.countersDimIndex=0,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=this.dimensions[1].getUrlParameters()},e.prototype.processData=function(t){var e=void 0===this.values;return this.values=s.values(t),{dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:e}},e.prototype.getActions=function(t){return this.getCounterActions(t[0])},e}(r.GLastQueryProvider);e.GAgentSingleQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(33),s=n(13),a=n(3),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instances=new s.InstancesDimension,i.dimensions=[i.instances,new o.AgentsDimension(i,1),i.createCountersDimension()],i.dims=[0,2,1],i.countersDimIndex=2,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=this.dimensions[1].getUrlParameters()},e.prototype.feedValues=function(t,e){var n=this;this.instances.feedValues(t,{instanceRemoved:function(t){n.values.splice(t,1)},instanceAdded:function(t){n.values.push(t.counters)},instanceModified:function(t,e){n.values[t]=e.counters}})&&(e.dimensionsChanged[0]=!0)},e.prototype.processData=function(t){var e=a.instances(t),n=a.flattenInstances(e),i=void 0===this.values,r={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:i};return i&&(this.values=[]),this.feedValues(n,r),r},e.prototype.getActions=function(t){return this.getCounterActions(0,this.instances.items()[t[0]])},e}(r.GLastQueryProvider);e.GAgentWildcardQueryProvider=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(23),o=n(33),s=n(13),a=n(3),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instances=[new s.FlatInstancesDimension,new s.FlatInstancesDimension],i.dimensions=[i.instances[0],i.instances[1],new o.AgentsDimension(i,2),i.createCountersDimension()],i.dims=[0,1,3,2],i.countersDimIndex=3,i}return i.__extends(e,t),e.prototype.getRequestUrl=function(){var e=t.prototype.getRequestUrl.call(this);return e+=this.dimensions[2].getUrlParameters()},e.prototype.feedValues=function(t,e){var n=this,i=this.instances[0].feedTwoLevelValues(t,this.instances[1],{instanceAdded:function(t,e,i){0==t&&n.values.push([])},instanceRemoved:function(t,e){0==t&&n.values.splice(e,1)},valueModified:function(t,e){n.values[t[0]][t[1]]=e.counters}});e.dimensionsChanged[0]=i[0],e.dimensionsChanged[1]=i[1]},e.prototype.processData=function(t){var e=a.instances(t),n=void 0===this.values,i={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:n};return n&&(this.values=[]),this.feedValues(e,i),i},e.prototype.getActions=function(t){return[]},e}(r.GLastQueryProvider);e.GAgentDoubleWildcardQueryProvider=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(116),o=n(3),s=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.dimensions=[r.createCountersDimension(),r.sessions],e.hasComponents()?(r.dimensions.push(r.createComponentsDimension()),r.dims=[1,0,2]):r.dims=[1,0],r.countersDimIndex=0,r}return i.__extends(e,t),e.prototype.processData=function(t,e){if(void 0===t)throw"Empty response received from server";var n=void 0===this.values;return n&&(this.values=new Array(this.sessions.size())),this.values[e]=o.values(t),{dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:n}},e.prototype.getActions=function(t){return this.getCounterActions(t[0])},e}(r.GCompareLastQueryProvider);e.GCompareLastSingleQueryProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(116),o=n(13),s=n(3),a=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.instances=new o.InstancesDimension,r.dimensions=[r.instances,r.sessions,r.createCountersDimension()],r.dims=[0,1,2],r.countersDimIndex=2,r}return i.__extends(e,t),e.prototype.setSession=function(e){this.instances.clear(),t.prototype.setSession.call(this,e)},e.prototype.feedValues=function(t,e,n){var i=this;this.instances.feedValues(t,{instanceAdded:function(t){var e=new Array(i.sessions.size());e[n]=t.counters,i.values.push(e)},instanceModified:function(t,e){i.values[t][n]=e.counters}})&&(e.dimensionsChanged[0]=!0)},e.prototype.processData=function(t,e){if(void 0===t)throw"Empty response received from server";var n=s.instances(t),i=s.flattenInstances(n),r=void 0===this.values,o={dimensionsChanged:[],domainChanged:!0,dataChanged:!0,majorChange:r};return r&&(this.values=[]),this.feedValues(i,o,e),o},e.prototype.getActions=function(t){return this.getCounterActions(t[2],this.instances.items()[t[0]])},e}(r.GCompareLastQueryProvider);e.GCompareLastWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(118),o=n(3),s=function(t){function e(e){var n=t.call(this,e)||this;return n.dims=[0],n.countersDimIndex=0,n}return i.__extends(e,t),e.prototype.extractPoints=function(t,e,n,i){for(var r=new Array(this.queriesCount),s=e*this.queriesCount,a=function(e){var a=s+e;r[e]=o.toCoordinates(t.map(function(t){return t[a]}),n,i)},u=0;u<this.queriesCount;u++)a(u);return r},e.prototype.concatPoints=function(t,e){o.concatDeepCoordinates(t,e,1)},e}(r.GLinesSingleData),a=function(t){function e(e,n){var i=t.call(this,e,n,new s(e.count()))||this;return i.countersDimIndex=0,i.dimensions=[i.createCountersDimension()],i}return i.__extends(e,t),e.prototype.getRequestUrl=function(e,n){var i=t.prototype.getRequestUrl.call(this,e,n);return i+=o.hostsQuery(this.session.getAgentsManager())},e.prototype.createData=function(){return new s(this.counterQueries.length)},e}(r.GLinesAbstractSingleQueryProvider);e.GLinesSingleQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(120),o=n(3),s=function(t){function e(e){var n=t.call(this,e)||this;return n.dims=[0,1],n.countersDimIndex=1,n}return i.__extends(e,t),e.prototype.extractPoints=function(t,e,n,i,r){for(var s=[],a=0,u=t;a<u.length;a++){for(var l=u[a],c=o.arrayIndexOf(r,l.name),h=l.index*this.queriesCount,d=[],p=function(t){var r=h+t,s=e.map(function(t){return t[r]});d[t]=o.toCoordinates(s,n,i)},f=0;f<this.queriesCount;f++)p(f);s[c]=d}return s},e.prototype.concatPoints=function(t,e){o.concatDeepCoordinates(t,e,1)},e}(r.GLinesWildcardData),a=function(t){function e(e,n){var i=t.call(this,e,n,new s(e.count()))||this;return i.countersDimIndex=1,i.instancesDimIndex=0,i.dimensions=[i.instances,i.createCountersDimension()],i}return i.__extends(e,t),e.prototype.createData=function(){return new s(this.counterQueries.length)},e.prototype.getRequestUrl=function(e,n){var i=t.prototype.getRequestUrl.call(this,e,n);return i+=o.hostsQuery(this.session.getAgentsManager())},e}(r.GLinesAbstractWildcardQueryProvider);e.GLinesWildcardQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(33),o=n(118),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.dims=[0,1],n.countersDimIndex=0,n}return i.__extends(e,t),e.prototype.extractPoints=function(t,e,n,i){var r=new Array(this.queriesCount);if(0==this.queriesCount||0==t.length)return r;for(var o=t[0][0].length,a=e*this.queriesCount,u=function(e){for(var u=a+e,l=[],c=function(e){l[e]=s.toCoordinates(t.map(function(t){return t[u][e]}),n,i)},h=0;h<o;h++)c(h);r[e]=l},l=0;l<this.queriesCount;l++)u(l);return r},e.prototype.concatPoints=function(t,e){s.concatDeepCoordinates(t,e,2)},e}(o.GLinesSingleData),u=function(t){function e(e,n){var i=t.call(this,e,n,new a(e.count()))||this;return i.countersDimIndex=0,i.dimensions=[i.createCountersDimension(),new r.AgentsDimension(i,1)],i}return i.__extends(e,t),e.prototype.getRequestUrl=function(e,n){var i=t.prototype.getRequestUrl.call(this,e,n);return i+=this.dimensions[1].getUrlParameters()},e.prototype.createData=function(){return new a(this.counterQueries.length)},e}(o.GLinesAbstractSingleQueryProvider);e.GLinesAgentSingleQueryProvider=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(33),o=n(120),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.dims=[0,2,1],n.countersDimIndex=2,n}return i.__extends(e,t),e.prototype.extractPoints=function(t,e,n,i,r){for(var o=[],a=0,u=t;a<u.length;a++){for(var l=u[a],c=s.arrayIndexOf(r,l.name),h=l.index*this.queriesCount,d=[],p=function(t){var r=h+t,o=e.map(function(t){return t[r]});if(o&&o.length>0){for(var a=[],u=o[0].length,l=function(t){a[t]=s.toCoordinates(o.map(function(e){return e[t]}),n,i)},c=0;c<u;c++)l(c);d[t]=a}},f=0;f<this.queriesCount;f++)p(f);o[c]=d}return o},e.prototype.concatPoints=function(t,e){s.concatDeepCoordinates(t,e,2)},e}(o.GLinesWildcardData),u=function(t){function e(e,n){var i=t.call(this,e,n,new a(e.count()))||this;return i.countersDimIndex=2,i.instancesDimIndex=0,i.dimensions=[i.instances,new r.AgentsDimension(i,1),i.createCountersDimension()],i}return i.__extends(e,t),e.prototype.getRequestUrl=function(e,n){var i=t.prototype.getRequestUrl.call(this,e,n);return i+=this.dimensions[1].getUrlParameters()},e.prototype.createData=function(){return new a(this.counterQueries.length)},e}(o.GLinesAbstractWildcardQueryProvider);e.GLinesAgentWildcardQueryProvider=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(121),o=n(3),s=function(t){function e(e,n){var i=t.call(this,n)||this;return i.queriesCount=e,i.counterValues=new Array(n),i}return i.__extends(e,t),e.prototype.extractValues=function(t,e,n,i,r){for(var s=new Array(r),a=e*this.queriesCount,u=function(e){var r=a+e;s[e]=o.toCoordinates(t.map(function(t){return t[r]}),n,i)},l=0;l<r;l++)u(l);return s},e.prototype.values=function(t){var e=t[1],n=t[0],i=this.counterValues[e];if(void 0==i)return[];var r=i[n];return void 0==r?[]:r},e.prototype.domain=function(t,e){var n,i=t.counterIndices;return e&&(i=t.getCounterIndices(e[0]),n=e[1]),o.uextent(t,this.counterValues,3,[void 0,i,n],[o.pointValue,void 0,void 0])},e.prototype.setData=function(e,n,i){var r=t.prototype._setData.call(this,e,n,i),o=void 0!==e.index?e.values:[];this.counterValues[i]=this.extractValues(o,e.index,this._interval[i],r,this.queriesCount)},e.prototype.addData=function(e,n,i){for(var r=t.prototype._addData.call(this,e,n,i),s=void 0!==e.index?e.values:[],a=this.extractValues(s,e.index,this._interval[i],r,this.queriesCount),u=0;u<this.counterValues[i].length;u++)o.concatCoordinates(this.counterValues[i][u],a[u])},e.prototype.reorderCounters=function(t){for(var e=0;e<this.counterValues.length;e++)this.counterValues[e]=t.apply(this.counterValues[e],[])},e}(r.Data),a=function(t){function e(e,n,i){var r=t.call(this,e,n,i,new s(e.count(),n.length))||this;return r.dimensions=[r.createCountersDimension(),r.sessions],r}return i.__extends(e,t),e.prototype.counterQuerySetChanged=function(e){t.prototype.counterQuerySetChanged.call(this,e),this._data.reorderCounters(e),this.localData&&this.localData.reorderCounters(e),this.changed({unitsChanged:!0,dimensionsChanged:[!0,!1]}),e.hasAddedElements()&&this.update(!0)},e.prototype.createData=function(){return new s(this.counterQueries.length,this.sessions.size())},e.prototype.processLocalData=function(t,e,n,i){t.setData(e,n,i)},e.prototype.processData=function(t,e){var n=this._data.isEmpty();return this._data.setData(t,this.getDataStartTime(e),e),{domainChanged:!0,xDomainChanged:!0,dataChanged:!0,dimensionsChanged:[],majorChange:n}},e.prototype.processIncrementalData=function(t,e,n,i){return t.addData(e,n,i),{domainChanged:!0,xDomainChanged:!0,dimensionsChanged:[],dataChanged:!0}},e.prototype.dataDomain=function(t,e){var n=this.units[t];return this.localData?this.localData.domain(n,e):this._data.domain(n,e)},e.prototype.dataUnit=function(t){var e=t[0];return this.counterQueries[e].unitIndex()},e.prototype.dataUnits=function(t){var e=t[0];if(e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i],s=this.counterQueries[o].unitIndex();-1==n.indexOf(s)&&n.push(s)}return n}},e.prototype.dataText=function(t,e){var n=e[0];return this.counterQueries[n].displayValue(t)},e.prototype.getActions=function(t){return this.getCounterActions(t[0])},e}(r.GLinesCompareQueryProvider);e.GLinesCompareSingleQueryProvider=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(121),o=n(13),s=n(3);function a(t){var e=t.groups?t.groups[0].instances:[];return s.flattenContentInstances(e)}var u=function(t){function e(e,n){var i=t.call(this,n)||this;return i.instanceCount=e,i.points=[],i}return i.__extends(e,t),e.prototype.extractPoints=function(t,e,n,i,r){for(var o,a=new Array(t.length),u=function(t){o=s.arrayIndexOf(r,t.name);var u=e.map(function(e){return e[t.index]});a[o]=s.toCoordinates(u,n,i)},l=0,c=t;l<c.length;l++){u(c[l])}return a},e.prototype.values=function(t){var e=t[1],n=t[0],i=this.points[e];if(void 0===i)return[];var r=i[n];return void 0==r?[]:r},e.prototype.domain=function(t,e){var n,i;return e&&(i=e[0],n=e[1]),s.uextent(t,this.points,3,[void 0,i,n],[s.pointValue,void 0,void 0])},e.prototype.setData=function(e,n,i,r,o){var s=t.prototype._setData.call(this,e,i,o);this.points[o]=this.extractPoints(n,e.values,this._interval[o],s,r.items())},e.prototype.addData=function(e,n,i,r,o){for(var a=t.prototype._addData.call(this,e,i,o),u=this.extractPoints(n,e.values,this._interval[o],a,r.items()),l=0;l<this.points[o].length;l++)s.concatCoordinates(this.points[o][l],u[l]);for(var c=l;c<u.length;c++)this.points[o][c]=u[c]},e.prototype.addInstance=function(){this.instanceCount++;for(var t=0,e=this.points;t<e.length;t++){e[t].push([])}},e}(r.Data),l=function(t){function e(e,n,i){var r=t.call(this,e,n,i,new u(0,n.length))||this;if(1!=r.counterQueries.length)throw"Only one counter query allowed for counter queries with wildcards";return r.instances=new o.InstancesDimension,r.dimensions=[r.instances,r.sessions],r}return i.__extends(e,t),e.prototype.createData=function(){return new u(this.instances.size(),this.sessions.size())},e.prototype.processLocalData=function(t,e,n,i){var r=a(e);t.setData(e,r,n,this.instances,i)},e.prototype.processData=function(t,e){if(void 0===t)throw"Empty response received from server";var n=this._data.isEmpty(),i=a(t),r=this.updateInstances(i,e);return this._data.setData(t,i,this.getDataStartTime(e),this.instances,e),r&&this.updateLocalData(),{dimensionsChanged:[r],domainChanged:!0,xDomainChanged:!0,dataChanged:!0,majorChange:n}},e.prototype.processIncrementalData=function(t,e,n,i){var r=a(e),o=this.updateInstances(r,i);return t.addData(e,r,n,this.instances,i),{dimensionsChanged:[o],domainChanged:!0,xDomainChanged:!0,dataChanged:!0}},e.prototype.updateInstances=function(t,e){var n=this;return this.instances.feedValues(t,{instanceAdded:function(t){n._data.addInstance(),n.localData&&n.localData.addInstance()},instanceModified:function(t,e){}})},e.prototype.dataUnit=function(t){return 0},e.prototype.dataUnits=function(t){return[0]},e.prototype.dataText=function(t,e){return this.counterQueries[0].displayValue(t)},e.prototype.getActions=function(t){return this.getCounterActions(0,this.instances.items()[t[0]])},e}(r.GLinesCompareQueryProvider);e.GLinesCompareWildcardQueryProvider=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.dim=t.dimensionsCount()-e.length,this.fixed=e,this.provider=t}return t.prototype.on=function(t,e){return this.provider.on("changed",e)},t.prototype.dimensionsCount=function(){return this.dim},t.prototype.dimension=function(t){if(t<=this.dim)return this.provider.dimension(t)},t.prototype.variableUnit=function(t){return t<=this.dim&&this.provider.variableUnit(t)},t.prototype.dataUnit=function(t){return this.provider.dataUnit(this.fixate(t))},t.prototype.dataUnits=function(t){return this.provider.dataUnits(this.fixate(t))},t.prototype.dataText=function(t,e){return this.provider.dataText(t,this.fixate(e))},t.prototype.dataDomain=function(t,e){return this.provider.dataDomain(t,this.fixate(e))},t.prototype.getActions=function(t){return this.provider.getActions(this.fixate(t))},t.prototype.dataValue=function(t){return this.provider.dataValue(t)},t.prototype.unitCount=function(){return this.provider.unitCount()},t.prototype.unitLabel=function(t){return this.provider.unitLabel(t)},t.prototype.unitDomain=function(t){return this.provider.unitDomain(t)},t.prototype.unitScale=function(t,e){return this.provider.unitScale(t,e)},t.prototype.fixate=function(t){return[].concat(t).concat(this.fixed)},t}();e.GDimensionReducer=r;var o=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.data=function(t){return this.provider.data(this.fixate(t))},e.prototype.dataConsolidatedDomain=function(t,e,n){return this.provider.dataConsolidatedDomain(t,this.fixate(e),n)},e}(r);e.GTabularDimensionReducer=o;var s=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.xLabel=function(){return this.provider.xLabel()},e.prototype.xDomain=function(){return this.provider.xDomain()},e.prototype.xScale=function(t){return this.provider.xScale(t)},e.prototype.data=function(t){return this.provider.data(this.fixate(t))},e}(r);e.GLinesDimensionReducer=s;var a=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.setXDomain=function(t){this.provider.setXDomain(t)},e.prototype.getXDomain=function(){return this.provider.getXDomain()},e.prototype.getFixedProvider=function(){var t=this.provider.getFixedProvider();return new s(t,this.fixed)},e}(s);e.GVariableLinesDimensionReducer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){if(e.length<t.dimensionsCount())throw"Cannot reduce the dimensions count";this.newOrder=e,this.provider=t,this.o2a=[],this.dimensions=[];for(var n=0;n<e.length;n++){var i=e[n];null==i?this.dimensions.push(new u):(this.dimensions.push(t.dimension(i)),this.o2a[i]=n)}}return t.prototype.on=function(t,e){var n=this;return this.provider.on("changed",function(t){return e(n.translateEvent(t))})},t.prototype.translateEvent=function(t){for(var e={majorChange:t.majorChange,unitsChanged:t.unitsChanged,domainChanged:t.domainChanged,dataChanged:t.dataChanged,dimensionsChanged:[]},n=0;n<this.o2a.length;n++)t.dimensionsChanged[n]&&(e.dimensionsChanged[this.o2a[n]]=!0);return e},t.prototype.dimensionsCount=function(){return this.dimensions.length},t.prototype.dimension=function(t){return this.dimensions[t]},t.prototype.variableUnit=function(t){var e=this.newOrder[t];return void 0!=e&&this.provider.variableUnit(e)},t.prototype.dataUnit=function(t){return this.provider.dataUnit(this.original(t))},t.prototype.dataUnits=function(t){return this.provider.dataUnits(this.original(t))},t.prototype.dataText=function(t,e){return this.provider.dataText(t,this.original(e))},t.prototype.dataDomain=function(t,e){return this.provider.dataDomain(t,this.original(e))},t.prototype.getActions=function(t){return this.provider.getActions(this.original(t))},t.prototype.dataValue=function(t){return this.provider.dataValue(t)},t.prototype.unitCount=function(){return this.provider.unitCount()},t.prototype.unitLabel=function(t){return this.provider.unitLabel(t)},t.prototype.unitDomain=function(t){return this.provider.unitDomain(t)},t.prototype.unitScale=function(t,e){return this.provider.unitScale(t,e)},t.prototype.original=function(t){for(var e=[],n=0;n<this.o2a.length;n++)e[n]=t[this.o2a[n]];return e},t}();e.GMatrixSwapper=r;var o=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.data=function(t){return this.provider.data(this.original(t))},e.prototype.dataConsolidatedDomain=function(t,e,n){return null==(n=this.newOrder[n])?this.provider.dataDomain(t,this.original(e)):this.provider.dataConsolidatedDomain(t,this.original(e),n)},e}(r);e.GTabularSwapper=o;var s=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.xLabel=function(){return this.provider.xLabel()},e.prototype.xDomain=function(){return this.provider.xDomain()},e.prototype.xScale=function(t){return this.provider.xScale(t)},e.prototype.data=function(t){return this.provider.data(this.original(t))},e.prototype.translateEvent=function(e){var n=t.prototype.translateEvent.call(this,e);return n.xDomainChanged=e.xDomainChanged,n},e}(r);e.GLinesSwapper=s;var a=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.setXDomain=function(t){this.provider.setXDomain(t)},e.prototype.getXDomain=function(){return this.provider.getXDomain()},e.prototype.getFixedProvider=function(){var t=this.provider.getFixedProvider();return new s(t,this.newOrder)},e}(s);e.GVariableLinesSwapper=a;var u=function(){function t(){this._color=d3.scale.category20().domain(d3.range(1))}return t.prototype.name=function(){return""},t.prototype.size=function(){return 1},t.prototype.items=function(){return[0]},t.prototype.key=function(){return null},t.prototype.label=function(t,e){return""},t.prototype.color=function(t){return this._color(t)},t.prototype.variableUnit=function(){return!1},t.prototype.on=function(t,e){return null},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(3),s=function(t){function e(e,n){var i=t.call(this)||this;return i.provider=e,i.consolidatedDim=n,i.filter=o.sameElementArray(e.dimensionsCount(),void 0),e.on("changed",function(t){i.emit("changed",t)}),i}return i.__extends(e,t),e.prototype.unitCount=function(){return this.provider.unitCount()},e.prototype.unitLabel=function(t){return this.provider.unitLabel(t)},e.prototype.unitDomain=function(t){return this.provider.dataConsolidatedDomain(t,this.filter,this.consolidatedDim)},e.prototype.unitScale=function(t,e){return this.provider.unitScale(t,e)},e}(r.Evented);e.GConsolidatedUnitProvider=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(3),o=function(){function t(t,e){this.provider=t,this.splitDim=e}return t.prototype.on=function(t,e){var n=this;return this.provider.on("changed",function(t){return e(n.translateEvent(t))})},t.prototype.translateEvent=function(t){return{majorChange:t.majorChange,unitsChanged:t.unitsChanged||t.dimensionsChanged[this.splitDim],domainChanged:t.domainChanged,dataChanged:t.dataChanged,dimensionsChanged:t.dimensionsChanged}},t.prototype.dimensionsCount=function(){return this.provider.dimensionsCount()},t.prototype.dimension=function(t){return this.provider.dimension(t)},t.prototype.variableUnit=function(t){return t==this.splitDim||this.provider.variableUnit(t)},t.prototype.dataText=function(t,e){return this.provider.dataText(t,e)},t.prototype.getActions=function(t){return this.provider.getActions(t)},t.prototype.dataValue=function(t){return this.provider.dataValue(t)},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.dataUnit=function(t){return t[this.splitDim]*this.provider.unitCount()+this.provider.dataUnit(t)},e.prototype.dataUnits=function(t){var e=t[this.splitDim],n=this.provider.dataUnits(t);if(e||n){var i=this.provider.unitCount(),r=[];if(e)for(var o=0,s=0;o<e.length;o++)if(n)for(var a=0;a<n.length;a++,s++)r[s]=e[o]*i+n[a];else for(a=0;a<i;a++,s++)r[s]=e[o]*i+a;else{var u=this.provider.dimension(this.splitDim).size();for(o=0,s=0;o<u;o++)for(a=0;a<n.length;a++,s++)r[s]=o*i+n[a]}return r}},e.prototype.dataDomain=function(t,e){var n=this.provider.unitCount(),i=t/n|0;t%=n;var r=e[this.splitDim];return r=r&&-1==r.indexOf(i)?[]:[i],e[this.splitDim]=r,this.provider.dataDomain(t,e)},e.prototype.unitCount=function(){return this.provider.dimension(this.splitDim).size()*this.provider.unitCount()},e.prototype.unitLabel=function(t){return this.provider.unitLabel(t%this.provider.unitCount())},e.prototype.unitDomain=function(t){var e=this.provider.unitCount(),n=t/e|0;t%=e;var i=[];return i[this.splitDim]=[n],this.provider.dataDomain(t,i)},e.prototype.unitScale=function(t,e){return this.provider.unitScale(t%this.provider.unitCount(),e)},e}(o),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.originalUnit=function(t){var e=r.sameElementArray(this.provider.dimensionsCount(),0);return e[this.splitDim]=t,this.provider.dataUnit(e)},e.prototype.dataUnit=function(t){return t[this.splitDim]},e.prototype.dataUnits=function(t){return t[this.splitDim]},e.prototype.dataDomain=function(t,e){var n=e[this.splitDim];return n=n&&-1==n.indexOf(t)?[]:[t],e[this.splitDim]=n,this.provider.dataDomain(this.originalUnit(t),e)},e.prototype.unitCount=function(){return this.provider.dimension(this.splitDim).size()},e.prototype.unitLabel=function(t){return this.provider.unitLabel(this.originalUnit(t))},e.prototype.unitDomain=function(t){var e=[];return e[this.splitDim]=[t],this.provider.dataDomain(this.originalUnit(t),e)},e.prototype.unitScale=function(t,e){return this.provider.unitScale(this.originalUnit(t),e)},e}(o),u=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.data=function(t){return this.provider.data(t)},e.prototype.dataConsolidatedDomain=function(t,e,n){var i=this.provider.unitCount(),r=t/i|0;t%=i;var o=e[this.splitDim];return o=o&&-1==o.indexOf(r)?[]:[r],e[this.splitDim]=o,this.provider.dataConsolidatedDomain(t,e,n)},e}(s);e.TabularIndependentUnitSplitter=u;var l=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.data=function(t){return this.provider.data(t)},e.prototype.dataConsolidatedDomain=function(t,e,n){var i=e[this.splitDim];return i=i&&-1==i.indexOf(t)?[]:[t],e[this.splitDim]=i,this.provider.dataConsolidatedDomain(this.originalUnit(t),e,n)},e}(a);e.TabularDependentUnitSplitter=l;var c=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.translateEvent=function(e){var n=t.prototype.translateEvent.call(this,e);return n.xDomainChanged=e.xDomainChanged,n},e.prototype.xLabel=function(){return this.provider.xLabel()},e.prototype.xDomain=function(){return this.provider.xDomain()},e.prototype.xScale=function(t){return this.provider.xScale(t)},e.prototype.data=function(t){return this.provider.data(t)},e}(s);e.LineIndependentUnitSplitter=c;var h=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.translateEvent=function(e){var n=t.prototype.translateEvent.call(this,e);return n.xDomainChanged=e.xDomainChanged,n},e.prototype.xLabel=function(){return this.provider.xLabel()},e.prototype.xDomain=function(){return this.provider.xDomain()},e.prototype.xScale=function(t){return this.provider.xScale(t)},e.prototype.data=function(t){return this.provider.data(t)},e}(a);e.LineDependentUnitSplitter=h;var d=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.setXDomain=function(t){this.provider.setXDomain(t)},e.prototype.getXDomain=function(){return this.provider.getXDomain()},e.prototype.getFixedProvider=function(){var t=this.provider.getFixedProvider();return new c(t,this.splitDim)},e}(c);e.VariableLineIndependentUnitSplitter=d;var p=function(t){function e(e,n){return t.call(this,e,n)||this}return i.__extends(e,t),e.prototype.setXDomain=function(t){this.provider.setXDomain(t)},e.prototype.getXDomain=function(){return this.provider.getXDomain()},e.prototype.getFixedProvider=function(){var t=this.provider.getFixedProvider();return new h(t,this.splitDim)},e}(h);e.VariableLineDependentUnitSplitter=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(34),o=n(2).Properties.APPMSG,s=function(){return function(t){var e=t.showTitle,n=void 0!==e&&e,i=t.allowDoubleClick,r=void 0===i||i;this.showTitle=n,this.allowDoubleClick=r}}();e.LegendOptions=s;var a=72;var u=function(){function t(t,e,n,i){this.provider=t,this.options=e,this.pager=n,this.nameFilter=i}return t.create=function(t,e,n,i,o){return r.isColorProvider(e)?new h(t,e,n,i,o):r.isStrokeProvider(e)?new p(t,e,n,i,o):r.isShadeProvider(e)?new g(t,e,n,i,o):new v(t,n,i,o)},t.prototype.getProvider=function(){return this.provider},t.prototype.adjustBannerVisibility=function(){var t=this.nameFilter&&this.nameFilter.isVisible()||this.pager&&this.pager.isVisible(),e=$(this.banner.node());t?e.show():e.hide()},t.prototype.renderContents=function(t){var e=this,n=t.append("div").classed("legend-wrapper",!0);(this.nameFilter||this.pager)&&(this.banner=n.append("div").classed("legend-banner",!0),this.nameFilter&&this.nameFilter.renderContents(this.banner,function(){return e.adjustBannerVisibility()}),this.pager&&this.pager.renderContents(this.banner,function(){return e.adjustBannerVisibility()})),this.legend=n.append("div").classed("legend",!0),this.options.showTitle&&this.legend.append("header").text(this.provider.name()),this.legend.append("div").classed("legend-body",!0).append("ul"),this.legend.append("footer").append("a").text(o.SelectAllButton_label).attr("id","selectAll").style("visibility","hidden").attr("href","javascript: void").attr("class","btn").on("click",function(){return e.selectAll()}),this.renderItems(),this.provider.on("changed",function(t){return e.processChange(t)})},t.prototype.processChange=function(t){t.sourceItemsChanged?(this.legend.select("div").select("ul").selectAll("li").remove(),this.renderItems()):t.selectionChanged&&this.selectionChanged()},t.prototype.renderItems=function(){var t=this,e=this.provider.source();this.items=this.legend.select("ul").selectAll("li").data(e.items(),e.key());var n=this.items.enter().append("li").append("a").attr("class","btn").attr("href","javascript: void").on("click",function(e,n){t.switchSelection(n),d3.event.preventDefault()});this.options.allowDoubleClick&&n.on("dblclick",function(e,n){t.selectOnly(n),d3.event.preventDefault()}),this.renderItemVisual(n),n.append("span").each(function(t,n){var i,r=d3.select(this),o=e.label(t,n);r.attr("title",(i=o,i.length<a?null:i)).text(function(t){return t.length<a?t:t.substring(0,a)}(o))})},t.prototype.switchSelection=function(t){var e=this.provider.isItemSelected(t);this.provider.selectItem(t,!e)},t.prototype.selectOnly=function(t){this.provider.selectItems([t])},t.prototype.selectAll=function(){this.provider.selectItems(void 0)},t.prototype.selectionChanged=function(){this.updateItemVisual(this.items),this.legend.select("footer").select("#selectAll").style("visibility",this.provider.isAllItemsSelected()?"hidden":"visible")},t.prototype.highlight=function(t){this.items.transition().duration(100).style("opacity",function(e,n){return n!=t?.18:1})},t.prototype.highlightMultiple=function(t){this.items.transition().duration(100).style("opacity",function(e,n){return-1==t.indexOf(n)?.18:1})},t.prototype.clearHighlight=function(){this.items.transition().style("opacity",1)},t}();e.Legend=u;var l=function(t){function e(e,n,i,r,o){var s=t.call(this,e,i,r,o)||this;return s.ornamentProvider=n,s}return i.__extends(e,t),e}(u);function c(t,e){return function(n,i){return t.isItemSelected(i)?e.color(i):"none"}}var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderItemVisual=function(t){var e;t.append("svg").attr("height",15).attr("width",25).append("rect").attr("height",15).attr("width",25).attr("fill",c(this.provider,this.ornamentProvider)).attr("stroke",(e=this.ornamentProvider,function(t,n){return e.color(n)}))},e.prototype.updateItemVisual=function(t){t.select("svg").select("rect").transition().attr("fill",c(this.provider,this.ornamentProvider))},e.prototype.getHighlightColor=function(t){return t.select("svg").select("rect").attr("fill")},e}(l);function d(t){return function(e,n){return t.isItemSelected(n)?"#444444":"#bbbbbb"}}var p=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return i.__extends(e,t),e.prototype.renderItemVisual=function(t){var e=this,n=t.append("svg").attr("height",15).attr("width",65);n.append("rect").attr("height",15).attr("width",65).attr("fill","none").attr("stroke",d(this.provider)),n.append("path").attr("d","M 0 7.5 H 65").attr("stroke","black").attr("stroke-dasharray",function(t,n){return e.ornamentProvider.stroke(n)})},e.prototype.updateItemVisual=function(t){t.select("svg").select("rect").transition().attr("stroke",d(this.provider))},e}(l);function f(t,e){return function(n,i){return t.isItemSelected(i)?e.shade("#333333",i):"none"}}var g=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return i.__extends(e,t),e.prototype.renderItemVisual=function(t){t.append("svg").attr("height",15).attr("width",25).append("rect").attr("height",15).attr("width",25).attr("fill",f(this.provider,this.ornamentProvider)).attr("stroke","black")},e.prototype.updateItemVisual=function(t){t.select("svg").select("rect").transition().attr("fill",f(this.provider,this.ornamentProvider))},e}(l);function m(t){return function(e,n){return t.isItemSelected(n)?"gray":"none"}}var v=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return i.__extends(e,t),e.prototype.renderItemVisual=function(t){t.append("svg").attr("height",15).attr("width",25).append("rect").attr("height",15).attr("width",25).attr("fill",m(this.provider)).attr("stroke","black")},e.prototype.updateItemVisual=function(t){t.select("svg").select("rect").transition().attr("fill",m(this.provider))},e}(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(26),o=n(3);function s(){var t=d3.scale.ordinal();return t.invert=function(t){var e=this.rangeBand();for(var n in this.domain()){var i=this(n);if(t<=i+e)return t>=i?+n:-1}return-1},t}var a=function(){function t(t){this.labelsDisplayMode="fixed",this.provider=t,this.xmode=0}return t.prototype.position=function(t,e){return this.xScale(t)+this.innerXScale(e)+this.innerXScale.rangeBand()/2},t.prototype.resolve=function(t){if(t>=0&&t<=this.xScale.rangeExtent()[1]){var e=this.xScale.invert(t);if(e>=0&&e<this.provider.dimension(0).size()){t-=this.xScale(e);var n=this.innerXScale.invert(t);if(n>=0&&n<this.provider.dimension(1).size())return[e,n]}}return null},t.prototype.createXScale=function(){return s()},t.prototype.updateXScaleRange=function(t){1==this.provider.dimension(0).size()?this.xScale.rangeRoundBands(t):this.xScale.rangeRoundBands(t,.3)},t.prototype.updateXScaleDomain=function(){var t=this.provider.dimension(0);this.xScale.domain(d3.range(t.size()))},t.prototype.createInnerXScale=function(){return s()},t.prototype.updateInnerXScaleDomain=function(){var t=this.provider.dimension(1);this.innerXScale.domain(d3.range(t.size()))},t.prototype.updateInnerXScaleRange=function(){var t=1==this.provider.dimension(0).size()?.3:0;this.innerXScale.rangeRoundBands([0,this.xScale.rangeBand()],t)},t.prototype.setLabelsDisplayMode=function(t){this.labelsDisplayMode=t},t.prototype.computeMargin=function(){return"hidden"==this.labelsDisplayMode?new r.Margin(0,0,0,0):this.computeOrientedMargin()},t.prototype.renderContents=function(t,e,n){var i=this;this.renderSize=[e,n],this.xScale=this.createXScale(),this.updateXScaleRange([0,this.getScale()]),this.updateXScaleDomain(),this.innerXScale=this.createInnerXScale(),this.updateInnerXScaleRange(),this.updateInnerXScaleDomain(),this.xAxis=this.createAxis(),this.domXAxis=this.renderAxis(t,this.getAxisPosition(e,n),this.xAxis);var r=this.provider.dimension(0);return this.xAxis.scale(this.xScale),this.xAxis.tickFormat(function(t){return"hidden"==i.labelsDisplayMode?"":r.label(r.items()[t],t)}),this.renderExtras(t,e,n),this.updateXMode(this.domXAxis,!0,!1)},t.prototype.renderExtras=function(t,e,n){},t.prototype.processChange=function(t){return t.dimensionsChanged[1]&&this.processDim1Changed(),!!t.dimensionsChanged[0]&&(this.updateXScaleRange([0,this.getScale()]),this.updateXScaleDomain(),this.updateInnerXScaleRange(),this.updateXMode(this.domXAxis,!0,!t.majorChange))},t.prototype.processDim1Changed=function(){this.updateInnerXScaleDomain()},t}();e.SeriesAxis=a;var u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.slider=n,i}return i.__extends(e,t),e.prototype.getSliderMinCellWidth=function(){return Math.max(30,12*this.provider.dimension(1).size())},e.prototype.processDim1Changed=function(){t.prototype.processDim1Changed.call(this),this.slider&&this.slider.setMinCellWidth(this.getSliderMinCellWidth())},e.prototype.renderExtras=function(t,e,n){var i=this;if(this.slider){this.provider.dimension(1);this.slider.renderContents(t,[e,n],this.getSliderMinCellWidth(),function(){return i.updateHeight(i.domXAxis)})}},e.prototype.setWidth=function(t){return this.renderSize[0]=t,this.updateXScaleRange([0,this.getScale()]),this.updateInnerXScaleRange(),this.slider&&this.slider.setWidth(t),this.updateXMode(this.domXAxis,!1,!1)},e.prototype.setHeight=function(t){return this.renderSize[1]=t,this.updateHeight(this.domXAxis),!1},e.prototype.updateHeight=function(t){var e=this.slider?this.slider.getHeight():0;this.domXAxis.attr("transform","translate(0,"+(this.renderSize[1]+e)+")"),this.slider&&this.slider.setHeight(this.renderSize[1]),this.domXAxis.select("path").attr("transform",e?"translate(0 -"+e+")":null)},e.prototype.getXMode=function(t,e){if(0==t.size())return 0;var n=0;return t.each(function(){var t=o.textLength(this);t>n&&(n=t)}),0==n?0:n+10>e/t.size()?2:1},e.prototype.updateXMode=function(t,e,n){t.call(this.xAxis);var i=t.selectAll(".tick text"),r=this.getXMode(i,this.getScale()),o=this.xmode!=r;if(o&&(this.xmode=r),2==r){if(i.style("text-anchor","start"),o||e){var s=-Math.floor(this.xAxis.scale().rangeBand()/5);i.attr("transform","translate("+s+"), rotate(40)")}}else(o||e)&&i.attr("transform",null).style("text-anchor","middle");return this.updateHeight(t),o},e.prototype.createAxis=function(){return d3.svg.axis().tickSize(0,0).orient("bottom").scale(this.xScale)},e.prototype.getScale=function(){return this.renderSize[0]},e.prototype.getAxisPosition=function(t,e){return e},e.prototype.renderAxis=function(t,e,n){return t.append("g").attr("class","series axis horizontal").attr("transform","translate(0,"+e+")").call(n)},e.prototype.computeOrientedMargin=function(){var t=this.estimateAxisSize();if("fixed"==this.labelsDisplayMode)return new r.Margin(0,0,t,0);if("adaptative"==this.labelsDisplayMode&&2==this.xmode&&this.domXAxis){var e=0;this.domXAxis.selectAll(".tick text").each(function(){e=Math.max(o.textLength(this),e)});var n=Math.floor(e/Math.sqrt(2));return n=n/2>this.renderSize[1]?t:n,new r.Margin(0,0,n,0)}return new r.Margin(0,0,t,0)},e.prototype.estimateAxisSize=function(){switch(this.xmode){case 0:return 0;case 1:return 20;case 2:return 120;default:throw"XModeUnhandled"}},e}(a);e.HorizontalSeriesAxis=u;var l=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.getMinimumSize=function(){if(this.domXAxis){var t=this.domXAxis.selectAll(".tick text"),e=0;return t.each(function(){e+=o.textHeight(this)}),e+=12*t.size()}return-1},e.prototype.setWidth=function(t){return this.domXAxis.attr("transform","translate("+t+",0)"),!1},e.prototype.setHeight=function(t){var e=this.getMinimumSize();t=t<e?e:t;var n=this.renderSize[1]!=t;return this.renderSize[1]=t,this.updateXScaleRange([0,this.getScale()]),this.updateInnerXScaleRange(),n&&this.updateXMode(this.domXAxis,!1,!1)},e.prototype.getXMode=function(t,e){return 0==t.size()?0:1},e.prototype.updateXMode=function(t,e,n){t.call(this.xAxis);var i=t.selectAll(".tick text");this.getXMode(i,this.renderSize[0]);return e&&i.attr("transform",null).style("text-anchor","end"),!0},e.prototype.createAxis=function(){return d3.svg.axis().tickSize(0,0).orient("left").scale(this.xScale)},e.prototype.getScale=function(){return this.renderSize[1]},e.prototype.getAxisPosition=function(t,e){return e},e.prototype.renderAxis=function(t,e,n){return t.append("g").attr("class","series axis vertical").attr("transform","translate("+e+",0)").call(n)},e.prototype.computeOrientedMargin=function(){if(this.domXAxis){var t=0;this.domXAxis.selectAll(".tick text").each(function(){var e=o.textLength(this);e>t&&(t=e)});var e=this.renderSize[0]-this.renderSize[0]/10;return t+10<e?new r.Margin(0,0,0,t):new r.Margin(0,0,0,e)}var n=this.estimateAxisSize();return new r.Margin(0,0,0,n)},e.prototype.estimateAxisSize=function(){switch(this.xmode){case 0:return 0;case 1:return 150;case 2:return 120;default:throw"XModeUnhandled"}},e}(a);e.VerticalSeriesAxis=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(34);function o(t,e,n){return n?"translate("+t+")":"translate("+e+","+t+")"}var s=function(){function t(t,e,n,i,o,s){this.offset=0,this.provider=t,this.seriesAxis=n,this.valuesAxis=i,this.toneProvider=r.toToneProvider(e,1,2),this.showValues=o,this.vertical=s}return t.prototype.renderContents=function(t,e,n,i){this.height=n,this.width=e,this.parent=t,this.offset=i,this.createGroups(this.parent,this.primaryFunctions(),!1)},t.prototype.processChange=function(t){this.update({xAffected:t.dimensionsChanged[0]||t.dimensionsChanged[1],yAffected:t.dataChanged||t.domainChanged||t.dimensionsChanged[2],dimsAffected:t.dimensionsChanged,majorChange:t.majorChange})},t.prototype.update=function(t){var e=this;this.updateGroups(this.parent,this.primaryFunctions(),t).each(function(n,i){var r=d3.select(this),o=e.secondaryFunctions(i),s=e.updateGroups(r,o,t);(t.xAffected||t.yAffected)&&s.each(function(n,r){var o=d3.select(this);e.updateBars(o,t,i,r)})}),this.valueIndices&&this._showValue(this.valueIndices)},t.prototype.primaryFunctions=function(){var t=this.seriesAxis,e=this;return{dim:0,clazz:"primary-group",groupX:function(n,i){return o(t.xScale(i),e.offset,e.vertical)},middle:function(n,i){return o(t.xScale(i)+t.xScale.rangeBand()/2,e.offset,this.vertical)},createChild:function(t,n,i){e.createGroups(t,e.secondaryFunctions(n),i)}}},t.prototype.secondaryFunctions=function(t){var e=this.seriesAxis,n=this;return{dim:1,clazz:"secondary-group",groupX:function(t,i){return o(e.innerXScale(i),0,n.vertical)},middle:function(t,i){return o(e.innerXScale(i)+e.innerXScale.rangeBand()/2,0,n.vertical)},createChild:function(e,i,r){n.createBars(e,t,i,r)}}},t.prototype.createGroups=function(t,e,n){var i=this.provider.dimension(e.dim);t.selectAll("."+e.clazz).data(i.items(),i.key()).enter().append("g").classed(e.clazz,!0).attr("transform",n?null:e.groupX).each(function(t,i){var r=d3.select(this);e.createChild(r,i,n)})},t.prototype.updateGroups=function(t,e,n){var i=this.provider.dimension(e.dim),r=t.selectAll("."+e.clazz).data(i.items(),i.key());if(n.xAffected)if(n.dimsAffected[e.dim]){r.exit().remove();var o=r.enter().append("g").classed(e.clazz,!0);n.majorChange?r.attr("transform",e.groupX):(o.attr("transform",e.middle),r.transition().attr("transform",e.groupX));o.each(function(t,i){var r=d3.select(this);e.createChild(r,i,!n.majorChange)})}else{(n.majorChange?r:r.transition()).attr("transform",e.groupX)}return r},t.prototype.barFunctions=function(t,e){for(var n=this,r=function(i,r){i||(i=0);var o=n.provider.dataUnit([t,e,r]);return n.valuesAxis.scales[o](i)},o=[],s=this.provider.dimension(2),a=s.size()>0?r(0,0):0,u=this.toneProvider,l=this.provider,c=function(n,i){var r=[t,e,i];return l.dataText(l.data(r),r)},h=1==s.size(),d=function(t,e){return o[e].height},p=this.seriesAxis.innerXScale.rangeBand(),f=function(t,n){return i.textColor(u.color(e,n))},g=a,m=a,v=0;v<s.size();v++){var y=this.provider.data([t,e,v]),_=r(0,v)-r(y,v),b=_<0;b&&(_=-_);var C=_<4;C&&(_=4),o[v]={y:b?m:this.vertical?g-=_:0,height:_,small:C},b&&(m+=_)}var x=this.vertical,w=this.width;return{barY:function(t,e){return o[e].y},barHeight:d,barFill:function(t,n){return o[n].small?"none":u.color(e,n)},barStroke:function(t,n){return o[n].small?u.color(e,n):null},barWidth:p,base:a,textColor:function(t,n){return i.textColor(u.color(e,n))},textRelAttributes:function(t){if(x)t.attr("dy",h?"-0.3em":"1.2em").attr("fill",h?null:f).attr("text-anchor","middle");else{var e=i.textHeight(t.node());i.textLength(t.node());t.attr("dx",function(e,n){return i.textLength(t.node())+d(0,n)+20<w?"0.3em":"-0.3em"}).attr("dy",e/2).attr("fill",function(e,n){return i.textLength(t.node())+d(0,n)+20<w?null:f(0,n)}).attr("text-anchor",function(e,n){return i.textLength(t.node())+d(0,n)+20<w?"start":"end"})}},textApply:function(t){t.text(c).style("display","default").style("display",function(e,n){return x?!h&&d(0,n)<14?"none":i.textLength(t.node())<=p-2?"default":"none":(t.style("display",""),i.textHeight(t.node())<=p?"default":"none")})},showAbove:h}},t.prototype.createBars=function(t,e,n,i){var r=this.provider.dimension(2),o=this.barFunctions(e,n);t.selectAll(".bar").data(r.items(),r.key()).enter().append("rect").classed("bar",!0).attr(this.vertical?"width":"height",i?0:o.barWidth).attr(this.vertical?"y":"x",o.barY).attr(this.vertical?"height":"width",o.barHeight).style("fill",o.barFill).style("stroke",o.barStroke),this.showValues&&this.createValues(t,o)},t.prototype.createValues=function(t,e){var n=this.provider.dimension(2),i=t.selectAll(".value").data(n.items(),n.key());this.vertical?i.enter().append("text").classed("value",!0).attr("x",e.barWidth/2).attr("y",e.barY).call(e.textRelAttributes).call(e.textApply):i.enter().append("text").classed("value",!0).attr("y",e.barWidth/2).attr("x",e.barHeight).call(e.textRelAttributes).call(e.textApply)},t.prototype.updateBars=function(t,e,n,i){var r=this.provider.dimension(2),o=this.barFunctions(n,i),s=t.selectAll(".bar").data(r.items(),r.key()),a=this;if(e.majorChange)e.dimsAffected[2]&&(s.exit().remove(),s.enter().append("rect").classed("bar",!0).attr(a.vertical?"y":"x",o.barY).attr(a.vertical?"height":"width",o.barHeight).attr(a.vertical?"width":"height",o.barWidth)),s.style("fill",o.barFill).style("stroke",o.barStroke),(e.xAffected||e.yAffected)&&(e.yAffected&&s.attr(a.vertical?"y":"x",o.barY).attr(a.vertical?"height":"width",o.barHeight),e.xAffected&&s.attr(a.vertical?"width":"height",o.barWidth));else{if(e.dimsAffected[2]){s.exit().remove(),s.enter().append("rect").classed("bar",!0).attr(a.vertical?"y":"x",function(t,e){for(var n=s[0],i=e+1;i<n.length;i++)if((r=d3.select(n[i])).attr(a.vertical?"y":"x"))return+r.attr(a.vertical?"y":"x")+ +r.attr(a.vertical?"height":"width");for(i=e-1;i>=0;i--){var r;if((r=d3.select(n[i])).attr(a.vertical?"y":"x"))return+r.attr(a.vertical?"y":"x")}return o.base}).attr(a.vertical?"height":"width",0).attr(a.vertical?"width":"height",o.barWidth)}if(s.style("fill",o.barFill).style("stroke",o.barStroke),e.xAffected||e.yAffected){var u=s.transition();e.yAffected&&u.attr(a.vertical?"y":"x",o.barY).attr(a.vertical?"height":"width",o.barHeight),e.xAffected&&u.attr(a.vertical?"width":"height",o.barWidth)}}this.showValues&&this.updateValues(t,e,o)},t.prototype.updateValues=function(t,e,n){var i=this.provider.dimension(2),r=t.selectAll(".value").data(i.items(),i.key()),o=this.vertical;if(e.majorChange)e.dimsAffected[2]&&(r.exit().remove(),r.enter().append("text").classed("value",!0).attr(o?"x":"y",n.barWidth/2).attr(o?"y":"x",o?n.barY:n.barHeight).call(n.textRelAttributes).call(n.textApply)),r.call(n.textApply).call(n.textRelAttributes),e.yAffected&&r.attr(o?"y":"x",o?n.barY:n.barHeight),e.xAffected&&r.attr(o?"x":"y",n.barWidth/2);else if(o?e.dimsAffected[2]&&(r.exit().remove(),r.enter().append("text").classed("value",!0).attr(o?"x":"y",n.barWidth/2).attr(o?"y":"x",o?n.barY:n.barHeight).call(n.textApply).call(n.textRelAttributes)):r.attr(o?"x":"y",n.barWidth/2).attr(o?"y":"x",o?n.barY:n.barHeight).call(n.textApply).call(n.textRelAttributes),e.xAffected||e.yAffected){var s=r.transition();e.yAffected&&s.attr(o?"y":"x",o?n.barY:n.barHeight),e.xAffected&&s.attr(o?"x":"y",n.barWidth/2)}},t.prototype.tertiaryIndex=function(t,e,n){var i=this.provider.dimension(2).size();if(1==i)return 0;for(var r=this.barFunctions(e,n),o=0;o<i;o++){var s=r.barY(null,o),a=s+r.barHeight(null,o);if(t>=s&&t<a)return o}return-1},t.prototype.showValue=function(t){return this.valueIndices&&i.arrayEquals(this.valueIndices,t)?null!=this.valueText:this._showValue(t)},t.prototype._showValue=function(t){this.hideValue(),this.valueIndices=t;var e=1==this.provider.dimension(2).size(),n=this.barFunctions(t[0],t[1]);if(!e&&n.barHeight(null,t[2])<14)return!1;var r=this.seriesAxis.position(t[0],t[1]),o=this.provider.data(t),s=this.parent.append("text").attr("class","value").text(this.provider.dataText(o,t));if(this.vertical&&i.textLength(s.node())>this.seriesAxis.innerXScale.rangeBand()-2)return s.remove(),!1;var a=i.textColor(this.toneProvider.color(t[1],t[2]));return this.vertical?s.attr("x",r).attr("y",n.barY(null,t[2])).attr("text-anchor","middle"):s.attr("x",n.barHeight(null,t[2])+this.offset).attr("y",r),s.attr("fill",e?null:a).call(n.textRelAttributes),this.valueText=s,!0},t.prototype.hideValue=function(){this.valueIndices&&(this.valueIndices=void 0,this.valueText&&(this.valueText.remove(),this.valueText=void 0))},t.prototype.setSize=function(t,e,n,i){this.height=e,this.offset=n,this.update({xAffected:!0,yAffected:!0,dimsAffected:[],majorChange:!i})},t.prototype.getHeight=function(){return this.height},t}();e.BarsContent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.visible=!0,this.provider=t}return t.prototype.processChange=function(t){(t.startIndexChanged||t.highestStartIndexChanged)&&this.updateSlider()},t.prototype.getHeight=function(){return this.visible?8:0},t.prototype.renderContents=function(t,e,n,i){var r=this;this.visiblityListener=i,this.width=e[0],this.minCellWidth=n,this.provider.setWindowSize(Math.ceil(this.width/n)),this.domBrush=t.append("g").attr("class","slider").attr("transform","translate(0, "+e[1]+")").style("pointer-events","all"),this.domBrush.append("rect").classed("background",!0).style("visibility","hidden").style("cursor","ew-resize").attr("width",e[0]).attr("height",8).on("mousedown",function(){return r.handlePage()});var o=this.domBrush.append("rect").classed("extent",!0).style("cursor","ew-resize").attr("y",1).attr("height",7).attr("rx",5).attr("ry",5).on("mousedown",function(){return r.handleMove()});this.updateExtent(o),this.provider.on("changed",function(t){return r.processChange(t)})},t.prototype.handlePage=function(){var t=d3.mouse(this.domBrush.node()),e=this.domBrush.select(".extent"),n=+e.attr("x");if(t[0]<n){var i=Math.max(this.provider.startIndex()-this.provider.windowSize(),0);this.provider.setStartIndex(i)}else if(t[0]>n+ +e.attr("width")){i=Math.min(this.provider.startIndex()+this.provider.windowSize(),this.provider.highestStartIndex());this.provider.setStartIndex(i)}},t.prototype.handleMove=function(){var t=this;d3.event.preventDefault();var e=d3.mouse(this.domBrush.node()),n=this.domBrush.select(".background").style("pointer-events","none"),i=+this.domBrush.select(".extent").attr("x"),r=e[0]-i,o=d3.select(window),s=d3.scale.linear().domain([0,this.provider.source().size()-1]).range([0,this.width]);d3.select("body").style("cursor","ew-resize"),o.on("mousemove",function(){var e=d3.mouse(t.domBrush.node())[0]-r,n=Math.min(t.provider.highestStartIndex(),Math.max(0,Math.round(s.invert(e))));t.provider.setStartIndex(n)}),o.on("mouseup",function(){o.on("mousemove",null),n.style("pointer-events","all"),d3.select("body").style("cursor",null)})},t.prototype.setWidth=function(t){this.width!=t&&(this.width=t,this.domBrush.select(".background").attr("width",t),this.provider.setWindowSize(Math.ceil(this.width/this.minCellWidth))||this.updateSlider())},t.prototype.setMinCellWidth=function(t){this.minCellWidth!=t&&(this.minCellWidth=t,this.provider.setWindowSize(Math.ceil(this.width/this.minCellWidth)))},t.prototype.setHeight=function(t){this.domBrush.attr("transform","translate(0, "+(t+1)+")")},t.prototype.updateSlider=function(){this.setVisible(this.provider.highestStartIndex()>0),this.updateExtent(this.domBrush.select(".extent"))},t.prototype.updateExtent=function(t){var e=d3.scale.linear().domain([0,this.provider.source().size()]).range([0,this.width]);t.attr("x",e(this.provider.startIndex())).attr("width",e(this.provider.size()))},t.prototype.setVisible=function(t){if(this.visible!=t){var e=$(this.domBrush.node());t?e.show():e.hide(),this.visible=t,this.visiblityListener&&this.visiblityListener(t)}},t.prototype.isVisible=function(){return this.visible},t}();e.Slider=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.tooltip=void 0,this.svg=t,this.height=e}return t.prototype.setHeight=function(t){this.height=t},t.prototype.show=function(t){this.tooltip=this.svg.append("g").attr("class","gradient-tooltip");var e=this.tooltip.append("defs").append("linearGradient").attr("id","gradientTooltip").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");e.append("stop").attr("offset","0%").attr("style","stop-color:#FDFDFD;stop-opacity:1"),e.append("stop").attr("offset","100%").attr("style","stop-color:#DFDFDF;stop-opacity:1");var n=this.tooltip.append("rect"),i=this.tooltip.append("text").attr("dx","6px").attr("dy","1.3em").text(t).node().getBBox(),r=this.svg.style("width");return n.attr("width",i.width+12).attr("height",i.height+8),this.tooltip.attr("transform","translate(0, "+this.height+") translate(0, -"+(i.height+8)+")"),!(i.width+10>parseInt(r,10))},t.prototype.hide=function(){this.tooltip&&(this.tooltip.remove(),this.tooltip=void 0)},t}();e.Tooltip=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this;return n.visibleLines=-1,n.fixedNFirstColumns=-1,n.showAllLines=!0,n.setClassName("tableviewer"),n}return i.__extends(e,t),e.prototype.setFixedNFirstColumns=function(t){this.fixedNFirstColumns=t},e.prototype.setShowAllLines=function(t){this.showAllLines=t},e.prototype.isShowAllLines=function(){return this.showAllLines},e.prototype.setVisibleLines=function(t){this.visibleLines=t,this.showAllLines=!1},e.prototype.setAltClass=function(t){this.altClass=t},e.prototype.setTable=function(t){this.renderTable(t)},e.prototype.getHeaderTable=function(){return $(this.fixedHeader).find(".tableviewer-table")},e.prototype.getFixedColumnHeaderTable=function(){return $(this.fixedColHeader).find(".tableviewer-table")},e.prototype.getWidthColumns=function(t,e){var n=0;return $(t).find("thead tr").children().each(function(t){t<e&&(n+=$(this).outerWidth())}),n},e.prototype.renderTable=function(t){var e=this;$(t).appendTo($(this.getContainer())),$(this.fixedHeader).remove(),$(this.fixedBody).remove(),$(this.fixedFooter).remove(),$(this.fixedColumn).remove(),$(this.fixedColHeader).remove(),$(this.fixedColBody).remove(),this.fixedHeader=$("<div>").addClass("tableviewer-header").appendTo($(this.getContainer())),this.fixedBody=$("<div>").addClass("tableviewer-body").appendTo($(this.getContainer())),$(t).find("tfoot").length>0&&(this.fixedFooter=$("<div>").addClass("tableviewer-footer").appendTo($(this.getContainer()))),$(t).find("thead .tableviewer-cell").remove(),$(t).find("thead tr th").each(function(){$("<div>").addClass("tableviewer-cell").width($(this).width()).appendTo($(this))}),$(t).find("thead tr td").each(function(){$("<div>").addClass("tableviewer-cell").width($(this).width()).appendTo($(this))});var n=$("<table>").addClass("tableviewer-table "+$(t).attr("class")).css("margin-left","0px").appendTo(this.fixedHeader);$(t).attr("id")&&n.attr("id",$(t).attr("id")),$(t).find("colgroup").clone().appendTo(n),$(t).find("thead").clone().appendTo(n);var i=$(n).outerHeight();if($(t).addClass("tableviewer-table").appendTo($(this.fixedBody)),$(t).css("margin-top","-"+i+"px"),this.fixedBody.scroll(function(){e.scrollFixedHeader(e.fixedBody.scrollLeft())}),this.fixedNFirstColumns>0){var r=$("<div>").addClass("tableviewer-fixed-body").prependTo($(this.getContainer()));$(this.fixedHeader).appendTo($(r)),$(this.fixedBody).appendTo($(r)),$(this.fixedFooter).appendTo($(r));var o=$("<div>").addClass("tableviewer-fixed-column").prependTo($(this.getContainer()));$(this.fixedHeader).clone().appendTo(o),$(this.fixedBody).clone().appendTo(o),$(this.fixedFooter).clone().appendTo(o);var s=0;$(r).find(".tableviewer-body table tbody").each(function(){s+=$(this).height()}),$(o).find(".tableviewer-body").css("height",s),$(o).find("th").each(function(){parseInt($(this).attr("colspan"))>1&&$(this).css("white-space","nowrap")}),$(o).find(".tableviewer-body table").css("margin-top","0px"),$(o).outerWidth(this.getWidthColumns(t,this.fixedNFirstColumns)-1),$(o).find(".tableviewer-header table colgroup").children().slice(1).remove(),$(o).find(".tableviewer-header table thead tr").children().slice(1).remove(),$(o).find(".tableviewer-body table thead").remove(),$(o).find(".tableviewer-body table colgroup").children().slice(1).remove();var a=this.fixedNFirstColumns;$(o).find(".tableviewer-header table thead tr").children().each(function(e){var n=$($(t).find("thead tr").children().get(e)).height();$(this).height(n)}),$(o).find(".tableviewer-body table tbody tr").each(function(e){var n=0,i=$($(t).find("tbody tr")[e]);i.children().each(function(){n=Math.max(n,$(this).outerHeight())}),$(this).children().slice(a).remove(),$(this).children().each(function(t){$(this).outerHeight(n),$(this).width($(i.children().get(t)).width())})}),$(o).appendTo($(this.getContainer())),this.fixedColBody=r,this.fixedColHeader=o}},e.prototype.scrollFixedColumns=function(t){-1!=this.fixedNFirstColumns&&$(this.getContainer()).find(".columnFixedPane").css("top",t)},e.prototype.scrollFixedHeader=function(t){$(this.fixedHeader).find("table").css("margin-left","-"+t+"px")},e}(n(16).Widget);e.TableWrapper=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(129),r=n(133),o=n(26),s=n(134),a=function(){function t(t,e,n){var r=this;this.showLines=!1,this.variable=t,this.ornamentMatrix=e,this.fixed=t.getFixedProvider(),this.showLines=n,this.xAxis=new i.VirtualValuesAxis(new s.LineToXProvider(this.fixed),!0,!0),this.fixed.on("changed",function(t){t.xDomainChanged&&r.xDomainChanged()})}return t.prototype.computeMargin=function(){var t=this.showLines?60:25;return new o.Margin(0,0,t,0).add(this.xAxis.computeMargin())},t.prototype.renderContents=function(t,e,n){var o=this,s=this.xAxis.computeMargin();if(e=s.netWidth(e),n=s.netHeight(n),this.xAxis.setSize(e,n),this.showLines){var a=new i.VirtualValuesAxis(this.fixed,!1,!0);this.lines=new r.LinesContent(this.fixed,this.ornamentMatrix,this.xAxis,a,"TODO",!1),a.setSize(e,n-6);var u=t.append("g").attr("class","minigraph").attr("transform","translate(0, 3)");this.lines.renderContents(u,e,n-6,!0)}this.brush=d3.svg.brush().x(this.xAxis.scales[0]).extent(this.variable.xDomain()).on("brushend",function(){return o.brushed()}),this.domBrush=t.append("g").attr("class","brush").call(this.brush),this.domBrush.select(".background").style("visibility",null),this.domBrush.selectAll("rect").attr("y",0).attr("height",n),this.domBrush.selectAll(".resize > rect").style("visibility",null),this.variable.on("changed",function(t){t.xDomainChanged&&o.xDomainChanged()})},t.prototype.reset=function(){this.brush.extent(this.xAxis.scales[0].domain()),this.domBrush.call(this.brush)},t.prototype.brushed=function(){var t=this.brush.extent()[0],e=this.brush.extent()[1];t==e&&(this.reset(),t=this.brush.extent()[0],e=this.brush.extent()[1]),this.variable.setXDomain([t,e])},t.prototype.xDomainChanged=function(){var t=this.variable.xDomain();this.brush.x(this.xAxis.scales[0]),this.brush.extent(t),this.domBrush.call(this.brush)},t.prototype.setSize=function(t,e){var n=this.xAxis.computeMargin();t=n.netWidth(t),e=n.netHeight(e),this.xAxis.setSize(t,e),this.lines&&this.lines.setSize(t,e),this.brush.x(this.xAxis.scales[0]).extent(this.variable.xDomain()),this.domBrush.call(this.brush)},t}();e.TimeLine=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);var r=function(){function t(t,e,n,i){this.provider=t,this.xAxis=n,this.yAxis=i,this.colorProvider=e.ornament(0)}return t.prototype.clearProjections=function(){this.xAxis&&this.xAxis.dishighlightValues(),this.yAxis&&(this.yAxis.highlightAxes([]),this.yAxis.dishighlightValues())},t.prototype.showProjections=function(t,e,n){var i=function(t){for(var e=t,n=0;n<t.length;n++)e[n].unitIndex=n;return e.filter(function(t){return null!=t.lineIndex}).sort(function(t,e){return t.distance-e.distance})}(this.computeMinDistance(t,e,n)).slice(0,this.yAxis.highlightableAxesCount());this.xAxis&&this.xAxis.dishighlightValues(),this.yAxis&&(this.yAxis.dishighlightValues(),this.yAxis.highlightAxes(i.map(function(t){return t.unitIndex})));for(var r=0,o=i;r<o.length;r++){var s=o[r];this.showProjection(s.lineIndex,t,s.unitIndex)}},t.prototype.showProjection=function(t,e,n){var i=e[t[0]][t[1]],r=this.provider.data(t)[i.index];this.yAxis&&this.yAxis.highlightValues(n,[r.y]),this.xAxis&&this.xAxis.highlightValues(0,[r.x])},t.prototype.computeMinDistance=function(t,e,n){for(var r=i.sameElementArray(this.provider.unitCount(),{lineIndex:null,distance:150}),o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];if(u){var l=u.x-e,c=u.y-n,h=l*l+c*c,d=this.provider.dataUnit([o,a]);h<r[d].distance&&(r[d]={lineIndex:[o,a],distance:h})}}return r},t}();e.Projections=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.provider=t,this.xAxis=e}return t.prototype.renderContents=function(t,e,n){var i=this;this.brush=d3.svg.brush().x(this.xAxis.scales[0]).on("brushend",function(){return i.brushed()}),this.domBrush=t.append("g").attr("class","brush").call(this.brush),this.domBrush.selectAll("rect").attr("y",0).attr("height",n),this.domBrush.selectAll(".resize > rect").style("visibility",null)},t.prototype.brushed=function(){var t=this.brush.extent()[0],e=this.brush.extent()[1];t==e&&(this.brush.extent(this.provider.getFixedProvider().xDomain()),t=this.brush.extent()[0],e=this.brush.extent()[1]),this.provider.setXDomain([t,e]),this.brush.clear(),this.domBrush.call(this.brush)},t.prototype.setSize=function(t,e){this.domBrush.selectAll("rect").attr("y",0).attr("height",e),this.domBrush.call(this.brush)},t}();e.Brush=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(t,e,n,i,r){this.intervalsProvider=t,this.unitProvider=e,this.intervalsUnitIndex=n,this.xAxis=i,this.clipName=r,this.shownIntervalName=-1}return t.prototype.renderContents=function(t,e,n){var i=this;this.container=t.append("g").classed("interval",!0).style("clip-path",this.clipName?"url(#"+this.clipName+")":null),this.height=n,this.displayData(),this.intervalsProvider.on("changed",function(t){t.intervalsChanged?i.intervalsChanged():t.intervalSelectionChanged&&i.intervalSelectionChanged()}),this.unitProvider.on("changed",function(t){t.domainChanged&&i.domainChanged(t.majorChange)})},t.prototype.rectFunctions=function(){var t=this.intervalsProvider,e=this.xAxis.scales[this.intervalsUnitIndex],n=this.height,r=this.shownIntervalName;function o(n){var i=t.intervalLength(n),r=t.intervalStart(n);return(0==i?e.range()[1]:e(r+i))-e(r)}return{data:t.intervals(),dataKey:t.intervalKey(),transform:function(n){return"translate("+e(t.intervalStart(n))+", 0)"},width:o,height:n,halfWidth:function(t){return o(t)/2},selected:function(e,n){return t.intervalSelected(e,n)},textAttrs:function(e){d3.select(this).attr("text-anchor","middle").attr("dy","1.4em").text(t.intervalLabel(e))},textVisibleAttrs:function(t,e){var n,s=d3.select(this);e==r?n=!1:n=i.textLength(this)>o(t);s.classed("invisible",n)}}},t.prototype.displayData=function(){var t=this.rectFunctions(),e=this.container.selectAll("rect").data(t.data,t.dataKey),n=e.enter().append("g").attr("transform",t.transform);n.append("rect").classed("selected",t.selected).attr("height",t.height).attr("width",t.width),n.append("text").each(t.textAttrs).attr("x",t.halfWidth).each(t.textVisibleAttrs),this.currentSelection=e},t.prototype.sizeChanged=function(){var t=this.rectFunctions();this.currentSelection.attr("transform",t.transform),this.currentSelection.select("rect").attr("height",t.height).attr("width",t.width),this.currentSelection.select("text").attr("x",t.halfWidth).each(t.textVisibleAttrs)},t.prototype.domainChanged=function(t){var e=this.rectFunctions(),n=(t?this.currentSelection:this.currentSelection.transition()).attr("transform",e.transform);n.select("rect").attr("width",e.width),n.select("text").attr("x",e.halfWidth).each(e.textVisibleAttrs)},t.prototype.intervalsChanged=function(){var t=this.rectFunctions(),e=this.container.selectAll("g").data(t.data,t.dataKey);e.exit().remove();var n=e.enter().append("g").attr("transform",t.transform);n.append("rect").classed("selected",t.selected).attr("height",t.height).attr("width",0),n.append("text").each(t.textAttrs).attr("x",0);var i=e.transition().attr("transform",t.transform);i.select("rect").attr("width",t.width),i.select("text").attr("x",t.halfWidth).each(t.textVisibleAttrs),this.currentSelection=e},t.prototype.intervalSelectionChanged=function(){var t=this.rectFunctions();this.currentSelection.select("rect").classed("selected",t.selected)},t.prototype.setSize=function(t,e){this.height=e,this.currentSelection&&this.sizeChanged()},t.prototype.resolvePosition=function(t){for(var e=this.xAxis.scales[this.intervalsUnitIndex],n=this.intervalsProvider.intervals(),i=0;i<n.length;i++){var r=n[i],o=this.intervalsProvider.intervalStart(r),s=e(o),a=e(o+this.intervalsProvider.intervalLength(r));if(s<=t&&t<=a)return i}return-1},t.prototype.showIntervalName=function(t){var e=this.rectFunctions();this.shownIntervalName=t,this.currentSelection.select("text").each(e.textVisibleAttrs)},t}();e.IntervalsContent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(63),o=n(122),s=n(42),a=n(32),u=n(2).Properties.APPMSG,l=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setRatio(3),s.scalePer=$(r).attr("scalePer"),s.valueDetailsMode=$(r).attr("valueDetailsMode")||"hover",s.orientationMode=$(r).attr("orientationMode")||"vertical",s.labelsDisplayMode=$(r).attr("labelsDisplayMode")||"fixed",s}return i.__extends(e,t),e.prototype.getSeries=function(){return o.BarSeries},e.prototype.getQueryFactory=function(){return this.provider},e.prototype.createQueryFactory=function(){return new a.BarsQueryFactory(this.getCounterQuerySet(),this.getSession())},e.prototype.createChartAndProviders=function(){var t=this;try{this.provider=this.createQueryFactory(),this.provider.scalePer(this.scalePer);var e=this.provider.getQueryProvider();e.getInstanceDrilldownActions=function(e){return t.getDrilldownActions(e)},this.setupBusy(e),this.barChart=new o.GBars(this.provider.getViewProvider(),this.computeGBarsOptions(this.provider))}catch(t){this.barChart=new s.GError(t)}},e.prototype.computeGBarsOptions=function(t){return{scaleOnSelection:this.isScaleOnSelection(),tickStyle:"tick",valueDetailsMode:this.valueDetailsMode,dimensions:t.getSeriesOptions(this.getSeriesOptions()),orientation:this.orientationMode,seriesLabels:this.labelsDisplayMode}},e.prototype.createContents=function(e,n,i){var r=this;this.createChartAndProviders(),this.sessionListeners=[this.getSession().on("selectedTimeRangesChanged",function(){return r.refreshContents()}),this.getSession().sessionSet.on("selectionChanged",function(){return r.refreshContents()}),this.getSession().getAgentsManager().on("changed",function(t){t.compareChanged&&r.refreshContents()})],t.prototype.createContents.call(this,e,n,i)},e.prototype.clearContents=function(){t.prototype.clearContents.call(this);for(var e=0;e<this.sessionListeners.length;e++)this.sessionListeners[e].remove();this.sessionListeners=void 0,this.provider&&(this.provider.dispose(),this.provider=null,this.setDrilldownTitle([])),this.barChart=null},e.prototype.createLegend=function(t){this.barChart.renderLegend(d3.select(t))},e.prototype.createChart=function(t,e,n){this.barChart instanceof o.GBars&&this.barChart.on("resizeNeeded",function(e){$(t).find(".barchart").height(e[1])}),this.barChart.renderContents(d3.select(t),e,n)},e.prototype.chartResized=function(t,e,n){if(this.barChart){var i=this.barChart.resize(e,n);$(t).find(".barchart").height(i[1])}},e.prototype.createOptions=function(e,n){var i=this;t.prototype.createOptions.call(this,e,n),e.addOption({label:u.ScalePer,type:"SELECT",id:"scalePer",values:function(){return[{value:null,label:u.PerUnit}].concat(i.provider?i.provider.getAcceptableDimensions(n,a.LabelKind.SINGULAR):[])},value:function(){return i.getScalePer()},change:function(t,e){return i.setScalePer(t,e)}}),e.addOption({label:u.ValueDetailsMode,type:"SELECT",id:"valueDetailsMode",values:function(){return[{value:"never",label:u.ValueDetailsNever},{value:"hover",label:u.ValueDetailsHover},{value:"always",label:u.ValueDetailsAlways}]},value:function(){return i.getValueDetailsMode()},change:function(t,e){return i.setValueDetailsMode(t,e)}}),e.addOption({label:u.OrientationMode,type:"SELECT",id:"orientationMode",values:function(){return[{value:"vertical",label:u.Vertical},{value:"horizontal",label:u.Horizontal}]},value:function(){return i.getOrientationMode()},change:function(t,e){return i.setOrientationMode(t,e)}}),e.addOption({label:u.LabelsDisplayPolicy,type:"SELECT",id:"labelsDisplayMode",values:function(){return[{value:"adaptative",label:u.Adaptative},{value:"fixed",label:u.Fixed},{value:"hidden",label:u.LegendVisibility_none}]},value:function(){return i.getLabelsDisplayMode()},change:function(t,e){return i.setLabelsDisplayMode(t,e)}})},e.prototype.getScalePer=function(){return this.scalePer},e.prototype.setScalePer=function(t,e){e&&$(this.getModel()).attr("scalePer",t),this.scalePer=t,this.refreshContents()},e.prototype.getValueDetailsMode=function(){return this.valueDetailsMode},e.prototype.setValueDetailsMode=function(t,e){e&&$(this.getModel()).attr("valueDetailsMode",t),this.valueDetailsMode=t,this.refreshContents()},e.prototype.getOrientationMode=function(){return this.orientationMode},e.prototype.setOrientationMode=function(t,e){e&&$(this.getModel()).attr("orientationMode",t),this.orientationMode=t,this.refreshContents()},e.prototype.getLabelsDisplayMode=function(){return this.labelsDisplayMode},e.prototype.setLabelsDisplayMode=function(t,e){e&&$(this.getModel()).attr("labelsDisplayMode",t),this.labelsDisplayMode=t,this.refreshContents()},e}(r.ChartView);e.BarChartView=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this)||this;return n.oneRangeFocus=e,n}return i.__extends(e,t),e.prototype.dispose=function(){this.removeSessionListeners()},e.prototype.setSession=function(t){var e=this;this.removeSessionListeners(),this.session=t,this._sessionListeners=[this.session.on("timeRangesChanged",function(){return e.emit("changed",{intervalsChanged:!0})})],this.oneRangeFocus||this._sessionListeners.push(this.session.on("selectedTimeRangesChanged",function(){return e.emit("changed",{intervalSelectionChanged:!0})}))},e.prototype.removeSessionListeners=function(){if(this._sessionListeners){for(var t=0;t<this._sessionListeners.length;t++)this._sessionListeners[t].remove();this._sessionListeners=null}},e.prototype.intervals=function(){var t=this.session.timeRanges;if(!t)return[];if(this.oneRangeFocus){var e=this.session.getSelectedTimeRangeIndices();if(1==e.length&&-1!=e[0])return[]}return t.list()},e.prototype.intervalKey=function(){return function(t){return t.getName()+t.startTime}},e.prototype.intervalStart=function(t){return t.startTime/1e3},e.prototype.intervalLength=function(t){return void 0===t.duration?0:t.duration/1e3},e.prototype.intervalLabel=function(t){return t.getLabel()},e.prototype.intervalSelected=function(t,e){var n=this.session.getSelectedTimeRangeIndices();return 0==n.length||-1!=n.indexOf(e)},e}(n(4).Evented);e.GTimeRangesProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(114),o=n(131),s=n(42),a=n(32),u=n(2).Properties.APPMSG,l=n(14),c=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setClassName("table-view"+(l.PREFS.fixedColumn?"":" simple")),s.miniBars=!("false"===$(s.getModel()).attr("miniBars")),s}return i.__extends(e,t),e.prototype.getSeries=function(){return o.TableSeries},e.prototype.getQueryFactory=function(){return this.provider},e.prototype.createQueryFactory=function(){return new a.TableQueryFactory(this.getCounterQuerySet(),this.getSession())},e.prototype.createChartAndProviders=function(){try{this.provider=this.createQueryFactory(),this.setupBusy(this.provider.getQueryProvider()),this.table=o.GTable.create(this.provider.getViewProvider(),this.computeGTableOptions(this.provider))}catch(t){this.table=new s.GError(t)}},e.prototype.computeGTableOptions=function(t){return{dimensions:t.getSeriesOptions(this.getSeriesOptions()),minibars:this.isMiniBars()&&!$(document.body).hasClass("use-high-contrast")}},e.prototype.createContents=function(t,e,n){var i=this;if(this.createChartAndProviders(),this.sessionListeners=[this.getSession().on("selectedTimeRangesChanged",function(){return i.refreshContents()}),this.getSession().sessionSet.on("selectionChanged",function(){return i.refreshContents()}),this.getSession().getAgentsManager().on("changed",function(t){t.compareChanged&&i.refreshContents()})],this.table instanceof o.GTable){if(this.table.needsBannerHeader()){var r=$("<header>").appendTo(this.header);this.table.renderBannerHeader(d3.select(r[0]),function(){i.table.isBannerHeaderVisible()?r.show():r.hide()})}if(this.table.needsBannerFooter()){var s=$("<footer>").appendTo(this.header);this.table.renderBannerFooter(d3.select(s[0]),function(){i.table.isBannerFooterVisible()?s.show():s.hide()})}}this.table.renderContents(d3.select(t),e,n)},e.prototype.clearContents=function(){this.header.children("header,footer").remove(),t.prototype.clearContents.call(this);for(var e=0;e<this.sessionListeners.length;e++)this.sessionListeners[e].remove();this.sessionListeners=void 0,this.provider&&(this.provider.dispose(),this.provider=null),this.table=null},e.prototype.setMiniBars=function(t,e){e&&$(this.getModel()).attr("miniBars",t.toString()),this.miniBars=t,this.refreshContents()},e.prototype.isMiniBars=function(){return this.miniBars},e.prototype.createOptions=function(e,n){var i=this;t.prototype.createOptions.call(this,e,n),e.addOption({label:u.DrawMiniBars_label,type:"BOOLEAN",id:"miniBars",value:function(){return i.isMiniBars()},change:function(t,e){i.setMiniBars(t,e)}})},e.prototype.contentsResized=function(t,e,n){this.table&&this.table instanceof o.GTable&&this.table.resizeTable(t)},e}(r.QueryView);e.TableView=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(247),o=n(58),s=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setClassName("runstatus-view"),s}return i.__extends(e,t),e.prototype.isCounterView=function(){return!1},e.prototype.createContents=function(t,e,n){this.provider=new o.GStatusQueryProvider,this.provider.setSession(this.getSession()),this.provider.setOn(),this.runstatus=new r.GItems(this.provider),this.runstatus.renderContents(d3.select(t),e,n)},e.prototype.clearContents=function(){t.prototype.clearContents.call(this),this.provider.setOff(),this.provider=null,this.runstatus=null},e}(n(64).View);e.RunStatusView=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.provider=t}return t.prototype.renderContents=function(t,e,n){for(var i=this,r=[],o=0;o<this.provider.items().length;o++)r[o]=this.provider.getLabel(this.provider.items()[o]);var s=100/this.provider.items().length;this.currentStatus=t.append("div").classed("status-bar",!0).style("width",100-s+"%").append("div").classed("current-status",!0),this.ul=t.append("ul").classed("progress-bar",!0),this.displayData(),this.provider.on("changed",function(t){return i.processChange(t)})},t.prototype.processChange=function(t){t.itemsChanged&&this.displayData()},t.prototype.getCurrentIndex=function(){for(var t=this.provider.items(),e=0,n=0;n<t.length;n++){if(this.provider.isActive(t[n]))return e;e++}return e},t.prototype.displayData=function(){var e=this,n=this.provider.items(),i=this.getCurrentIndex();i=i>=n.length?n.length-1:i;var r=100/n.length,o=this.ul.selectAll("li").data(n);o.enter().append("li"),o.exit().remove(),o.classed("section",!0).style("width",r+"%"),o.classed("current",function(t,n){return e.provider.isActive(t)}),o.classed("visited",function(t,e){return e<=i}).classed("error",function(t){return e.provider.isError(t)}).text(function(t){return e.provider.getLabel(t)}),this.currentStatus.style("width",100*i/(n.length-1)+"%"),this.currentStatus.style("transition","width "+i*t.singleStepAnimation+"ms linear")},t.singleStepAnimation=1500,t}();e.GItems=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(64),o=n(2).Properties.APPMSG,s=!1,a=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s.setClassName("text-view"),s.showTitle="true"===$(r).attr("showTitle"),s}return i.__extends(e,t),e.prototype.createContents=function(t,e,n){this.content=$('<div class="text-editor">').appendTo(t);var i=$(this.getModel()).attr("contents");i&&i.length>0&&$(this.content).html(i)},e.prototype.setEditMode=function(e){var i=this;if(t.prototype.setEditMode.call(this,e),this.content)if(e){$(this.content).hide(),this.editor=$('<textarea class="text-editor">').insertAfter(this.content).text(o.InitializingEditor);n.e(9).then(function(){var t=[n(271)];(function(t){s||(s=!0,CKEDITOR.on("instanceReady",function(t){var e=$(t.editor.container.$);(e=$(e).find(".cke_wysiwyg_frame"))&&e.attr("title","")})),n.e(14).then(function(){var t=[n(272)];(function(t){i.editor&&(i.ckeditor=$(i.editor).ckeditor().editor,$.when($(i.editor).promise).then(function(){$(i.editor).val($(i.content).html()),i.ckeditor.on("change",function(){var t=$(i.editor).val();$(i.getModel()).attr("contents",t),i.emit("modified",i)})}))}).apply(null,t)}).catch(n.oe)}).apply(null,t)}).catch(n.oe)}else{var r=$(this.editor).val();this.ckeditor&&(this.ckeditor.destroy(),this.ckeditor=void 0,$(this.content).html(r),$(this.editor).remove(),this.editor=void 0,$(this.content).show())}},e}(r.View);e.TextView=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(59),o=n(39),s=n(250),a=n(136),u=n(2).Properties.APPMSG,l=function(t){function e(e){var n=t.call(this,"rowlayout")||this;return n.edit_mode=!1,n.page=e,n.current_dropped_column=null,n.view_types=[{type:"lineChart",label:u.LineChart_label},{type:"barChart",label:u.BarChart_label},{type:"pieChart",label:u.PieChart_label},{type:"table",label:u.Table_label},{type:"text",label:u.Text_label}],n}return i.__extends(e,t),e.prototype.getRows=function(){return $(this.getContainer()).find(".row")},e.prototype.getItemLayoutData=function(t){var e=t.getLayoutData();if(!e)return null;var n=e.firstChild;return n&&"RowLayoutData"==n.nodeName?n:null},e.prototype.createItemLayoutData=function(t){var e=this.getItemLayoutData(t);if(!e){var n=$.parseXML("<layoutData/>").documentElement;e=$.parseXML("<RowLayoutData/>").documentElement,$(n).append(e),t.setLayoutData(n)}return e},e.prototype.layout=function(){if(!(this.getRows().length>0)){t.prototype.layout.call(this);var n=this.getComposite().getItems();if(0!=n.length){for(var i=new Array,r=0;r<e.MAX_COLUMNS;r++)i.push(new Array);for(r=0;r<n.length;r++){var o=this.getItemLayoutData(n[r]);if(null!=o&&($(o).attr("ratio")&&n[r].setRatio(parseFloat($(o).attr("ratio"))),$(o).attr("width")&&n[r].setW(parseInt($(o).attr("width"))),$(o).attr("height")&&n[r].setH(parseInt($(o).attr("height"))),void 0!=$(o).attr("col")&&parseInt($(o).attr("col"))>0)){var s=parseInt($(o).attr("col"))-1;s>=e.MAX_COLUMNS&&(s=e.MAX_COLUMNS-1),i[s].push(n[r])}else{for(var a=0;a<e.MAX_COLUMNS;a++)if(i[a].length>0){this.appendRow(i);break}for(i=new Array,a=0;a<e.MAX_COLUMNS;a++)i.push(new Array);i[0].push(n[r])}}for(a=0;a<e.MAX_COLUMNS;a++)if(i[a].length>0){this.appendRow(i);break}}}},e.prototype.unlayout=function(){t.prototype.unlayout.call(this);var e=this.getRows();$(e).each(function(t){$(this).remove()})},e.prototype.appendRow=function(t){for(var n=1,i=0;i<e.MAX_COLUMNS;i++)t[i].length>0&&(n=Math.max(n,i+1));var r=this.createRow(n);return $(r).appendTo($(this.getContainer())),$(r).find(".column").each(function(e){for(var i=0;i<t[e].length;i++)$(t[e][i].getContainer()).appendTo($(this)),t[e][i]instanceof a.LineChartView&&1==n&&t[e][i].getRatio()==a.LineChartView.DEFAULT_LINECHART_RATIO&&t[e][i].setRatio(3)}),r},e.prototype.addItem=function(e){t.prototype.addItem.call(this,e),null!=this.insertAfter?$(e.getContainer()).insertAfter($(this.insertAfter)):null!=this.insertBefore?$(e.getContainer()).insertBefore($(this.insertBefore)):$(e.getContainer()).appendTo($(this.current_dropped_column)),this.setEditableItem(this.edit_mode,e)},e.prototype.removeItem=function(e){var n=$(e.getContainer()).parent();this.setEditableItem(!1,e),$(e.getContainer()).remove(),t.prototype.removeItem.call(this,e),this.edit_mode&&this.addColumnEditToolbar(n)},e.prototype.showItem=function(t){},e.prototype.createRow=function(t){var e=document.createElement("div");$(e).addClass("row").addClass("row-column"+t).addClass("clearfix");for(var n=0;n<t;n++){var i=document.createElement("div");$(i).addClass("column").data("col",n).appendTo(e)}return e},e.prototype.removeRow=function(t){var e=this;$(t).find(".view").each(function(t){$(this).data("widget").destroy()}),$(t).fadeOut("slow",function(){$(t).remove(),0==e.getRows().length&&e.removeRowEditToolbar("bottom")})},e.prototype.setEditableColumn=function(t,e){if(t){var n=$("<div>").addClass("column-content");$(e).children().each(function(){$(this).appendTo($(n))});$("<div>").addClass("column-header").appendTo($(e));$(n).appendTo($(e));$("<div>").addClass("column-footer").appendTo($(e));var i=this;$(n).sortable({connectWith:".column-content",handle:".portlet-header",cancel:".portlet-toggle",placeholder:"portlet-placeholder",receive:function(t,e){if($(e.item).hasClass("rowlayout-item")){$(e.item).data("widget"),e.sender;setTimeout(function(){i._updateModelChanges()},500)}},revert:!0}).addClass("in-edition"),this.addColumnEditToolbar(e)}else $(e).hasClass("in-edition")&&$(e).sortable("destroy"),$(e).find(".column-header").remove(),$(e).find(".column-footer").remove(),$(e).find(".column-content").children().each(function(){$(this).appendTo($(e))}),$(e).find(".column-content").remove(),$(e).removeClass("in-edition"),this.removeColumnEditToolbar(e)},e.prototype.setEditableRow=function(t,e){var n=this,i=this;if($(e).find(".column").each(function(e){i.setEditableColumn(t,this)}),t){$(e).addClass("in-edition");var r=document.createElement("ul");$(r).addClass("rowlayout-toolbar toolbar clearfix");var s=new o.Menu(r);s.on("clicked",function(t){if("remove_row"==t)if($(e).find(".view").length>0){var i=n;$("#delete_view_dialog_confirm").dialog({resizable:!1,modal:!0,closeText:u.Close_button,buttons:[{text:u.Delete_View,click:function(){$(this).dialog("close"),i.removeRow(e)}},{text:u.Cancel_button,click:function(){$(this).dialog("close")}}]})}else n.removeRow(e);else"moveup_row"==t?n.moveupRow(e):"movedown_row"==t&&n.movedownRow(e)}),$(e).prepend(r),s.appendItem("remove_row","fa fa-trash",u.Delete_Row),s.appendItem("moveup_row","fa fa-caret-up",u.MoveUp_Action),s.appendItem("movedown_row","fa fa-caret-down",u.MoveDown_Action)}else $(e).find(".rowlayout-toolbar").remove(),$(e).removeClass("in-edition")},e.prototype.moveupRow=function(t){if($(t).prev().hasClass("row")){var e=$(t).prev().find(".view").first();$(t).insertBefore($(t).prev()),$(t).find(".view").each(function(t){if($(e).length>0){var n=$(this).data("widget"),i=$(e).data("widget");$(n.view_node).insertBefore($(i.view_node))}}),this._updateModelChanges()}},e.prototype.movedownRow=function(t){if($(t).next().hasClass("row")){var e=$(t).next().find(".view").last();$(t).insertAfter($(t).next()),$(t).find(".view").each(function(t){if($(e).length>0){var n=$(this).data("widget"),i=$(e).data("widget");$(n.view_node).insertAfter($(i.view_node)),e=$(this)}}),this._updateModelChanges()}},e.prototype.setEditableItem=function(t,e){var n=this;if(t){var i=e.on("moveUp",function(){$(e.getContainer()).next();var t=$(e.getContainer()).prev();t&&$(t).hasClass("view")&&($(e.getContainer()).insertBefore($(t)),n._updateModelChanges())}),r=e.on("moveDown",function(){var t=$(e.getContainer()).next();$(e.getContainer()).prev();t&&$(t).hasClass("view")&&($(e.getContainer()).insertAfter($(t)),n._updateModelChanges())}),o=e.on("duplicate",function(){var t=$(e.getModel()),i=t.clone().insertAfter(t),r=n.createNewView(i[0]);$(r.getContainer()).insertAfter($(e.getContainer())),r.resizeContents(),n._updateModelChanges()});$(e).data("mvup",i),$(e).data("mvdn",r),$(e).data("dup",o);var s=this;$(e.getContainer()).addClass("in-edition"),$(e.getContainer()).resizable({alsoResize:"",helper:"resizable-helper",handles:"s",stop:function(t,n){n.size.height;var i=n.size.width/n.size.height;e.setRatio(i);var r=s.createItemLayoutData(e);$(r).attr("ratio",i.toString()),n.element.width(""),n.element.height(""),e.notifyResize(),s.page.emit("modified",{})}})}else $(e).data("mvup").remove(),$(e).data("mvdn").remove(),$(e).data("dup").remove(),$(e.getContainer()).hasClass("in-edition")&&$(e.getContainer()).resizable("destroy"),$(e.getContainer()).removeClass("in-edition")},e.prototype.addRowEditToolbar=function(t){var e=this,n=$('<div class="addrow-toolbar addrow-toolbar-'+t+'">')[0],i=new s.ExpandToolbar(n,u.InsertRow),r=function(t,e){var n=$("<div>").appendTo(t);n.text(e.label),$("<div>").addClass("column-number").text(e.id).prependTo(n)};i.addToolButton({id:"1",label:u.ColumnLabel,render:r,className:"column-button"}),i.addToolButton({id:"2",label:u.ColumnsLabel,render:r,className:"column-button"}),i.addToolButton({id:"3",label:u.ColumnsLabel,render:r,className:"column-button"}),i.on("buttonClicked",function(i){var r=e.createRow(i.id);"top"===t?$(r).insertAfter($(n)):"bottom"===t&&$(r).insertBefore($(n));var o=e.getFirstView($(r).index());if(o){var s=e.getItemLayoutData(o);$(s).removeAttr("col")}$(r).hide(),e.setEditableRow(e.edit_mode,$(r)),$(r).fadeIn("slow",function(){1==e.getRows().length&&e.addRowEditToolbar("bottom")})}),"top"===t?$(n).prependTo($(this.getContainer())):"bottom"===t&&$(n).appendTo($(this.getContainer()))},e.prototype.removeRowEditToolbar=function(t){$(this.getContainer()).find(".addrow-toolbar-"+t).each(function(t){$(this).remove()})},e.prototype.getFirstView=function(t){var e=this.getRows();if(t<e.length)return $(e[t]).find(".view").first().data("widget")},e.prototype.getNextView=function(t){for(var e=$(t).parent().children(),n=$(t).index();n<e.length;n++){var i=$(e[n]).find(".view");if(i.length>0)return $(i).data("widget")}var r=this.getRows();for(n=$(t).parent().index();n<r.length;n++){var o=this.getNextView($(r[n]));if(o)return o}},e.prototype._updateModelChanges=function(){var t=this,e=null;this.getRows().each(function(n){$(this).find(".column").each(function(n){$(this).find(".view").each(function(i){var r=$(this).data("widget");e?$(r.getModel()).insertAfter($(e)):$(r.getModel()).prependTo($(t.page.getModel()).children("views")),e=r.getModel();var o=t.getItemLayoutData(r);0==n?0==i?$(o).removeAttr("col"):$(o).attr("col",1):$(o).attr("col",n+1)})})}),this.page.emit("modified",{})},e.prototype.insertView=function(t,e,n){$(t).data("col"),$(t).parent().index();var i=null,r=null;"barChart"===e?(i="BarChart",r=u.BarChart_label):"lineChart"===e?(i="LineChart",r=u.LineChart_label):"pieChart"===e?(i="PieChart",r=u.PieChart_label):"table"===e?(i="Table",r=u.Table_label):"text"===e&&(i="Text",r=u.Text_label);this.page.getItems().length;var o=$.parseXML("<"+i+' name="'+r+'"/>').documentElement,s=$(t).find(".column-content");if(this.insertAfter=void 0,this.insertBefore=void 0,this.current_dropped_column=void 0,"top"===n&&$(s).children().length>0){var a=$(s).children().first().data("widget");$(o).insertBefore($(a.view_node)),this.insertBefore=$(s).children().first()}else if("bottom"===n&&$(s).children().length>0){a=$(s).children().last().data("widget");$(o).insertAfter($(a.view_node)),this.insertAfter=$(s).children().last()}else{(a=this.getNextView(t))?$(o).insertBefore($(a.getModel())):$(o).appendTo($(this.page.getModel()).children("views")),this.current_dropped_column=s}var l=this.createNewView(o);return this.current_dropped_column=null,this.insertBefore=null,this.insertAfter=null,l},e.prototype.createNewView=function(t){var e=this.page.createView(t);if(e){var n=this.createItemLayoutData(e);e.getRatio()&&$(n).attr("ratio",e.getRatio()),this.page.addItem(e),e.setSession(this.page.getSession()),e.show(),e.setEditMode(!0),this._updateModelChanges(),this.page.emit("viewAdded",e),$(e.getContainer()).find(".view-toolbar a[menuitem_id=settings]").focus()}return e},e.prototype.addColumnEditToolbar=function(t){var e=this,n=function(n){for(var i=$('<div class="addview-toolbar">')[0],r=new s.ExpandToolbar(i,u.InsertView),o=function(t,e){$('<span><div class="addview-icon '+e.id+'Icon "></div><div class="addview-label">'+e.label+"</div></span>").appendTo(t)},a=e.view_types,l=0;l<a.length;l++)r.addToolButton({id:a[l].type,label:a[l].label,render:o,className:"addview-button",view:a[l]});return r.on("buttonClicked",function(i){e.insertView(t,i.view.type,n)}),i},i=n("top");$(i).appendTo($(t).find(".column-header")),$(t).children().length>0?(i=n("bottom"),$(i).appendTo($(t).find(".column-footer"))):$(t).find(".column-footer").hide()},e.prototype.removeColumnEditToolbar=function(t){$(t).parent().find(".addview-toolbar").each(function(t){$(this).remove()})},e.prototype.setEditable=function(t){if(this.edit_mode!==t){this.edit_mode=t;var e=this;$(this.getRows()).each(function(n){e.setEditableRow(t,this)});for(var n=this.getComposite().getItems(),i=0;i<n.length;i++)this.setEditableItem(t,n[i]);var r=this.getRows().length;this.edit_mode?(this.addRowEditToolbar("top"),r>0&&this.addRowEditToolbar("bottom")):(this.removeRowEditToolbar("top"),this.removeRowEditToolbar("bottom"))}},e.prototype.isEditable=function(){return this.edit_mode},e.MAX_COLUMNS=3,e}(r.Layout);e.PageLayout=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(16);$(document).on("click",function(t){i&&i.cancelToolbar()});var s=function(t){function e(e,n){var r=t.call(this,e)||this,o=r;return r.widget=$('<div  class="expand-toolbar">').appendTo($(e)),r.link=$("<a>").text(n).click(function(t){t.preventDefault(),i&&i.cancelToolbar(),o.openToolbar(this)}).prepend($("<i>").addClass("fa fa-plus icon").attr("aria-hidden","true")),$(r.link).appendTo($(r.widget)),r.buttons=[],r}return r.__extends(e,t),e.prototype.getLink=function(){return this.link},e.prototype.addToolButton=function(t){this.buttons.push(t)},e.prototype.openToolbar=function(t){var e=this,n=function(t,n){var i=$('<li class="tool-button" >').appendTo($(n));$(i).addClass(t.className);var r=$("<button>").button().appendTo($(i)).click(function(n){n.preventDefault(),e.emit("buttonClicked",t),e.removeToolbar()});t.render?t.render(r,t):$(r).text(t.label)};$(this.link).fadeOut("slow",function(){e.toolbar=$('<ul class="toolbar">').insertAfter($(e.link));for(var t=0;t<e.buttons.length;t++)n(e.buttons[t],e.toolbar);i=e})},e.prototype.cancelToolbar=function(){i.removeToolbar(),i=void 0},e.prototype.removeToolbar=function(){this.toolbar.remove(),$(this.link).fadeIn("slow",function(){i=void 0})},e}(o.Widget);e.ExpandToolbar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(252),s=n(2).Properties.APPMSG,a=n(9),u=function(t){function e(e,n,i,r){var a=t.call(this)||this;a.instancep=[],a.wildcards=e,a.instances={},a.form=$("<span>").addClass("instances").appendTo(r);for(var u=a,l=0;l<e.length;l++){var c=l;a.select=$("<select>").appendTo(a.form).addClass("instance-selector").attr("id","is"+i+"_"+l).selectmenu({change:function(t){var e=$(this).val();"*"==e&&(e=void 0),u.replaceInstance(c,e)}}),n&&($("<option value='*'>").text(s.AllInstances).appendTo($(a.select)),a.select.val(0))}$(".instance-selector").selectmenu("refresh"),$(".instance-selector").selectmenu("option","width","auto");for(var h=function(t){d.instancep[t]=new o.GInstanceQueryProvider,d.instancep[t].setIndex(t),d.instancep[t].setWildcards(d.wildcards),d.instancep[t].setInstances(d.instances),d.instancep[t].on("instancesListChanged",function(e){a.emit("instancesListChanged",{}),a.setList(t,e)})},d=this,p=0;p<e.length;p++)h(p);return a}return i.__extends(e,t),e.prototype.remove=function(){this.form.remove();for(var t=0;t<this.wildcards.length;t++)this.instancep[t].dispose()},e.prototype.setSession=function(t){if(this.session=t,t)this.fillValues(0);else for(var e=0;e<this.wildcards.length;e++)this.clearWildcardValues(e)},e.prototype.getInstances=function(){return this.instances},e.prototype.setInstances=function(t,e){if(this.instances=t,this.emit("instancesChanged",{}),!e)for(var n=0;n<this.wildcards.length;n++)this.setSpecificInstance(n,t[this.wildcards[n]])},e.prototype.replaceInstance=function(t,e){this.instances[this.wildcards[t]]=e,this.setInstances(this.instances,!0),this.fillValues(t+1)},e.prototype.setSpecificInstance=function(t,e){(this.select.eq(t),e)&&(0==this.select.children("option").filter(function(t,n){return $(n).text()==e}).length&&$("<option>"+e+"</option>").appendTo(this.select));this.select.val(void 0==e?"*":e),this.select.selectmenu("refresh")},e.prototype.fillValues=function(t){if(!a.OFFLINE.isActivated())for(var e=t;e<this.wildcards.length&&(this.clearWildcardValues(e),this.fillWildcardValues(e),void 0!==this.instances[this.wildcards[e]]);e++);},e.prototype.fillWildcardValues=function(t){this.instancep[t].setSession(this.session),this.instancep[t].setIndex(t),this.instancep[t].setInstances(this.instances),this.instancep[t].setOn()},e.prototype.clearWildcardValues=function(t){var e=this.form.find(".instance-selector").eq(t),n=this.instances[this.wildcards[t]];e.children("option").filter(function(t,e){var i=$(e).text();return"*"!=i&&i!=n})},e.prototype.setList=function(t,e){this.select.eq(t);for(var n=function(t){0==i.select.children("option").filter(function(e,n){return $(n).text()==t}).length&&$("<option>"+t+"</option>").appendTo(i.select)},i=this,r=0,o=e;r<o.length;r++){n(o[r])}this.select.selectmenu("refresh")},e}(r.Evented);e.InstancesSelector=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.prototype.dispose=function(){},e.prototype.setSession=function(e){t.prototype.setSession.call(this,e),this.oldInstancesNumber=0},e.prototype.setIndex=function(t){this.windex=t},e.prototype.getIndex=function(){return this.windex},e.prototype.setWildcards=function(t){this.wildcards=t},e.prototype.setInstances=function(t){this.instances=t},e.prototype.getRequestUrl=function(){for(var t=this.getSessionFullPath()+"/instances?",e=0;e<=this.windex;e++)t+="&wildcard="+this.wildcards[e];for(e=0;e<this.windex;e++)t+="&instance="+this.instances[this.wildcards[e]];return t},e.prototype.getPostData=function(){},e.prototype.setSessionData=function(t,e,n){var i=t;i.children&&this.oldInstancesNumber!=i.children.length&&(this.emit("instancesListChanged",i.children),this.oldInstancesNumber=i.children.length)},e}(n(30).GSessionRequestProvider);e.GInstanceQueryProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(16),o=n(137),s=n(254),a=n(257),u=n(14),l=n(2).Properties.APPMSG,c=n(12),h=function(t){function e(e){var n=t.call(this,e)||this;n.list=$(e).find(".page_selector_scrollview"),n.scrollview=new o.Listview(n.list[0]),n.scrollview.setContentProvider(new s.PageSelectorContentProvider),n.scrollview.setLabelProvider(new a.ReportLabelProvider),n.scrollview.on("selectionChanged",function(t){var e=n.scrollview.findViewItem(t);if(n.updateChildrenPagesCombo(t),n.selectedRootPage=t.getRootPage(),n.selectedSubPage=t.hasParentPage()?t:null,n.updatePageSelectmenu(),n.updateSelectVisibility(),!($(e).find(".help-context").length>0)&&!c.App.INSTANCE.isOffline()&&$(t.getModel()).attr("helpId")){var i=$(e).find(".label");c.App.INSTANCE.getHelpSystem().setHelp($(i),$(t.getReport().getModel()).attr("helpProvider")+"."+$(t.getModel()).attr("helpId"),{of:$("#page_selector"),my:"left+20px top+15",at:"right top",collision:"none"})}}),$(e).find(".reduce-control").click(function(){n.setShowPagesPanel(!u.PREFS.showPagesPanel),u.PREFS.showPagesPanel=!u.PREFS.showPagesPanel,u.PREFS.save(),n.updateSelectVisibility()}),$(e).find(".show-subpages").click(function(){n.showSubPages(!u.PREFS.showSubPages),u.PREFS.showSubPages=!u.PREFS.showSubPages,u.PREFS.save(),n.updateSelectVisibility()}),$(e).find("#page_selector_reduced_panel").hover(function(){$(this).toggleClass("hover")},function(){$(this).toggleClass("hover")}).focusin(function(){$(this).toggleClass("focused")}).focusout(function(){$(this).toggleClass("focused")}),n.select=$("<select>").appendTo($("#page_selector_reduced_panel_pagetitle")).selectmenu(),n.select.on("selectmenuchange",function(t,e){n.selectRootPage(t,e)}),n.select.selectmenu("instance")._renderItem=function(t,e){var n=$("<li>");return e.element.data("page").hasParentPage()&&n.addClass("page-item-child"),this._setText(n,e.label),n.appendTo(t)},n.select.selectmenu("option","width","auto"),n.select_subpages=$("<select>").appendTo($("#page_selector_reduced_panel_pagetitle")).selectmenu({open:function(){var t=n.select_subpages.val();n.updateChildrenPagesCombo(n.selectedRootPage),n.select_subpages.val(t),n.select_subpages.selectmenu("refresh")}}),n.select_subpages.on("selectmenuchange",function(t,e){n.selectSubPage(t,e)}),n.select_subpages.selectmenu("option","width","auto"),n.setEditMode(!1);var i=setInterval(function(){$(n.list).is(":visible")&&(clearInterval(i),n.resize())},1e3);return n}return i.__extends(e,t),e.prototype.updatePageSelectmenu=function(){var t=this;this.selectedRootPage&&(this.select.off("selectmenuchange"),this.select.val(this.selectedRootPage.getTitle()),this.select.selectmenu("refresh"),this.select.on("selectmenuchange",function(e,n){t.selectRootPage(e,n)}))},e.prototype.updateSubPageSelectmenu=function(){var t=this;this.selectedSubPage&&(this.select_subpages.off("selectmenuchange"),this.select_subpages.val(this.selectedSubPage.getTitle()),this.select_subpages.selectmenu("refresh"),this.select_subpages.on("selectmenuchange",function(e,n){t.selectSubPage(e,n)}))},e.prototype.selectRootPage=function(t,e){for(var n=this.select.val(),i=0,r=this.report.getAllPages();i<r.length;i++){var o=r[i];if(o.getTitle()===n){this.report.setPage(o);break}}},e.prototype.selectSubPage=function(t,e){e.item;var n=$(e.item.element).data("action");if(n&&n.run)n.run();else{var i=this.getSelection();this.report.setPage(i)}},e.prototype.updateSelectVisibility=function(){var t=this.scrollview.getSelection();if(null!=t){var e=t&&t.hasChildrenPage(),n=t.hasParentPage(),i=$(this.getContainer()).find(".show-subpages").hasClass("checked");$(this.getContainer()).hasClass("reduced")?(this.select.selectmenu("widget").show(),e||n?this.select_subpages.selectmenu("widget").show():this.select_subpages.selectmenu("widget").hide()):(this.select.selectmenu("widget").hide(),e&&!i?this.select_subpages.selectmenu("widget").show():this.select_subpages.selectmenu("widget").hide())}},e.prototype.setShowPagesPanel=function(t){t?($(this.getContainer()).removeClass("reduced"),$("#page_selector_reduced_panel_pagetitle").removeClass("reduced")):($(this.getContainer()).addClass("reduced"),$("#page_selector_reduced_panel_pagetitle").addClass("reduced")),t!=u.PREFS.showPagesPanel&&this.emit("toogleSize",{})},e.prototype.getListview=function(){return this.scrollview},e.prototype.resize=function(){var t=window.innerHeight;window.innerWidth;t-=$("#app_header").outerHeight(!0)+0+$(this.container).find("header").outerHeight(!0);var e=$(this.container).find("footer");e.length&&$(e).is(":visible")&&(t-=$(e).outerHeight()),$(this.list).css("height",t),$(this.container).find("#page_selector_reduced_panel").css("top",t/2-$(this.container).find("#page_selector_reduced_panel").height())},e.prototype.setInput=function(t){this.scrollview.setModelModifierProvider(t),this.scrollview.getContentProvider().setAddSubPages(u.PREFS.showSubPages),this.scrollview.setInput(t),this.report=t,this.updatePageCombo()},e.prototype.updatePageCombo=function(){var t=this;this.select.find("option").remove().end(),null!=this.report&&(new s.PageSelectorContentProvider).getElements(this.report,function(e){for(var n=0,i=e;n<i.length;n++){var r=i[n];$("<option>"+r.getTitle()+"</option>").appendTo(t.select).data("page",r)}t.updatePageSelectmenu()})},e.prototype.updateChildrenPagesCombo=function(t){if(this.select_subpages.find("option").remove().end(),null!=t&&(null==t||t.hasChildrenPage())){var e=t.getDrilldownActions();$("<option>"+l.PageSelector_SelectSubPage+"</option>").appendTo(this.select_subpages);for(var n=0,i=e;n<i.length;n++){var r=i[n];$("<option>"+r.name+"</option>").appendTo(this.select_subpages).data("action",r)}this.select_subpages.selectmenu("refresh")}},e.prototype.getSelection=function(){return this.scrollview.getSelection()},e.prototype.setSelection=function(t){t&&(this.selectedRootPage=t.getRootPage(),this.scrollview.setSelection(u.PREFS.showSubPages?t:this.selectedRootPage),this.selectedSubPage=t.hasParentPage()?t:null,this.updatePageSelectmenu(),this.updateSubPageSelectmenu(),this.updateSelectVisibility())},e.prototype.scrollToItem=function(t){this.scrollview.scrollToItem(t)},e.prototype.renamePage=function(t,e){this.scrollview.updateItem(t)},e.prototype.showSubPages=function(t){var e=this.scrollview.getSelection();this.scrollview.getContentProvider().setAddSubPages(t),this.scrollview.update(),this.updatePageCombo(),t?$(this.getContainer()).find(".show-subpages").addClass("checked"):$(this.getContainer()).find(".show-subpages").removeClass("checked"),this.scrollview.setSelection(e)},e.prototype.open=function(){$(this.container).show()},e.prototype.close=function(){$(this.container).hide()},e.prototype.isOpen=function(){return $(this.container).is(":visible")},e.prototype.setEditMode=function(t){var e=this.selectedRootPage;this.scrollview.setContentProvider(new s.PageSelectorContentProvider(!t)),this.scrollview.setEditMode(t),this.scrollview.setSelection(e)},e}(r.Widget);e.PageSelector=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){void 0===e&&(e=!0);var n=t.call(this)||this;return n.filter=!0,n.isAddSubPages=!1,n.filter=!0,n}return i.__extends(e,t),e.prototype.getElements=function(t,e){this.filter?e(t.getAllPages(this.isAddSubPages)):e(t.getRootPages())},e.prototype.setAddSubPages=function(t){this.isAddSubPages=t},e}(n(255).ReportFilteredContentProvider);e.PageSelectorContentProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.inputChanged=function(t,e,n){this.viewer=t,e&&this.uninstalReport(),n&&this.installReport(n)},e.prototype.installReport=function(t){var e=this;this.pageMonitors=[],t.filter_manager.enterRegister();try{for(var n=0,i=t.getRootPages();n<i.length;n++){var r=i[n];this.startPageMonitoring(r)}}finally{t.filter_manager.exitRegister()}this.reportListeners=[],this.reportListeners.push(t.on("pageAdded",function(t){e.startPageMonitoring(t)})),this.reportListeners.push(t.on("pageRemoved",function(t){e.stopPageMonitoring(t)}))},e.prototype.uninstalReport=function(){this.pageMonitors&&($(this.pageMonitors).each(function(){this.remove()}),this.pageMonitors=void 0),this.reportListeners&&($(this.reportListeners).each(function(){this.remove()}),this.reportListeners=void 0)},e.prototype.startPageMonitoring=function(t){var e=this,n=t.startFilterMonitoring(function(t,n){e.viewer.update()});n&&this.pageMonitors.push(n)},e.prototype.stopPageMonitoring=function(t){},e.prototype.getElements=function(t,e){e(t.getRootPages().filter(function(t){return!t.isFiltered()}))},e}(n(256).ReportContentProvider);e.ReportFilteredContentProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(61),r=function(){function t(){}return t.prototype.getElements=function(t,e){e(t.getRootPages())},t.prototype.hasChildren=function(t,e){t instanceof i.Page?e(0!=t.getItems().length):e(!1)},t.prototype.getChildren=function(t,e){t instanceof i.Page?e(t.getItems()):e(null)},t}();e.ReportContentProvider=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2).Properties.APPMSG,r=n(61),o=function(){function t(){}return t.prototype.getText=function(t){var e=function(t,e,n){return void 0!=$(t).attr(e)?$(t).attr(e):n};return"Report"==(t=t.getModel()).nodeName?e(t,"name",i.Empty_Name):"Page"==t.nodeName?e(t,"name",i.Empty_Name):"LineChart"==t.nodeName?e(t,"name",i.Empty_Name):"BarChart"==t.nodeName?e(t,"name",i.Empty_Name):"Table"==t.nodeName?e(t,"name",i.Empty_Name):null},t.prototype.getDescription=function(t){return"Report"==(t=t.getModel()).nodeName?$(t).attr("description"):null},t.prototype.getIcon=function(t){return null},t.prototype.getCssClass=function(t){return t instanceof r.Page?t.hasParentPage()?"page-item page-item-child":"page-item":"Report"==(t=t.getModel()).nodeName?"report-item":"Page"==t.nodeName?"page-item":"LineChart"==t.nodeName?"view-item lineChart":"BarChart"==t.nodeName?"view-item barChart":"Table"==t.nodeName?"view-item table":""},t}();e.ReportLabelProvider=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(71),o=n(10),s=n(58),a=n(57),u=n(259),l=n(72),c=n(12),h=n(2).Properties.APPMSG,d=n(9),p=[{value:1e3,name:"Second"},{value:6e4,name:"Minute"},{value:36e5,name:"Hour"},{value:864e5,name:"Day"}];var f=function(t){function e(e){var n=t.call(this,e)||this;n.session=null,n.allowControl=!1,n.statusProvider=new s.GStatusQueryProvider,n.statusProvider.on("changed",function(t){t.itemsChanged&&n.updateStatus()}),d.OFFLINE.isActivated()||n.getAllowControlPreference(),n.setIsSelectLineChanged(!1);var i={};return i[h.Exec_abandon_action_title]=function(){n.adandonTest()},i[h.Exec_stop_action_title]=function(){n.stopTest()},i[h.Exec_users_action_title]=function(){n.changeUsersNumber()},i[h.Exec_rate_action_title]=function(){n.changeRate()},i[h.Exec_log_action_title]=function(){n.changeLogLevel()},i[h.Exec_duration_action_title]=function(){n.changeStageDuration()},i[h.Exec_manage_sync_title]=function(){n.manageSyncPoints()},n.setContentProvider({getElements:function(t,e){e(n.actionLabels)}}),n.setLabelProvider({getText:function(t){return t}}),n.on("selectionChanged",function(t){i[t]()}),n.setInput(i),n}return i.__extends(e,t),e.prototype.getAllowControlPreference=function(){var t=this;new o.Url("/externalexecutionquery").request_get("json",{Accept:"application/json"}).then(function(e){t.allowControl=e.isExecutionControlEnabled,t.updateStatus()})},e.prototype.adandonTest=function(){$("#app_dialog_confirm").find(".ui-dialog-message").text(h.Exec_abandon_dialog_message),$("#app_dialog_confirm").dialog({resizable:!0,modal:!0,closeText:h.Close_button,title:h.Exec_abandon_dialog_title,buttons:[{text:h.AbandonTestButton_Label,click:function(){$(this).dialog("close");new o.Url("/executioncontrol/stoptestrun").request_post(JSON.stringify({btnResultCollection:!1,btnExecFinally:!0,timeout:5,timeoutScale:"milli"}),"json",{"Content-Type":"application/json; charset=utf-8"})}},{text:h.Cancel_button,click:function(){$(this).dialog("close")}}]})},e.prototype.stopTest=function(){$("#exec_stop_dialog").dialog({autoOpen:!0,modal:!0,closeText:h.Close_button,dialogClass:"stop-test-dialog",buttons:[{text:h.StopTestButton_Label,click:function(){$(this).dialog("close");var t={btnResultCollection:$("#collect_info").prop("checked"),btnExecFinally:$("#finally").prop("checked"),timeout:parseInt($("#timeout_option").val(),10),timeoutScale:$("#stop_test_unity").val()};new o.Url("/executioncontrol/stoptestrun").request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})}},{text:h.Cancel_button,click:function(){$(this).dialog("close")}}]});c.App.INSTANCE.getHelpSystem().setHelp($(".abandon-test-dialog"),l.HelpContextIds.ABANDON_TEST_DIALOG)},e.prototype.changeUsersNumber=function(){$("#exec_change_users_dialog").dialog({autoOpen:!0,modal:!0,closeText:h.Close_button,dialogClass:"change-users-dialog",buttons:[{text:h.ChangeButton_Label,click:function(){var t=this;$(this).dialog("close");var e={addUsersRadio:$("#add_users").prop("checked"),abtnAllStages:$("#apply").prop("checked"),noToAdd:parseInt($("#add_users_text").val(),10),noToRemove:parseInt($("#remove_users_text").val(),10),timeoutScale:$("#stop_test_unity").val()};new o.Url("/executioncontrol/changeusers").request_post(JSON.stringify(e),null,{"Content-Type":"application/json; charset=utf-8"}).always(function(e){return $(t).dialog("close")}).fail(function(t){return alert(t.responseText)})}},{text:h.Cancel_button,click:function(){$(this).dialog("close")}}]});$("#add_users").click(function(){$("#remove_users_text").hide(),$("#add_users_text").show()}),$("#remove_users").click(function(){$("#add_users_text").hide(),$("#remove_users_text").show()}),c.App.INSTANCE.getHelpSystem().setHelp($(".change-users-dialog"),l.HelpContextIds.CHANGE_USERS_DIALOG)},e.prototype.changeLogLevel=function(){$("#exec_change_log_dialog").dialog({autoOpen:!0,modal:!0,closeText:h.Close_button,dialogClass:"change-log-dialog",buttons:[{text:h.ChangeButton_Label,click:function(){$(this).dialog("close");var t={logLevel:$("#change_log_value").val()};new o.Url("/executioncontrol/changeloglevel").request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})}},{text:h.Cancel_button,click:function(){$(this).dialog("close")}}]});c.App.INSTANCE.getHelpSystem().setHelp($(".change-log-dialog"),l.HelpContextIds.CHANGE_LOG_DIALOG)},e.prototype.changeStageDuration=function(){var t=this,e=-1,n=$("#exec_change_stage_dialog").dialog({autoOpen:!1,modal:!0,closeText:h.Close_button,dialogClass:"change_stage-dialog",buttons:[{id:"applyChangeRange",text:h.ChangeButton_Label,click:function(){-1!=e&&clearTimeout(e),$(n).dialog("close");var t={specifiedTime:parseInt($("#new_duration_option").val(),10),timeScale:$("#new_duration_unity").val()};new o.Url("/executioncontrol/changestage").request_post(JSON.stringify(t),"json",{"Content-Type":"application/json; charset=utf-8"})}},{text:h.Cancel_button,click:function(){-1!=e&&clearTimeout(e),t.form.reset(),t.form.setErrorMessage(null),t.form.setErrorField(null),$(n).dialog("close")}}]});n.dialog("open"),this.form=new r.Form($(n).find("form")[0],$(n).find("p.ui-dialog-message")),this.form.on("modified",function(e){"stage_duration"!==e.name&&"stage_duration_unity"!==e.name||t.stageDurationValidation(e.name)});var i=function(){$.get("/executioncontrol/changestage",function(t){(function(t){var e=t.m_lblTimeLeft.toString(),i=t.m_lblTimeTotal.toString(),r=void 0===i;return r&&(i=h.UntilFinished,e=h.NotApplicable),n.find("#exec_stage_duration_value").text(i),n.find("#exec_stage_timeleft_value").text(e),$("#applyChangeRange").button("option","disabled",r),r})(t)&&(e=setTimeout(function(){i()},2e3))},"json")};i(),c.App.INSTANCE.getHelpSystem().setHelp($(".change_stage-dialog"),l.HelpContextIds.CHANGE_STAGE_DIALOG)},e.prototype.stageDurationValidation=function(t){var e=parseInt($("#new_duration_option").val(),10),n=e,i=$("#new_duration_unity").val();"min"===i?n=60*e:"hour"===i?n=3600*e:"day"===i&&(n=3600*e*24);var r=this.computeElapsedTime();0==r?this.form.setErrorMessage(h.ChangeDuration_Error2):n<r?(this.form.setErrorMessage(h.ChangeDuration_Error1),this.form.setErrorField("input[name='"+t+"']")):(this.form.setErrorMessage(null),this.form.setErrorField(null)),$("#applyChangeRange").button("option","disabled",0==r||n<r)},e.prototype.computeElapsedTime=function(){var t=$("#exec_stage_duration_value").text(),e=$("#exec_stage_timeleft_value").text();return this.computeTimeFromStr(t)-this.computeTimeFromStr(e)},e.prototype.manageSyncPoints=function(){var t=this,e=-1,n=null,i=function(){$("#releaseSyncPoint").button("option","disabled",0==r.getCheckedElements().length)},r=($("#exec_manage_sync_dialog").dialog({autoOpen:!0,modal:!0,width:.6*$(window).width(),height:"auto",closeText:h.Close_button,dialogClass:"manage_sync-dialog",close:function(){return r.clear()},buttons:[{id:"releaseSyncPoint",text:h.ReleaseButton_Label,click:function(){for(var t=r.getCheckedElements(),e={},n=0;n<t.length;n++)e[t[n].name]=0;new o.Url("/executioncontrol/syncpoints").request_post(JSON.stringify(e),"json",{"Content-Type":"application/json; charset=utf-8"})}},{text:h.Close_button,click:function(){-1!=e&&clearTimeout(e),n&&n.abort(),$(this).dialog("close")}}]}),new u.CheckboxTableViewer($("#sync_points_table")[0]));r.setLabelProvider({getText:function(t,e){var n=t.counters;switch(e){case 0:return t.name;case 1:switch(n[e-1]){case 1:return h.SyncPointStateInactive;case 2:return h.SyncPointStateActive;case 3:return h.SyncPointStateReleased}return"Unknown state";case 2:case 3:case 4:case 5:return n[e-1]?n[e-1]:0}return""}}),r.setContentProvider({getElements:function(t,e){e(t)}}),r.setCheckStateProvider({isCheckable:function(t){return 3!=t.counters[0]},isChecked:function(t){return!0}});var s=function(){var i=new o.Url(function(){var e=t.session.getBaseRequestUrl(),n="counter=/Run/SyncPoint/[SYNC_POINT]/";return e+="/qlast?",e+=n+"State/Cumulated/Increment",e+="&"+n+"Arrived/Cumulated/Count",e+="&"+n+"Expected/Cumulated/Count",e+="&"+n+"Arrived/FirstTime/Elapsed",e+="&"+n+"Timeout/Cumulated/Count",e+="&f=json&i=1"}());(n=i.request_get("json",{Accept:"application/json"})).then(function(t){r.setInput(t.groups[0].instances),e=setTimeout(function(){s()},2e3)})};s(),r.on("checked",function(t){i()}),c.App.INSTANCE.getHelpSystem().setHelp($(".manage_sync-dialog"),l.HelpContextIds.MANAGE_SYNC_DIALOG),i()},e.prototype.changeRate=function(){var t=null,e=($("#exec_change_rate_dialog").dialog({autoOpen:!0,modal:!0,width:.5*$(window).width(),height:"auto",closeText:h.Cancel_button,dialogClass:"change_rate-dialog",close:function(){e.clear()},buttons:[{id:"applyChangeRate",text:h.ChangeButton_Label,click:function(){var t=this,n=e.getInput();new o.Url("/execution/active/rate").request_post(JSON.stringify(n),"json",{"Content-Type":"application/json; charset=utf-8"}).then(function(){return $(t).dialog("close")})}},{text:h.Cancel_button,click:function(){t&&t.abort(),$(this).dialog("close")}}]}),new u.TableViewer($("#rate_runners_table")[0]));e.setLabelProvider({fillContent:function(t,e,n){switch(e){case 0:n.text(t.name);break;case 1:!function(t,e){$('<input type="text"/>').attr("size",10).attr("value",e.rate).bind("input propertychange",function(){$(this).val($(this).val().replace(/[^0-9]/g,""))}).on("change paste keyup",function(){e.rate=$(this).val()}).appendTo(t),t.append(" per ");for(var n=$("<select>").on("change",function(){e.perTimeUnit=+this.value}),i=0,r=p;i<r.length;i++){var o=r[i];$('<option value="'+o.value+'"'+(e.perTimeUnit==o.value?" selected":"")+">"+o.name+"</option>").appendTo(n)}n.appendTo(t)}(n,t)}}}),e.setContentProvider({getElements:function(t,e){e(t.rates)}});var n=new o.Url("/execution/active/rate");(t=n.request_get("json",{Accept:"application/json"})).then(function(t){e.setInput(t)}),c.App.INSTANCE.getHelpSystem().setHelp($("change_rate-dialog"),l.HelpContextIds.MANAGE_SYNC_DIALOG)},e.prototype.computeTimeFromStr=function(t){var e=t.split(":");if(3!=e.length)return 0;var n=parseInt(e[e.length-1],10);return n+=60*parseInt(e[e.length-2],10),n+=3600*parseInt(e[e.length-3],10)},e.prototype.setSession=function(t){this.session=t,this.statusProvider.setSession(t),this.updateAvailableActions(t),this.statusProvider.setOn()},e.prototype.updateStatus=function(){if(this.statusProvider.session){var t=this.statusProvider.getActiveStatus();this.setText(t),this.setEnabled(this.statusProvider.canControlExecution()&&this.allowControl)}},e.prototype.updateAvailableActions=function(t){switch(t.getTestType()){case 2:this.actionLabels=[h.Exec_abandon_action_title,h.Exec_stop_action_title,h.Exec_users_action_title,h.Exec_log_action_title,h.Exec_duration_action_title,h.Exec_manage_sync_title];break;case 3:this.actionLabels=[h.Exec_abandon_action_title,h.Exec_stop_action_title,h.Exec_rate_action_title,h.Exec_log_action_title,h.Exec_duration_action_title,h.Exec_manage_sync_title];break;default:this.actionLabels=[h.Exec_abandon_action_title,h.Exec_stop_action_title]}},e}(a.DropDownList);e.ExecActionsSelector=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){function e(e){var n=t.call(this,e)||this;return $(e).addClass("table-view"),n.visibleLines=5,n.colNumber=$(e).find("th").length,n}return i.__extends(e,t),e.prototype.setLabelProvider=function(e){t.prototype.setLabelProvider.call(this,e),this.cellCreator="fillContent"in e?e.fillContent:function(t,n,i){$(i).text(e.getText(t,n,function(t){$(i).text(t)}))}},e.prototype.setVisibleLines=function(t){this.visibleLines=t},e.prototype.clear=function(){$(this.getContainer()).find("tr.table-item").remove()},e.prototype.update=function(){if(this.clear(),this.getContentProvider()){var t=null;this.getContentProvider().getElements(this.getInput(),function(e){t=e});var e=this.visibleLines;if(this.getLabelProvider())for(var n=0,i=t;n<i.length;n++){for(var r=i[n],o=$("<tr>").addClass("table-item"),s=0;s<this.colNumber;s++){var a=$("<td>");this.createCell(r,s,a),a.appendTo($(o))}o.appendTo($(this.getContainer())),e--}for(var u=0;u<e;u++){for(o=$("<tr>").addClass("table-item"),s=0;s<this.colNumber;s++){(a=$("<td>")).append("&nbsp;"),a.appendTo(o)}o.appendTo($(this.getContainer()))}}},e.prototype.createCell=function(t,e,n){this.cellCreator(t,e,n)},e}(n(40).Viewer);e.TableViewer=r;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.checkedElements=[],n}return i.__extends(e,t),e.prototype.setCheckStateProvider=function(t){this.checkStateProvider=t},e.prototype.getCheckStateProvider=function(){return this.checkStateProvider},e.prototype.getCheckedElements=function(){return this.checkedElements},e.prototype.createCell=function(e,n,i){var r=this;0==n?this.getCheckStateProvider().isCheckable(e)?$("<input>").attr("type","checkbox").change(function(t){$(this).prop("checked")?r.checkedElements.push(e):r.checkedElements.splice(r.checkedElements.indexOf(e),1),r.emit("checked",{selection:$(this).prop("checked"),element:e})}).appendTo(i):i.append("&nbsp;"):t.prototype.createCell.call(this,e,n,i)},e}(r);e.CheckboxTableViewer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(70),o=n(2).Properties.APPMSG,s=function(e){function r(t){var n=e.call(this,t)||this;return n.session=null,n.timeRangeDialog=null,n.timeRanges=[],n.setAllowUncheckAll(!1),n.setContentProvider({getElements:function(t,e){e(n.timeRanges)}}),n.setCheckStateProvider({isChecked:function(t){var e=n.session.getSelectedTimeRangeIndices();return null==e||0==e.length?-1!=t.index:-1!=e.indexOf(t.index)}}),n.setLabelProvider({getText:function(t){return-1==t.index?o.TimeRangeRun:t.range.getLabel()}}),n.setText(o.TimeRangeRun),n.setCheckListChangedListener(),n.on("selectionChanged",function(t){n.useCheckboxes()||n.selectOne(t)}),n}return i.__extends(r,e),r.prototype.setReadOnly=function(t){this.readOnly=t},r.prototype.setCheckListChangedListener=function(){var t=this;this.checkListChangedHandler=this.on("checkListChanged",function(e){t.checkListChanged(e)})},r.prototype.removeCheckListChangedListener=function(){this.checkListChangedHandler.remove()},r.prototype.checkListChanged=function(t){var e=this;setTimeout(function(){for(var n=[],i=0;i<t.length;i++)n.push(t[i].index);e.session.setSelectedTimeRangeIndices(n),e.updateTextTitle()},20)},r.prototype.useCheckboxes=function(){return!this.session.getAgentsManager().isCompare()&&0==this.session.getSelectedSessions().length},r.prototype.updateTextTitle=function(){var t=this.session.getSelectedTimeRangeIndices();null==t||0==t.length?this.setText(o.AllTimeRanges):1==t.length?-1==t[0]?this.setText(o.TimeRangeRun):this.setText(this.session.timeRanges.get(t[0]).getLabel()):this.setText(o.TRS_InCompareMode)},r.prototype.updateTimeRanges=function(){this.timeRanges=[],this.timeRanges.push({name:o.TimeRangeRun,index:-1,range:null});for(var t=0;t<this.session.timeRanges.list().length;t++)this.timeRanges.push({name:this.session.timeRanges.get(t).getLabel(),index:t,range:this.session.timeRanges.get(t)})},r.prototype.setSession=function(t){var e=this;this.setInput(t),this.session=t,this.session.on("timeRangesChanged",function(){e.updateTimeRanges()}),this.session.on("selectedTimeRangesChanged",function(){e.updateTextTitle()}),null!=this.timeRangeDialog&&this.timeRangeDialog.setSession(t),this.updateTimeRanges(),this.updateTextTitle()},r.prototype.drawFooterList=function(t){var e=this,n=function(t,e,n){return $("<button>").text(e).appendTo($(t)).button().button("option","disabled",n)};n(t,"+",this.readOnly).click(function(){e.openTimeRangeDialog(function(){e.timeRangeDialog.add()})});n(t,o.ManageButton_label,this.readOnly).click(function(){e.openTimeRangeDialog()});var i=this.session.getAgentsManager().isCompare(),r=0!=this.session.getSelectedSessions().length,s=n(t,o.SelectAllButton_label,i||r||1==this.timeRanges.length);i||r?s.attr("title",i?o.TimeRangeCompareConflictHosts:o.TimeRangeCompareConflictSessions):s.attr("title",o.SelectAllButton_tooltip).click(function(t){e.session.setSelectedTimeRangeIndices([]),e.updateCheckState()})},r.prototype.drawListItem=function(t,n,i){var r=this;if(e.prototype.drawListItem.call(this,t,n,i),this.useCheckboxes()){var s=$("<mark>").addClass("select-one decoration").css("visibility","hidden").appendTo($(t));$("<a>").text(o.TRS_SelectThis).appendTo($(s)).click(function(t){t.preventDefault(),r.selectOne(n)}),$(t).hover(function(){$(t).find("mark.select-one").css("visibility","visible")},function(){$(t).find("mark.select-one").css("visibility","hidden")})}},r.prototype.selectOne=function(t){this.closeComboList(),this.session.setSelectedTimeRangeIndices([t.index])},r.prototype.openTimeRangeDialog=function(e){var i=this;null!=this.timeRangeDialog?(this.timeRangeDialog.open(),e&&e()):n.e(2).then(function(){(function(t){var r=[n(273)];(function(t){i.timeRangeDialog=new t.TimeRangeDialog,i.timeRangeDialog.setSession(i.session),i.timeRangeDialog.open(),e&&e()}).apply(null,r)}).call(this,n(15)(t))}).catch(n.oe)},r.prototype.getTimeRangeDialog=function(){return this.timeRangeDialog},r}(r.CheckboxDropDownList);e.TimeRangeSelector=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(70),o=n(31),s=n(2).Properties.APPMSG,a=function(e){function r(t){var n=e.call(this,t)||this;return n.sessionSetDialog=null,n.session=null,n.readOnly=!0,n.heights=[],n.setTextForEmptyList(s.EmptySessionSelector_helper),n.setContentProvider({getElements:function(t,e){e(t.sessionSet.sessions)}}),n.setCheckStateProvider({isChecked:function(t){return n.session.sessionSet.isChecked(t)}}),n.setLabelProvider(new o.SessionLabelProvider),n.setCheckListChangedListener(),n.on("opened",function(t){if(n.width)$(n.commentText).width(n.width),$(n.commentText).height(n.heights[0]),$(n.tagsText).width(n.width),$(n.tagsText).height(n.heights[1]);else{var e=$(t).width()-3;$(n.commentText).width(e),$(n.tagsText).width(e)}}),n}return i.__extends(r,e),r.prototype.setCheckListChangedListener=function(){var t=this;this.checkListChangedHandler=this.on("checkListChanged",function(e){t.checkListChanged(e)})},r.prototype.removeCheckListChangedListener=function(){this.checkListChangedHandler.remove()},r.prototype.checkListChanged=function(t){var e=this;setTimeout(function(){e.session.sessionSet.setSelection(t)},20)},r.prototype.setReadOnly=function(t){this.readOnly=t},r.prototype.drawFooterList=function(t){var e=this,n=function(t,e){return $("<button>").text(e).appendTo($(t)).button()};this.add_button=n(t,"+").click(function(){e.addSession()}),this.manage_button=n(t,s.ManageButton_label).click(function(){e.openSessionSetDialog()}),this.selectAll_button=n(t,s.SelectAllButton_label).click(function(t){e.session.sessionSet.setSelection(e.session.sessionSet.sessions),e.updateCheckState()}),this.updateButtonState()},r.prototype.drawHeaderList=function(t){var e=this;if(!this.readOnly){var n=function(n,i,r,o){var s=$("<textarea>");i?s.text(i):s.attr("placeholder",n),s.appendTo($(t)),s.change(function(){o(s.val())}),s.mouseup(function(){e.heights[r]=$(e.commentText).height(),e.width=$(e.commentText).width()})};n(s.EnterYourComment,this.session.getUserComment(),0,function(t){return e.session.setUserComment(t)}),n(s.EnterTags,this.session.getTags(),1,function(t){return e.session.setTags(t)})}},r.prototype.updateButtonState=function(){this.add_button.button("option","disabled",this.readOnly),this.manage_button.button("option","disabled",this.readOnly||0==this.session.sessionSet.count()),this.selectAll_button.button("option","disabled",0==this.session.sessionSet.count())},r.prototype.addSession=function(){var t=this,e=this;this.session_selector?this.session_selector.select():n.e(8).then(function(){var i=[n(274),n(37)];(function(n,i){t.session_selector=new n.SessionSelectorDialog(e.session.sessionSet),t.session_selector.on("selected",function(t){if(null!=e.session){var n=new i.Session(t.path+"/"+t.name);n.setOn(),n.modelAvailable().then(function(){e.session.sessionSet.add(n)})}}),t.session_selector.select()}).apply(null,i)}).catch(n.oe)},r.prototype.setSession=function(t){this.session=t,this.setInput(t),this.width=void 0,this.heights=[]},r.prototype.openSessionSetDialog=function(e){if(null!=this.sessionSetDialog)this.sessionSetDialog.setSession(this.session),this.sessionSetDialog.open(),e&&e();else{var i=this;n.e(3).then(function(){(function(t){var r=[n(275)];(function(t){i.sessionSetDialog=new t.SessionSetDialog,i.sessionSetDialog.setSession(i.session),i.sessionSetDialog.open(),e&&e()}).apply(null,r)}).call(this,n(15)(t))}).catch(n.oe)}},r}(r.CheckboxDropDownList);e.SessionSetComposer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(70),o=n(2).Properties.APPMSG,s=function(t){function e(e){var n=t.call(this,e)||this;return n.setVisible(!1),n.manager=null,n.setAllowUncheckAll(!1),n.setContentProvider({getElements:function(t,e){e(t.getActivePresentation().getItems())}}),n.setCheckStateProvider({isChecked:function(t){return n.manager.getActivePresentation().isEnabled(t)}}),n.setLabelProvider({getText:function(t){return n.manager.getActivePresentation().getLabel(t)}}),n.setText(n.getTitle()),n.setCheckListChangedListener(),n}return i.__extends(e,t),e.prototype.setCheckListChangedListener=function(){var t=this;this.checkListChangedHandler=this.on("checked",function(e){t.checkListChanged(e.item,e.selection)})},e.prototype.removeCheckListChangedListener=function(){this.checkListChangedHandler.remove()},e.prototype.checkListChanged=function(t,e){var n=this;setTimeout(function(){n.removeCheckListChangedListener(),n.manager.getActivePresentation().setEnabled(t,e),n.setCheckListChangedListener()},20)},e.prototype.getTitle=function(){return this.manager?this.manager.getTitle():o.Hosts},e.prototype.setManager=function(t){var e=this;this.managerHandlers&&(this.managerHandlers.forEach(function(t){return t.remove()}),this.managerHandlers=null),this.setInput(t),this.manager=t,this.setVisible(null!=t),t&&(this.managerHandlers=[t.on("changed",function(t){(t.activePresentationChanged||t.presentationEvent&&(t.presentationEvent.itemsChanged||t.presentationEvent.enablementChanged))&&e.refreshList(),t.titleChanged&&e.setText(e.getTitle())})],this.setText(this.getTitle()))},e.prototype.drawListItem=function(e,n,i){t.prototype.drawListItem.call(this,e,n,i),e.addClass("host");var r=this.manager.getActivePresentation().getDescription(n);r&&e.attr("title",r)},e.prototype.drawHeaderList=function(t){var e=this.manager.getPresentations().filter(function(t){return t.isVisible()});if(!(e.length<2)){for(var n=$("<form>").addClass("host-grouping").appendTo($(t)),i=this,r=0;r<e.length;r++){var o=e[r];$('<input id="hostgrouping'+r+'" name="hostgrouping" value="'+o.getId()+'" type="radio">').appendTo($(n)).prop("checked",this.manager.getActivePresentation()==o).click(function(t){return function(e){e.stopPropagation(),$(this).prop("checked")&&i.manager.setActivePresentation(t)}}(o)),$("<label>").attr("for","hostgrouping"+r).text(o.getName()).appendTo($(n))}$(n).buttonset()}},e.prototype.drawFooterList=function(t){var e=this;if(!(this.list.length<2)){var n=this;$(t).addClass("host-compare"),$("<span>").text(o.Compare).appendTo($(t));var i=$("<label>").addClass("switch").appendTo($(t)),r=$('<input id="checkbox_compare" type="checkbox">').addClass("switch-input").appendTo($(i)).prop("checked",this.manager.isCompare()),s=$("<span>").addClass("switch-label").attr("data-on",o.On).attr("data-off",o.Off).appendTo($(i)),a=Math.max(o.On.length,o.Off.length);a>=14?s.addClass("megashrink"):a>=11&&s.addClass("shrink"),$("<span>").addClass("switch-handle").appendTo($(i)),this.manager.canSetCompare()?r.click(function(t){t.stopPropagation();var e=$(this).prop("checked");n.manager.setCompare(e)}):(r.attr("disabled","disabled"),i.attr("title",this.manager.getCompareDisabledReason()));(function(t,e){return $("<button>").text(e).appendTo($(t)).button()})(t,o.SelectAllButton_label).click(function(t){e.removeCheckListChangedListener(),e.manager.getActivePresentation().setEnabledAll(),e.setCheckListChangedListener()})}},e}(r.CheckboxDropDownList);e.AgentSelector=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.detect=function(t){var e=!1,n=$("<div>").attr("id","jsHighContrastDetect").css({background:'url("'+t+'")',width:"0px",height:"Opx"}).appendTo(document.body);return"none"==n.css("background-image")&&(e=!0),$(n).remove(),e},t}();e.HighContrastSystem=i},function(t,e,n){t.exports=n.p+"themes/current/color-theme.css"},function(t,e,n){t.exports=n.p+"themes/current/color-theme-rtcp.css"},function(t,e,n){t.exports=n.p+"themes/current/high-contrast.css"},function(t,e){},function(t,e){}]);